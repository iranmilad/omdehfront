(()=>{var e={26058:function(e,t,r){var a={"./af":"42786","./af.js":"42786","./ar":"30867","./ar-dz":"14130","./ar-dz.js":"14130","./ar-kw":"96135","./ar-kw.js":"96135","./ar-ly":"56440","./ar-ly.js":"56440","./ar-ma":"47702","./ar-ma.js":"47702","./ar-ps":"20315","./ar-ps.js":"20315","./ar-sa":"16040","./ar-sa.js":"16040","./ar-tn":"37100","./ar-tn.js":"37100","./ar.js":"30867","./az":"31083","./az.js":"31083","./be":"9808","./be.js":"9808","./bg":"68338","./bg.js":"68338","./bm":"67438","./bm.js":"67438","./bn":"8905","./bn-bd":"76225","./bn-bd.js":"76225","./bn.js":"8905","./bo":"11560","./bo.js":"11560","./br":"1278","./br.js":"1278","./bs":"80622","./bs.js":"80622","./ca":"2468","./ca.js":"2468","./cs":"5822","./cs.js":"5822","./cv":"50877","./cv.js":"50877","./cy":"47373","./cy.js":"47373","./da":"24780","./da.js":"24780","./de":"59740","./de-at":"60217","./de-at.js":"60217","./de-ch":"60894","./de-ch.js":"60894","./de.js":"59740","./dv":"5300","./dv.js":"5300","./el":"50837","./el.js":"50837","./en-au":"78348","./en-au.js":"78348","./en-ca":"77925","./en-ca.js":"77925","./en-gb":"22243","./en-gb.js":"22243","./en-ie":"46436","./en-ie.js":"46436","./en-il":"47207","./en-il.js":"47207","./en-in":"44175","./en-in.js":"44175","./en-nz":"76319","./en-nz.js":"76319","./en-sg":"31662","./en-sg.js":"31662","./eo":"92915","./eo.js":"92915","./es":"55655","./es-do":"55251","./es-do.js":"55251","./es-mx":"96112","./es-mx.js":"96112","./es-us":"71146","./es-us.js":"71146","./es.js":"55655","./et":"5603","./et.js":"5603","./eu":"77763","./eu.js":"77763","./fa":"76959","./fa.js":"76959","./fi":"11897","./fi.js":"11897","./fil":"42549","./fil.js":"42549","./fo":"94694","./fo.js":"94694","./fr":"94470","./fr-ca":"63049","./fr-ca.js":"63049","./fr-ch":"52330","./fr-ch.js":"52330","./fr.js":"94470","./fy":"5044","./fy.js":"5044","./ga":"29295","./ga.js":"29295","./gd":"2101","./gd.js":"2101","./gl":"38794","./gl.js":"38794","./gom-deva":"27884","./gom-deva.js":"27884","./gom-latn":"23168","./gom-latn.js":"23168","./gu":"95349","./gu.js":"95349","./he":"24206","./he.js":"24206","./hi":"30094","./hi.js":"30094","./hr":"30316","./hr.js":"30316","./hu":"22138","./hu.js":"22138","./hy-am":"11423","./hy-am.js":"11423","./id":"29218","./id.js":"29218","./is":"90135","./is.js":"90135","./it":"90626","./it-ch":"10150","./it-ch.js":"10150","./it.js":"90626","./ja":"39183","./ja.js":"39183","./jv":"24286","./jv.js":"24286","./ka":"12105","./ka.js":"12105","./kk":"47772","./kk.js":"47772","./km":"18758","./km.js":"18758","./kn":"79282","./kn.js":"79282","./ko":"33730","./ko.js":"33730","./ku":"1408","./ku-kmr":"90563","./ku-kmr.js":"90563","./ku.js":"1408","./ky":"33291","./ky.js":"33291","./lb":"36841","./lb.js":"36841","./lo":"55466","./lo.js":"55466","./lt":"57010","./lt.js":"57010","./lv":"37595","./lv.js":"37595","./me":"39861","./me.js":"39861","./mi":"35493","./mi.js":"35493","./mk":"95966","./mk.js":"95966","./ml":"87341","./ml.js":"87341","./mn":"5115","./mn.js":"5115","./mr":"10370","./mr.js":"10370","./ms":"9847","./ms-my":"41237","./ms-my.js":"41237","./ms.js":"9847","./mt":"72126","./mt.js":"72126","./my":"56165","./my.js":"56165","./nb":"64924","./nb.js":"64924","./ne":"16744","./ne.js":"16744","./nl":"93901","./nl-be":"59814","./nl-be.js":"59814","./nl.js":"93901","./nn":"83877","./nn.js":"83877","./oc-lnc":"92135","./oc-lnc.js":"92135","./pa-in":"15858","./pa-in.js":"15858","./pl":"64495","./pl.js":"64495","./pt":"89520","./pt-br":"57971","./pt-br.js":"57971","./pt.js":"89520","./ro":"96459","./ro.js":"96459","./ru":"21793","./ru.js":"21793","./sd":"40950","./sd.js":"40950","./se":"10490","./se.js":"10490","./si":"90124","./si.js":"90124","./sk":"64249","./sk.js":"64249","./sl":"14985","./sl.js":"14985","./sq":"51104","./sq.js":"51104","./sr":"49131","./sr-cyrl":"79915","./sr-cyrl.js":"79915","./sr.js":"49131","./ss":"95606","./ss.js":"95606","./sv":"98760","./sv.js":"98760","./sw":"91172","./sw.js":"91172","./ta":"27333","./ta.js":"27333","./te":"23110","./te.js":"23110","./tet":"52095","./tet.js":"52095","./tg":"27321","./tg.js":"27321","./th":"9041","./th.js":"9041","./tk":"19005","./tk.js":"19005","./tl-ph":"75768","./tl-ph.js":"75768","./tlh":"89444","./tlh.js":"89444","./tr":"72397","./tr.js":"72397","./tzl":"28254","./tzl.js":"28254","./tzm":"51106","./tzm-latn":"30699","./tzm-latn.js":"30699","./tzm.js":"51106","./ug-cn":"9288","./ug-cn.js":"9288","./uk":"67691","./uk.js":"67691","./ur":"13795","./ur.js":"13795","./uz":"6791","./uz-latn":"60588","./uz-latn.js":"60588","./uz.js":"6791","./vi":"65666","./vi.js":"65666","./x-pseudo":"14378","./x-pseudo.js":"14378","./yo":"75805","./yo.js":"75805","./zh-cn":"83839","./zh-cn.js":"83839","./zh-hk":"55726","./zh-hk.js":"55726","./zh-mo":"99807","./zh-mo.js":"99807","./zh-tw":"74152","./zh-tw.js":"74152"};function i(e){return r(l(e))}function l(e){if(!r.o(a,e)){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}i.keys=function(){return Object.keys(a)},i.resolve=l,e.exports=i,i.id=26058},74186:function(e,t,r){"use strict";var a=r(85893),i=r(20745),l=r(89102);r(36012);var s=r(68477),n=r(10545),o=r(19301);r(31925);var d=r(66857);r(43941);var c=r(20388),u=r(99469),m=r(81722),g=r(63296),p=r(67294),h=r(22263),x=r(78315);let b=function(){let e=(0,x.L)();return(0,p.useEffect)(()=>{e.online||h.N9.show({title:"خطا",color:"red",message:"ارتباط با اینترنت قطع شده است",autoClose:!0})},[e.online]),null};var f=r(62643),y=r(49982),j=r(63760),v=r(80430),C=r(92198);let w=v.Z.create({headers:{Accept:"application/json","Content-Type":"application/json"},responseType:"json",baseURL:"https://panel.j2b.market/api"});function k(e){let{url:t,params:r,queryKey:a,method:i="get",bodyData:l,axiosOption:s,queryOptions:n}=e;return(0,f.a)({queryKey:a,queryFn:async()=>{let{data:e}=await w.request({params:r,method:i,url:t,withCredentials:!1,data:l,...s});return(null==e?void 0:e.data)?null==e?void 0:e.data:e},staleTime:!1,refetchInterval:!1,retry:!1,retryOnMount:!1,refetchOnWindowFocus:!1,placeholderData:y.Wk,throwOnError:!1,...n})}w.interceptors.request.use(e=>{let t=C.Z.get("user");return e.headers.Authorization=`Bearer ${t}`,e},e=>{Promise.reject(e)}),w.interceptors.response.use(e=>e,e=>{if(e.response){let{status:t,data:r}=e.response;401===t&&C.Z.get("user")&&C.Z.remove("user")}else h.N9.show({title:"پیام سیستم",message:"ارتباط با سرور برقرار نشد.",color:"red"});return Promise.reject(e)});var S=r(76643),I=r(32799),z=r(81715),N=r(53953),D=r(30881),A=r(71116),F=r(68739),M=r(9732),T=r(34322);let P={xxs:(0,S.h)(300),xs:(0,S.h)(400),sm:(0,S.h)(500),md:(0,S.h)(600),lg:(0,S.h)(700),xl:(0,S.h)(800),xxl:(0,S.h)(1400),xxxl:"1720px"},E={fontFamily:"IranYekan, sans-serif",headings:{fontFamily:"IranYekan, sans-serif"},fontFamilyMonospace:"IranYekan, sans-serif",primaryColor:"brand",defaultRadius:"8px",primaryShade:5,colors:{brand:["#f0fde6","#e3f6d5","#c8ecad","#abe082","#93d75e","#83d146","#7ace39","#67b62a","#5aa221","#4a8c14"]},components:{Container:I.W.extend({vars:(e,t)=>{let{size:r,fluid:a}=t;return{root:{"--container-size":a?"100%":void 0!==r&&r in P?P[r]:(0,S.h)(r)}}},defaultProps:{size:"xxl"}}),Button:z.z.extend({defaultProps:{h:40}}),Paper:N.X.extend({defaultProps:{shadow:"md",p:"md"}}),Title:D.D.extend({defaultProps:{size:"md"}}),Loader:A.a.extend({defaultProps:{type:"dots"}}),Checkbox:F.X.extend({defaultProps:{radius:"sm"}}),NavLink:M.O.extend({styles:{chevron:{transform:"rotate(90deg)"}}}),Anchor:T.e.extend({defaultProps:{underline:"never"}})}};var _=r(22978);let L=(0,_.oM)({name:"basketInfo",initialState:{values:{name:"",family:"",postalCode:"",province:"",city:"",phone:"",email:"",note:"",nationalCode:"",address:""}},reducers:{updateBasketInfo:(e,t)=>{e.values=t.payload}}}),{updateBasketInfo:B}=L.actions,O=L.reducer,R=(0,_.oM)({name:"global",initialState:{loading:!1,bootstrap:{}},reducers:{setBootstrap:(e,t)=>{e.bootstrap=t.payload},toggleLoading:(e,t)=>{e.loading=!e.loading,e.loading?document.body.style.overflow="hidden":document.body.style.overflow=""}}}),{toggleLoading:W,setBootstrap:Z}=R.actions,U=R.reducer,$=(0,_.oM)({name:"editor",initialState:{mode:"components",title:""},reducers:{setComponents:(e,t)=>{e.mode="components"},setEdit:(e,t)=>{e.mode="edit"},setTitle:(e,t)=>{e.title=t.payload}}}),{setComponents:q,setEdit:K,setTitle:V}=$.actions,H=$.reducer,G=(0,_.oM)({name:"cart",initialState:{items:[]},reducers:{updateItem:(e,t)=>{let{productId:r,attributes:a,seller:i,count:l}=t.payload,s=e.items.find(e=>e.productId===r&&JSON.stringify(e.attributes)===JSON.stringify(a)&&e.seller.id===i.id);s?s.count=l:e.items.push({productId:r,attributes:a,seller:i,count:l})},removeItem:(e,t)=>{let{productId:r,attributes:a,seller:i}=t.payload;e.items=e.items.filter(e=>e.productId!==r||JSON.stringify(e.attributes)!==JSON.stringify(a)||e.seller.id!==i.id)},setInitial:(e,t)=>{Array.isArray(t.payload)?e.items=t.payload:e.items=[]},clearCart:e=>{e.items=[]}}}),{updateItem:X,removeItem:Y,setInitial:J,clearCart:Q}=G.actions,ee=G.reducer,et=e=>{let t="https://panel.j2b.market/api";if(!t)throw Error("API URL is not defined in the environment variables.");return`${t}${e}`},er=(0,_.hg)("auth/verifyToken",async(e,t)=>{let{rejectWithValue:r}=t,a=localStorage.getItem("user");try{let e=await fetch(et("/auth/verify-user"),{method:"GET",headers:new Headers({Authorization:`Bearer ${a}`,"Content-Type":"application/json"})});if(!e.ok){let t=await e.json().catch(()=>({}));return r((null==t?void 0:t.error)||"Failed to verify token")}return await e.json()}catch(e){return console.error("Network error:",e),r("Network error or server not responding")}}),ea=(0,_.hg)("auth/verifyTokenSilent",async(e,t)=>{let{rejectWithValue:r}=t;try{let e=localStorage.getItem("user"),t=await fetch("/auth/verify-user",{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!t.ok)return null;return await t.json()}catch(e){return null}}),ei=(0,_.oM)({name:"auth",initialState:{user:null,isVerified:null,loading:!0,error:null},reducers:{logout:e=>{e.user=null,e.isVerified=!1,e.error=null}},extraReducers:e=>{e.addCase(er.pending,e=>{e.loading=!0,e.error=null}).addCase(er.fulfilled,(e,t)=>{e.loading=!1,e.isVerified=t.payload.valid,e.user=t.payload.user}).addCase(er.rejected,(e,t)=>{e.loading=!1,e.isVerified=!1,e.error=t.payload})}}),{logout:el}=ei.actions,es=ei.reducer,en=(0,_.hg)("order/fetchFinalReceipt",async(e,t)=>{let{getState:r,rejectWithValue:a}=t,i=localStorage.getItem("user");try{let e=await fetch(et("/cart/getfinalreceipt"),{method:"GET",headers:new Headers({Authorization:`Bearer ${i}`,"Content-Type":"application/json"})});if(!e.ok){let t=await e.json().catch(()=>({}));return a((null==t?void 0:t.message)||"Failed to fetch receipt")}return await e.json()}catch(e){return console.error("Network error:",e),a("Network error or server not responding")}}),eo=(0,_.oM)({name:"orderfinalreceipt",initialState:{orderfinalreceipt:[],totalfinalreceipt:0,loadingfinalreceipt:!1,errorfinalreceipt:null},reducers:{clearOrderFinalReceipt:e=>{e.orderfinalreceipt=[],e.totalfinalreceipt=0,e.errorfinalreceipt=null}},extraReducers:e=>{e.addCase(en.pending,e=>{e.loadingfinalreceipt=!0,e.errorfinalreceipt=null}).addCase(en.fulfilled,(e,t)=>{e.loadingfinalreceipt=!1,e.orderfinalreceipt=t.payload||[],e.totalfinalreceipt=t.payload.totalPriceApply||0}).addCase(en.rejected,(e,t)=>{e.loadingfinalreceipt=!1,e.errorfinalreceipt=t.payload})}}),{clearOrderFinalReceipt:ed}=eo.actions,ec=eo.reducer,eu=e=>({200:"عملیات با موفقیت انجام شد.",201:"مورد با موفقیت ایجاد شد.",202:"درخواست پذیرفته شد، اما هنوز پردازش نشده است.",204:"هیچ محتوایی برای بازگشت وجود ندارد.",400:"درخواست نامعتبر است.",401:"دسترسی غیرمجاز! لطفاً وارد حساب خود شوید.",403:"شما مجاز به انجام این عملیات نیستید.",404:"مورد یافت نشد.",405:"روش درخواست مجاز نیست.",406:"محتوا مناسب درخواست نیست.",408:"درخواست شما با زمان تایم‌اوت مواجه شد.",409:"تداخل در درخواست! مورد تکراری است.",410:"مورد به طور دائم حذف شده است.",411:"درخواست نیاز به طول محتوا دارد.",412:"پیش‌نیازهای شرایطی برآورده نشده است.",413:"حجم درخواست بسیار زیاد است.",414:"آدرس URL درخواست خیلی طولانی است.",415:"فرمت محتوای درخواست پشتیبانی نمی‌شود.",416:"محدوده درخواست نامعتبر است.",417:"انتظارات درخواست برآورده نشد.",422:"خطای اعتبارسنجی داده‌ها.",429:"بیش از حد مجاز درخواست ارسال شده است.",500:"خطای داخلی سرور! لطفاً بعداً تلاش کنید.",501:"ویژگی مورد نظر پشتیبانی نمی‌شود.",502:"مشکلی در ارتباط با سرور پیش آمده است.",503:"سرویس در دسترس نیست! لطفاً بعداً امتحان کنید.",504:"زمان تایم‌اوت گیت‌وی سرور تمام شد.",505:"نسخه HTTP پشتیبانی نمی‌شود."})[e]||"خطای نامشخص رخ داده است.",em=(0,_.hg)("cart/updateFinalReceiptWithDiscount",async(e,t)=>{let{discountCode:r}=e,{rejectWithValue:a}=t,i=localStorage.getItem("user");try{let e=await fetch(et("/cart/updatefinalreceipt"),{method:"POST",headers:new Headers({Authorization:`Bearer ${i}`,"Content-Type":"application/json"}),body:JSON.stringify({discountCode:r})});if(!e.ok){let t=await e.json().catch(()=>({})),r={status:e.status,message:(null==t?void 0:t.message)||eu(e.status)};return a(r)}return await e.json()}catch(e){return console.error("Network error:",e),a("Network error or server not responding")}}),eg=(0,_.oM)({name:"cartFinalReceiptUpdate",initialState:{cartfinalreceiptDiscount:[],totalfinalreceiptDiscount:0,loadingUpdateDiscount:!1,errorUpdateDiscount:null},reducers:{clearCartFinalReceiptUpdate:e=>{e.cartfinalreceiptDiscount=[],e.totalfinalreceiptDiscount=0,e.errorUpdateDiscount=null}},extraReducers:e=>{e.addCase(em.pending,e=>{e.loadingUpdateDiscount=!0,e.errorUpdateDiscount=null}).addCase(em.fulfilled,(e,t)=>{e.loadingUpdateDiscount=!1,e.cartfinalreceiptDiscount=t.payload||[],e.totalfinalreceiptDiscount=t.payload.totalPriceApply||0}).addCase(em.rejected,(e,t)=>{e.loadingUpdateDiscount=!1,e.errorUpdateDiscount=t.payload,e.message=t.payload.message})}}),{clearCartFinalReceiptUpdate:ep}=eg.actions,eh=eg.reducer,ex=(0,_.hg)("cart/updateFinalReceiptDeleteDiscountCode",async(e,t)=>{let{discountCode:r}=e,{rejectWithValue:a}=t,i=localStorage.getItem("user");try{let e=await fetch(et("/cart/removeDiscount"),{method:"POST",headers:{"Content-Type":"application/json"},headers:new Headers({Authorization:`Bearer ${i}`,"Content-Type":"application/json"}),body:JSON.stringify({discountCode:r})});if(!e.ok){let t=await e.json().catch(()=>({})),r={status:e.status,message:(null==t?void 0:t.message)||eu(e.status)};return a(r)}return await e.json()}catch(e){return console.error("Network error:",e),a("Network error or server not responding")}}),eb=(0,_.oM)({name:"cartFinalReceiptUpdateDelete",initialState:{cartfinalreceiptDiscountDelete:[],totalfinalreceiptDiscountDelete:0,loadingUpdateDiscountDelete:!1,errorUpdateDiscountDelete:null},reducers:{clearCartFinalReceiptUpdateDelete:e=>{e.cartfinalreceiptDiscountDelete=[],e.totalfinalreceiptDiscountDelete=0,e.errorUpdateDiscountDelete=null}},extraReducers:e=>{e.addCase(ex.pending,e=>{e.loadingUpdateDiscountDelete=!0,e.errorUpdateDiscountDelete=null}).addCase(ex.fulfilled,(e,t)=>{e.loadingUpdateDiscountDelete=!1,e.cartfinalreceiptDiscountDelete=t.payload||[],e.totalfinalreceiptDiscountDelete=t.payload.totalPriceApply||0}).addCase(ex.rejected,(e,t)=>{e.loadingUpdateDiscountDelete=!1,e.errorUpdateDiscountDelete=t.payload})}}),{clearCartFinalReceiptUpdateDelete:ef}=eb.actions,ey=eb.reducer,ej=(0,_.hg)("cart/updateFinalReceiptPaymentMethod",async(e,t)=>{let{paymentMethod:r}=e,{rejectWithValue:a}=t,i=localStorage.getItem("user");try{let e=await fetch(et("/cart/updatefinalreceiptgateway"),{method:"POST",headers:{"Content-Type":"application/json"},headers:new Headers({Authorization:`Bearer ${i}`,"Content-Type":"application/json"}),body:JSON.stringify({paymentMethod:r})});if(!e.ok){let t=await e.json().catch(()=>({}));return a((null==t?void 0:t.message)||"Failed to update payment method")}return await e.json()}catch(e){return console.error("Network error:",e),a("Network error or server not responding")}}),ev=(0,_.oM)({name:"cartFinalReceiptUpdateGateway",initialState:{paymentMethod:null,loading:!1,error:null},reducers:{clearPaymentMethodUpdate:e=>{e.paymentMethod=null,e.error=null}},extraReducers:e=>{e.addCase(ej.pending,e=>{e.loading=!0,e.error=null}).addCase(ej.fulfilled,(e,t)=>{e.loading=!1,e.paymentMethod=t.payload.paymentMethod||null}).addCase(ej.rejected,(e,t)=>{e.loading=!1,e.error=t.payload})}}),{clearPaymentMethodUpdate:eC}=ev.actions,ew=ev.reducer,ek=(0,_.oM)({name:"userAlertInfo",initialState:{alertType:"",price:"",inventory:"",supplierSelection:"all",selectedSuppliers:[],sms:!0,email:!1},reducers:{setAlertInfo:(e,t)=>{let{alertType:r,price:a,inventory:i,supplierSelection:l,selectedSuppliers:s,sms:n,email:o}=t.payload;e.alertType=r||e.alertType,e.price=a||e.price,e.inventory=i||e.inventory,e.supplierSelection=l||e.supplierSelection,e.selectedSuppliers=s||e.selectedSuppliers,e.sms=n??e.sms,e.email=o??e.email},resetAlertInfo:e=>{}}}),{setAlertInfo:eS,resetAlertInfo:eI}=ek.actions,ez=ek.reducer,eN=(0,_.hg)("user/fetchUserInfo",async(e,t)=>{let{rejectWithValue:r}=t,a=localStorage.getItem("user");try{let e=await fetch(et("/users/getuserinfo"),{method:"GET",headers:{"Content-Type":"application/json"},headers:new Headers({Authorization:`Bearer ${a}`,"Content-Type":"application/json"})});if(!e.ok){let t=await e.json().catch(()=>({}));return r((null==t?void 0:t.message)||"Failed to fetch user info")}return await e.json()}catch(e){return r("Network error or server not responding")}}),eD=(0,_.oM)({name:"user",initialState:{userInfo:null,loadingUserInfo:!1,errorUserInfo:null},reducers:{clearUserInfo:e=>{e.userInfo=null,e.errorUserInfo=null}},extraReducers:e=>{e.addCase(eN.pending,e=>{e.loadingUserInfo=!0,e.errorUserInfo=null}).addCase(eN.fulfilled,(e,t)=>{e.loadingUserInfo=!1,e.userInfo=t.payload||null}).addCase(eN.rejected,(e,t)=>{e.loadingUserInfo=!1,e.errorUserInfo=t.payload})}}),{clearUserInfo:eA}=eD.actions,eF=eD.reducer,eM=(0,_.hg)("payment/getPaymentLink",async(e,t)=>{let{paymentRequestData:r,orderTracking:a}=e,{rejectWithValue:i}=t,l=localStorage.getItem("user");try{let e=await fetch(et("/payment/getpaymentlink"),{method:"POST",headers:{"Content-Type":"application/json"},headers:new Headers({Authorization:`Bearer ${l}`,"Content-Type":"application/json"}),body:JSON.stringify({orderId:r.paymentData.orderId})});if(!e.ok){let t=await e.json().catch(()=>({}));return i((null==t?void 0:t.message)||"Failed to retrieve payment link")}return await e.json()}catch(e){return console.error("Network error:",e),i("Network error or server not responding")}}),eT=(0,_.oM)({name:"getpaymentlink",initialState:{paymentLink:null,loading:!1,error:null},reducers:{clearPaymentLinkState:e=>{e.paymentLink=null,e.error=null}},extraReducers:e=>{e.addCase(eM.pending,e=>{e.loading=!0,e.error=null}).addCase(eM.fulfilled,(e,t)=>{e.loading=!1,e.paymentLink=t.payload||null}).addCase(eM.rejected,(e,t)=>{e.loading=!1,e.error=t.payload})}}),{clearPaymentLinkState:eP}=eT.actions,eE=eT.reducer,e_=(0,_.hg)("payment/verifyPayment",async(e,t)=>{let{order_id:r}=e,{rejectWithValue:a}=t;try{let e=await fetch(et(`/payment/checkpaymentstatus/${r}`),{method:"POST",headers:{"Content-Type":"application/json"}});if(!e.ok){let t=await e.json().catch(()=>({}));return a((null==t?void 0:t.message)||"Payment verification failed")}return await e.json()}catch(e){return console.error("Network error:",e),a("Network error or server not responding")}});(0,_.hg)("payment/verifyPaymentWithBody",async(e,t)=>{let{receiptId:r}=e,{rejectWithValue:a}=t;try{let e=await fetch(et("/payment/checkpaymentstatus"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({order_id:r})});if(!e.ok){let t=await e.json().catch(()=>({}));return a((null==t?void 0:t.message)||"Payment verification failed")}return await e.json()}catch(e){return console.error("Network error:",e),a("Network error or server not responding")}});let eL=(0,_.oM)({name:"verifypayment",initialState:{paymentStatus:null,loading:!1,error:null},reducers:{clearVerifyPaymentState:e=>{e.paymentStatus=null,e.error=null}},extraReducers:e=>{e.addCase(e_.pending,e=>{e.loading=!0,e.error=null}).addCase(e_.fulfilled,(e,t)=>{e.loading=!1,e.paymentStatus=t.payload||null}).addCase(e_.rejected,(e,t)=>{e.loading=!1,e.error=t.payload})}}),{clearVerifyPaymentState:eB}=eL.actions,eO=eL.reducer,eR=(0,_.hg)("homePageProducts/batchImport",async(e,t)=>{let{products:r}=e,{rejectWithValue:a}=t;try{let e=await fetch(et("/products/batch-import"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({products:r})});if(!e.ok){let t=await e.json().catch(()=>({}));return a((null==t?void 0:t.message)||"Failed to batch import products")}return await e.json()}catch(e){return console.error("Network error:",e),a("Network error or server not responding")}}),eW=(0,_.oM)({name:"homePageProducts",initialState:{products:[],loading:!1,error:null,successMessage:null},reducers:{clearHomePageProductsState:e=>{e.products=[],e.loading=!1,e.error=null,e.successMessage=null}},extraReducers:e=>{e.addCase(eR.pending,e=>{e.loading=!0,e.error=null,e.successMessage=null}).addCase(eR.fulfilled,(e,t)=>{e.loading=!1,e.products=t.payload.products||[],e.successMessage=t.payload.message||"Products imported successfully!"}).addCase(eR.rejected,(e,t)=>{e.loading=!1,e.error=t.payload})}}),{clearHomePageProductsState:eZ}=eW.actions,eU=eW.reducer,e$=(0,_.hg)("homePageBanners/batchImport",async(e,t)=>{let{banners:r}=e,{rejectWithValue:a}=t;try{let e=await fetch(et("/master-dash/banners/batch-import"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({banners:r})});if(!e.ok){let t=await e.json().catch(()=>({}));return a((null==t?void 0:t.message)||"Failed to batch import banners")}return await e.json()}catch(e){return console.error("Network error:",e),a("Network error or server not responding")}}),eq=(0,_.oM)({name:"homePageBanners",initialState:{banners:[],loading:!1,error:null,successMessage:null},reducers:{clearHomePageBannersState:e=>{e.banners=[],e.loading=!1,e.error=null,e.successMessage=null}},extraReducers:e=>{e.addCase(e$.pending,e=>{e.loading=!0,e.error=null,e.successMessage=null}).addCase(e$.fulfilled,(e,t)=>{e.loading=!1,e.banners=t.payload.banners||[],e.successMessage=t.payload.message||"Banners imported successfully!"}).addCase(e$.rejected,(e,t)=>{e.loading=!1,e.error=t.payload})}}),{clearHomePageBannersState:eK}=eq.actions,eV=eq.reducer,eH=(0,_.hg)("homePageBrands/batchImport",async(e,t)=>{let{brands:r}=e,{rejectWithValue:a}=t;try{let e=await fetch(et("/master-dash/brands/batch-import"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({brands:r})});if(!e.ok){let t=await e.json().catch(()=>({}));return a((null==t?void 0:t.message)||"Failed to batch import brands")}return await e.json()}catch(e){return console.error("Network error:",e),a("Network error or server not responding")}}),eG=(0,_.oM)({name:"homePageBrands",initialState:{brands:[],loading:!1,error:null,successMessage:null},reducers:{clearHomePageBrandsState:e=>{e.brands=[],e.loading=!1,e.error=null,e.successMessage=null}},extraReducers:e=>{e.addCase(eH.pending,e=>{e.loading=!0,e.error=null,e.successMessage=null}).addCase(eH.fulfilled,(e,t)=>{e.loading=!1,e.brands=t.payload.brands||[],e.successMessage=t.payload.message||"Brands imported successfully!"}).addCase(eH.rejected,(e,t)=>{e.loading=!1,e.error=t.payload})}}),{clearHomePageBrandsState:eX}=eG.actions,eY=eG.reducer,eJ=(0,_.hg)("homePageCategories/batchImport",async(e,t)=>{let{categories:r}=e,{rejectWithValue:a}=t;try{let e=await fetch(et("/master-dash/categories/batch-import"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({categories:r})});if(!e.ok){let t=await e.json().catch(()=>({}));return a((null==t?void 0:t.message)||"Failed to batch import categories")}return await e.json()}catch(e){return console.error("Network error:",e),a("Network error or server not responding")}}),eQ=(0,_.oM)({name:"homePageCategories",initialState:{categories:[],loading:!1,error:null,successMessage:null},reducers:{clearHomePageCategoriesState:e=>{e.categories=[],e.loading=!1,e.error=null,e.successMessage=null}},extraReducers:e=>{e.addCase(eJ.pending,e=>{e.loading=!0,e.error=null,e.successMessage=null}).addCase(eJ.fulfilled,(e,t)=>{e.loading=!1,e.categories=t.payload.categories||[],e.successMessage=t.payload.message||"Categories imported successfully!"}).addCase(eJ.rejected,(e,t)=>{e.loading=!1,e.error=t.payload})}}),{clearHomePageCategoriesState:e0}=eQ.actions,e1=eQ.reducer,e6=(0,_.hg)("productComments/batchImport",async(e,t)=>{let{productComments:r}=e,{rejectWithValue:a}=t;try{let e=await fetch(et("/master-dash/product-comments/batch-import"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({productComments:r})});if(!e.ok){let t=await e.json().catch(()=>({}));return a((null==t?void 0:t.message)||"Failed to batch import product comments")}return await e.json()}catch(e){return console.error("Network error:",e),a("Network error or server not responding")}}),e2=(0,_.oM)({name:"productComments",initialState:{comments:[],loading:!1,error:null,successMessage:null},reducers:{clearProductCommentsState:e=>{e.comments=[],e.loading=!1,e.error=null,e.successMessage=null}},extraReducers:e=>{e.addCase(e6.pending,e=>{e.loading=!0,e.error=null,e.successMessage=null}).addCase(e6.fulfilled,(e,t)=>{e.loading=!1,e.comments=t.payload.productComments||[],e.successMessage=t.payload.message||"Product comments imported successfully!"}).addCase(e6.rejected,(e,t)=>{e.loading=!1,e.error=t.payload})}}),{clearProductCommentsState:e4}=e2.actions,e3=e2.reducer,e5=(0,_.hg)("authMaster/verifyMasterToken",async(e,t)=>{let{rejectWithValue:r}=t,a=localStorage.getItem("user_master");try{let e=await fetch(et("/auth/verify-token-master"),{method:"GET",headers:new Headers({Authorization:`Bearer ${a}`,"Content-Type":"application/json"})});if(!e.ok){let t=await e.json().catch(()=>({}));return r((null==t?void 0:t.message)||"Failed to verify master token")}return await e.json()}catch(e){return console.error("Network error:",e),r("Network error or server not responding")}}),e8=(0,_.oM)({name:"authMaster",initialState:{user_master:null,isVerifiedMaster:null,loadingMaster:!1,errorMaster:null},reducers:{logout:e=>{e.user_master=null,e.isVerifiedMaster=!1,e.errorMaster=null}},extraReducers:e=>{e.addCase(e5.pending,e=>{e.loadingMaster=!0,e.errorMaster=null}).addCase(e5.fulfilled,(e,t)=>{e.loadingMaster=!1,e.isVerifiedMaster=t.payload.valid,e.user_master=t.payload.user}).addCase(e5.rejected,(e,t)=>{e.loadingMaster=!1,e.isVerifiedMaster=!1,e.errorMaster=t.payload})}}),{logout:e7}=e8.actions,e9=e8.reducer,te=(0,_.hg)("menu/batchImport",async(e,t)=>{let{menuData:r}=e,{rejectWithValue:a}=t;try{let e=await fetch(et("/master-dash/menu/add-full-menu"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({menuData:r})});if(!e.ok){let t=await e.json().catch(()=>({}));return a((null==t?void 0:t.message)||"Failed to batch import menu data")}return await e.json()}catch(e){return console.error("Network error:",e),a("Network error or server not responding")}}),tt=(0,_.oM)({name:"menu",initialState:{menu:null,loading:!1,error:null,successMessage:null},reducers:{clearMenuState:e=>{e.menu=null,e.loading=!1,e.error=null,e.successMessage=null}},extraReducers:e=>{e.addCase(te.pending,e=>{e.loading=!0,e.error=null,e.successMessage=null}).addCase(te.fulfilled,(e,t)=>{e.loading=!1,e.menu=t.payload.menu||null,e.successMessage=t.payload.message||"Menu imported successfully!"}).addCase(te.rejected,(e,t)=>{e.loading=!1,e.error=t.payload})}}),{clearMenuState:tr}=tt.actions,ta=tt.reducer,ti=(0,_.hg)("archives/batchImport",async(e,t)=>{let{archives:r}=e,{rejectWithValue:a}=t;try{let e=await fetch(et("/master-dash/archives/batch-import"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(r)});if(!e.ok){let t=await e.json().catch(()=>({}));return a((null==t?void 0:t.message)||"Failed to batch import archives")}return await e.json()}catch(e){return console.error("Network error:",e),a("Network error or server not responding")}}),tl=(0,_.oM)({name:"archives",initialState:{archives:[],loading:!1,error:null,successMessage:null},reducers:{clearArchiveState:e=>{e.archives=[],e.loading=!1,e.error=null,e.successMessage=null}},extraReducers:e=>{e.addCase(ti.pending,e=>{e.loading=!0,e.error=null,e.successMessage=null}).addCase(ti.fulfilled,(e,t)=>{e.loading=!1,e.archives=t.payload.archives||[],e.successMessage=t.payload.message||"Archives imported successfully!"}).addCase(ti.rejected,(e,t)=>{e.loading=!1,e.error=t.payload})}}),{clearArchiveState:ts}=tl.actions,tn=tl.reducer,to=(0,_.hg)("trendProducts/batchImport",async(e,t)=>{let{trendProducts:r}=e,{rejectWithValue:a}=t;try{let e=await fetch(et("/master-dash/trendproducts/batch-import"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({products:r})});if(!e.ok){let t=await e.json().catch(()=>({}));return a((null==t?void 0:t.message)||"Failed to batch import trend products")}return await e.json()}catch(e){return console.error("Network error:",e),a("Network error or server not responding")}}),td=(0,_.oM)({name:"homePageTrendProducts",initialState:{trendProducts:[],loading:!1,error:null,successMessage:null},reducers:{clearTrendProductsState:e=>{e.trendProducts=[],e.loading=!1,e.error=null,e.successMessage=null}},extraReducers:e=>{e.addCase(to.pending,e=>{e.loading=!0,e.error=null,e.successMessage=null}).addCase(to.fulfilled,(e,t)=>{e.loading=!1,e.trendProducts=t.payload.products||[],e.successMessage=t.payload.message||"Trend products imported successfully!"}).addCase(to.rejected,(e,t)=>{e.loading=!1,e.error=t.payload})}}),{clearTrendProductsState:tc}=td.actions,tu=td.reducer,tm=(0,_.hg)("homePageProductGrids/batchImport",async(e,t)=>{let{productGrid:r}=e,{rejectWithValue:a}=t;try{let e=await fetch(et("/master-dash/productgrids/batch-import"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({productGrid:r})});if(!e.ok){let t=await e.json().catch(()=>({}));return a((null==t?void 0:t.message)||"Failed to batch import product grids")}return await e.json()}catch(e){return console.error("Network error:",e),a("Network error or server not responding")}}),tg=(0,_.oM)({name:"homePageProductGrids",initialState:{productGrids:[],loading:!1,error:null,successMessage:null},reducers:{clearHomePageProductGridsState:e=>{e.productGrids=[],e.loading=!1,e.error=null,e.successMessage=null}},extraReducers:e=>{e.addCase(tm.pending,e=>{e.loading=!0,e.error=null,e.successMessage=null}).addCase(tm.fulfilled,(e,t)=>{e.loading=!1,e.productGrids=t.payload.productGrids||[],e.successMessage=t.payload.message||"Product grids imported successfully!"}).addCase(tm.rejected,(e,t)=>{e.loading=!1,e.error=t.payload})}}),{clearHomePageProductGridsState:tp}=tg.actions,th=tg.reducer,tx=(0,_.hg)("userMessages/batchImport",async(e,t)=>{let{messages:r}=e,{rejectWithValue:a}=t;try{let e=await fetch(et("/master-dash/user-messages/batch-import"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({messages:r})});if(!e.ok){let t=await e.json().catch(()=>({}));return a((null==t?void 0:t.message)||"Failed to batch import user messages")}return await e.json()}catch(e){return console.error("Network error:",e),a("Network error or server not responding")}}),tb=(0,_.oM)({name:"userMessages",initialState:{messages:[],loading:!1,error:null,successMessage:null},reducers:{clearUserMessagesState:e=>{e.messages=[],e.loading=!1,e.error=null,e.successMessage=null}},extraReducers:e=>{e.addCase(tx.pending,e=>{e.loading=!0,e.error=null,e.successMessage=null}).addCase(tx.fulfilled,(e,t)=>{e.loading=!1,e.messages=t.payload.messages||[],e.successMessage=t.payload.message||"User messages imported successfully!"}).addCase(tx.rejected,(e,t)=>{e.loading=!1,e.error=t.payload})}}),{clearUserMessagesState:tf}=tb.actions,ty=tb.reducer,tj=(0,_.hg)("myAccountTickets/batchImport",async(e,t)=>{let{tickets:r}=e,{rejectWithValue:a}=t;try{let e=await fetch(et("/master-dash/tickets/batch-import"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({tickets:r})});if(!e.ok){let t=await e.json().catch(()=>({}));return a((null==t?void 0:t.message)||"Failed to batch import tickets")}return await e.json()}catch(e){return console.error("Network error:",e),a("Network error or server not responding")}}),tv=(0,_.oM)({name:"myAccountTickets",initialState:{tickets:[],loading:!1,error:null,successMessage:null},reducers:{clearMyAccountTicketsState:e=>{e.tickets=[],e.loading=!1,e.error=null,e.successMessage=null}},extraReducers:e=>{e.addCase(tj.pending,e=>{e.loading=!0,e.error=null,e.successMessage=null}).addCase(tj.fulfilled,(e,t)=>{e.loading=!1,e.tickets=t.payload.tickets||[],e.successMessage=t.payload.message||"Tickets imported successfully!"}).addCase(tj.rejected,(e,t)=>{e.loading=!1,e.error=t.payload})}}),{clearMyAccountTicketsState:tC}=tv.actions,tw=tv.reducer,tk=(0,_.hg)("subscriptions/batchImport",async(e,t)=>{let{subscriptions:r}=e,{rejectWithValue:a}=t;try{let e=await fetch(et("/master-dash/subscriptions/batch-import"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({subscriptions:r})});if(!e.ok){let t=await e.json().catch(()=>({}));return a((null==t?void 0:t.message)||"Failed to batch import subscriptions")}return await e.json()}catch(e){return console.error("Network error:",e),a("Network error or server not responding")}}),tS=(0,_.oM)({name:"subscriptions",initialState:{plans:[],loading:!1,error:null,successMessage:null},reducers:{clearSubscriptionsState:e=>{e.plans=[],e.loading=!1,e.error=null,e.successMessage=null}},extraReducers:e=>{e.addCase(tk.pending,e=>{e.loading=!0,e.error=null,e.successMessage=null}).addCase(tk.fulfilled,(e,t)=>{e.loading=!1,e.plans=t.payload.subscriptions||[],e.successMessage=t.payload.message||"Subscriptions imported successfully!"}).addCase(tk.rejected,(e,t)=>{e.loading=!1,e.error=t.payload})}}),{clearSubscriptionsState:tI}=tS.actions,tz=tS.reducer,tN=(0,_.hg)("categoryFilters/batchImport",async(e,t)=>{let{categoryFilters:r}=e,{rejectWithValue:a}=t;try{let e=await fetch(et("/master-dash/categories/filters/batch-import"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({categoryFilters:r})});if(!e.ok){let t=await e.json().catch(()=>({}));return a((null==t?void 0:t.message)||"Failed to batch import category filters")}return await e.json()}catch(e){return console.error("Network error:",e),a("Network error or server not responding")}}),tD=(0,_.oM)({name:"categoryFilters",initialState:{filters:[],loading:!1,error:null,successMessage:null},reducers:{clearCategoryFiltersState:e=>{e.filters=[],e.loading=!1,e.error=null,e.successMessage=null}},extraReducers:e=>{e.addCase(tN.pending,e=>{e.loading=!0,e.error=null,e.successMessage=null}).addCase(tN.fulfilled,(e,t)=>{e.loading=!1,e.filters=t.payload.categoryFilters||[],e.successMessage=t.payload.message||"Category filters imported successfully!"}).addCase(tN.rejected,(e,t)=>{e.loading=!1,e.error=t.payload})}}),{clearCategoryFiltersState:tA}=tD.actions,tF=tD.reducer,tM=(0,_.hg)("order/getOrderByID",async(e,t)=>{let{orderId:r}=e,{rejectWithValue:a}=t,i=localStorage.getItem("user");try{let e=await fetch(et(`/orders/get/${r}`),{method:"GET",headers:{"Content-Type":"application/json"},headers:new Headers({Authorization:`Bearer ${i}`,"Content-Type":"application/json"})});if(!e.ok){let t=await e.json().catch(()=>({}));return a((null==t?void 0:t.message)||"Failed to retrieve order details")}return await e.json()}catch(e){return console.error("Network error:",e),a("Network error or server not responding")}}),tT=(0,_.oM)({name:"order",initialState:{order:null,loading:!1,error:null},reducers:{clearOrderState:e=>{e.order=null,e.error=null}},extraReducers:e=>{e.addCase(tM.pending,e=>{e.loading=!0,e.error=null}).addCase(tM.fulfilled,(e,t)=>{e.loading=!1,e.order=t.payload||null}).addCase(tM.rejected,(e,t)=>{e.loading=!1,e.error=t.payload})}}),{clearOrderState:tP}=tT.actions,tE=tT.reducer,t_=(0,_.hg)("order/orderStatusUpdate/updateOrderDelivered",async(e,t)=>{let{orderId:r,deliveredStatus:a}=e,{rejectWithValue:i}=t,l=localStorage.getItem("user");try{let e=await fetch(et(`/orders/updateorderstatus/${r}`),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({deliveredStatus:a}),headers:new Headers({Authorization:`Bearer ${l}`,"Content-Type":"application/json"})});if(!e.ok){let t=await e.json().catch(()=>({}));return i((null==t?void 0:t.message)||"Failed to update order delivery status")}return await e.json()}catch(e){return console.error("Network error:",e),i("Network error or server not responding")}}),tL=(0,_.oM)({name:"orderStatusUpdate",initialState:{order:null,loadingStatusUpdate:!1,errorStatusUpdate:null,deliveredStatus:null},reducers:{clearOrderStatusUpdateState:e=>{e.order=null,e.deliveredStatus=null,e.errorStatusUpdate=null}},extraReducers:e=>{e.addCase(t_.pending,e=>{e.loadingStatusUpdate=!0,e.errorStatusUpdate=null}).addCase(t_.fulfilled,(e,t)=>{var r;e.loadingStatusUpdate=!1,e.deliveredStatus=(null==(r=t.payload)?void 0:r.deliveredStatus)||null}).addCase(t_.rejected,(e,t)=>{e.loadingStatusUpdate=!1,e.errorStatusUpdate=t.payload})}}),{clearOrderStatusUpdateState:tB}=tL.actions,tO=tL.reducer,tR=(0,_.hg)("orders/getAllOrdersByUserId",async(e,t)=>{let{rejectWithValue:r}=t,a=localStorage.getItem("user");try{let e=await fetch(et("/orders/allordersbyuserid"),{method:"GET",headers:{"Content-Type":"application/json"},headers:new Headers({Authorization:`Bearer ${a}`,"Content-Type":"application/json"})});if(!e.ok){let t=await e.json().catch(()=>({}));return r((null==t?void 0:t.message)||"Failed to retrieve orders")}return await e.json()}catch(e){return console.error("Network error:",e),r("Network error or server not responding")}}),tW=(0,_.oM)({name:"allOrdersByUserId",initialState:{ordersByUserId:[],loadingOrdersByUserId:!1,errorOrdersByUserId:null},reducers:{clearOrdersState:e=>{e.ordersByUserId=[],e.errorOrdersByUserId=null}},extraReducers:e=>{e.addCase(tR.pending,e=>{e.loadingOrdersByUserId=!0,e.errorOrdersByUserId=null}).addCase(tR.fulfilled,(e,t)=>{e.loadingOrdersByUserId=!1,e.ordersByUserId=t.payload||[]}).addCase(tR.rejected,(e,t)=>{e.loadingOrdersByUserId=!1,e.errorOrdersByUserId=t.payload})}}),{clearOrdersState:tZ}=tW.actions,tU=tW.reducer,t$=(0,_.hg)("subscriptionPlans/getSubscriptionPlans",async(e,t)=>{let{rejectWithValue:r}=t,a=localStorage.getItem("user");try{let e=await fetch(et("/user-myaccounts/allsubscriptionplans"),{method:"GET",headers:new Headers({Authorization:`Bearer ${a}`,"Content-Type":"application/json"})});if(!e.ok){let t=await e.json().catch(()=>({}));return r((null==t?void 0:t.message)||"Failed to retrieve subscription plans")}return await e.json()}catch(e){return console.error("Network error:",e),r("Network error or server not responding")}}),tq=(0,_.oM)({name:"subscriptionPlansGet",initialState:{subscriptionPlansGet:[],loadingsubscriptionPlansGet:!1,errorsubscriptionPlansGet:null},reducers:{clearsubscriptionPlansGetState:e=>{e.subscriptionPlansGet=[],e.errorsubscriptionPlansGet=null}},extraReducers:e=>{e.addCase(t$.pending,e=>{e.loadingsubscriptionPlansGet=!0,e.errorsubscriptionPlansGet=null}).addCase(t$.fulfilled,(e,t)=>{e.loadingsubscriptionPlansGet=!1,e.subscriptionPlansGet=t.payload||[]}).addCase(t$.rejected,(e,t)=>{e.loadingsubscriptionPlansGet=!1,e.errorsubscriptionPlansGet=t.payload})}}),{clearsubscriptionPlansGetState:tK}=tq.actions,tV=tq.reducer,tH=(0,_.hg)("userMessages/getUserMessagesById",async(e,t)=>{let{rejectWithValue:r}=t,a=localStorage.getItem("user");try{let e=await fetch(et("/user-myaccounts/user-messages"),{method:"GET",headers:new Headers({Authorization:`Bearer ${a}`,"Content-Type":"application/json"})});if(!e.ok){let t=await e.json().catch(()=>({}));return r((null==t?void 0:t.message)||"Failed to retrieve user messages")}return await e.json()}catch(e){return console.error("Network error:",e),r("Network error or server not responding")}}),tG=(0,_.oM)({name:"userMessagesById",initialState:{userMessages:null,loadingUserMessagesById:!1,errorUserMessagesById:null},reducers:{clearUserMessagesState:e=>{e.userMessages=null,e.errorUserMessagesById=null}},extraReducers:e=>{e.addCase(tH.pending,e=>{e.loadingUserMessagesById=!0,e.errorUserMessagesById=null}).addCase(tH.fulfilled,(e,t)=>{e.loadingUserMessagesById=!1,e.userMessages=t.payload||null}).addCase(tH.rejected,(e,t)=>{e.loadingUserMessagesById=!1,e.errorUserMessagesById=t.payload})}}),{clearUserMessagesState:tX}=tG.actions,tY=tG.reducer,tJ=(0,_.hg)("userTickets/getUserTickets",async(e,t)=>{let{rejectWithValue:r}=t,a=localStorage.getItem("user");try{let e=await fetch(et("/user-myaccounts/user-tickets"),{method:"GET",headers:new Headers({Authorization:`Bearer ${a}`,"Content-Type":"application/json"})});if(!e.ok){let t=await e.json().catch(()=>({}));return r((null==t?void 0:t.message)||"Failed to retrieve user tickets")}return await e.json()}catch(e){return console.error("Network error:",e),r("Network error or server not responding")}}),tQ=(0,_.oM)({name:"userTickets",initialState:{userTickets:null,loadingUserTickets:!1,errorUserTickets:null},reducers:{clearUserTicketsState:e=>{e.userTickets=null,e.errorUserTickets=null}},extraReducers:e=>{e.addCase(tJ.pending,e=>{e.loadingUserTickets=!0,e.errorUserTickets=null}).addCase(tJ.fulfilled,(e,t)=>{e.loadingUserTickets=!1,e.userTickets=t.payload||null}).addCase(tJ.rejected,(e,t)=>{e.loadingUserTickets=!1,e.errorUserTickets=t.payload})}}),{clearUserTicketsState:t0}=tQ.actions,t1=tQ.reducer,t6=(0,_.hg)("userTicket/getUserTicketById",async(e,t)=>{let{id:r}=e,{rejectWithValue:a}=t,i=localStorage.getItem("user");try{let e=await fetch(et(`/user-myaccounts/user-tickets/${r}`),{method:"GET",headers:new Headers({Authorization:`Bearer ${i}`,"Content-Type":"application/json"})});if(!e.ok){let t=await e.json().catch(()=>({}));return a((null==t?void 0:t.message)||"Failed to retrieve ticket details")}return await e.json()}catch(e){return console.error("Network error:",e),a("Network error or server not responding")}}),t2=(0,_.oM)({name:"userTicketById",initialState:{userTicketById:null,loadingUserTicketById:!1,errorUserTicketById:null},reducers:{clearUserTicketByIdState:e=>{e.userTicketById=null,e.errorUserTicketById=null}},extraReducers:e=>{e.addCase(t6.pending,e=>{e.loadingUserTicketById=!0,e.errorUserTicketById=null}).addCase(t6.fulfilled,(e,t)=>{e.loadingUserTicketById=!1,e.userTicketById=t.payload||null}).addCase(t6.rejected,(e,t)=>{e.loadingUserTicketById=!1,e.errorUserTicketById=t.payload})}}),{clearUserTicketByIdState:t4}=t2.actions,t3=t2.reducer,t5=(0,_.hg)("userTickets/createNewUserTicket",async(e,t)=>{let{title:r,department:a,departmentLabel:i,description:l,ticketShortDesc:s}=e,{rejectWithValue:n}=t,o=localStorage.getItem("user");try{let e=await fetch(et("/user-myaccounts/user-tickets/create"),{method:"POST",headers:new Headers({Authorization:`Bearer ${o}`,"Content-Type":"application/json"}),body:JSON.stringify({title:r,department:a,departmentLabel:i,description:l,ticketShortDesc:s})});if(!e.ok){let t=await e.json().catch(()=>({})),r={status:e.status,message:(null==t?void 0:t.message)||eu(e.status)};return n(r)}return await e.json()}catch(e){return console.error("Network error:",e),n("Network error or server not responding")}}),t8=(0,_.oM)({name:"newUserTicket",initialState:{ticket:null,loadingNewUserTicket:!1,errorNewUserTicket:null,successNewUserTicket:!1},reducers:{clearTicketCreationState:e=>{e.ticket=null,e.loadingNewUserTicket=!1,e.errorNewUserTicket=null,e.successNewUserTicket=!1}},extraReducers:e=>{e.addCase(t5.pending,e=>{e.loadingNewUserTicket=!0,e.errorNewUserTicket=null}).addCase(t5.fulfilled,(e,t)=>{e.loadingNewUserTicket=!1,e.successNewUserTicket=!0,e.ticket=t.payload}).addCase(t5.rejected,(e,t)=>{e.loadingNewUserTicket=!1,e.errorNewUserTicket=t.payload})}}),{clearTicketCreationState:t7}=t8.actions,t9=t8.reducer,re=(0,_.hg)("user/updateUserInfo",async(e,t)=>{let{rejectWithValue:r}=t,a=localStorage.getItem("user");try{let t=await fetch(et("/users/update"),{method:"POST",headers:new Headers({Authorization:`Bearer ${a}`,"Content-Type":"application/json"}),body:JSON.stringify(e)});if(!t.ok){let e=await t.json().catch(()=>({})),a={status:t.status,message:(null==e?void 0:e.message)||eu(t.status)};return r(a)}return await t.json()}catch(e){return r("Network error or server not responding")}}),rt=(0,_.oM)({name:"updateUserInfo",initialState:{updateuser:{},loadingUpdateUser:!1,errorUpdateUser:null},reducers:{clearUserInfo:e=>{e.updateuser={},e.loadingUpdateUser=!1,e.errorUpdateUser=null}},extraReducers:e=>{e.addCase(re.pending,e=>{e.loadingUpdateUser=!0,e.errorUpdateUser=null}).addCase(re.fulfilled,(e,t)=>{e.loadingUpdateUser=!1,e.updateuser=t.payload||null}).addCase(re.rejected,(e,t)=>{e.loadingUpdateUser=!1,e.errorUpdateUser=t.payload})}}),{clearUserInfo:rr}=rt.actions,ra=rt.reducer,ri=(0,_.hg)("ticket/sendMessage",async(e,t)=>{let{ticketId:r,messageText:a,messageFile:i}=e,{rejectWithValue:l}=t,s=localStorage.getItem("user");try{let e=new FormData;e.append("message",a),i&&e.append("file",i);let t=await fetch(et(`/user-myaccounts/user-tickets/messages/newmessage/${r}`),{method:"POST",headers:{Authorization:`Bearer ${s}`},body:e});if(!t.ok){let e=await t.json().catch(()=>({})),r={status:t.status,message:(null==e?void 0:e.message)||eu(t.status)};return l(r)}return await t.json()}catch(e){return console.error("Network error:",e),l("Network error or server not responding")}}),rl=(0,_.oM)({name:"ticketSendMessage",initialState:{ticketData:null,sending:!1,success:null,error:null},reducers:{clearSendMessageStatus:e=>{e.sending=!1,e.success=null,e.error=null,e.ticketData=null}},extraReducers:e=>{e.addCase(ri.pending,e=>{e.sending=!0,e.error=null,e.success=null}).addCase(ri.fulfilled,(e,t)=>{e.ticketData=t.payload,e.sending=!1,e.success=!0}).addCase(ri.rejected,(e,t)=>{e.sending=!1,e.error=t.payload})}}),{clearSendMessageStatus:rs}=rl.actions,rn=rl.reducer,ro=(0,_.hg)("singleProduct/getSingleProductDetails",async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{rejectWithValue:t}=arguments.length>1?arguments[1]:void 0,{slug:r}=e;try{let e=await fetch(et(`/singleproduct/${r}`),{method:"GET",headers:new Headers({"Content-Type":"application/json"})});if(!e.ok){let r=await e.json().catch(()=>({}));return t((null==r?void 0:r.message)||"Failed to retrieve product details")}return await e.json()}catch(e){return console.error("Network error:",e),t("Network error or server not responding")}}),rd=(0,_.oM)({name:"singleProduct",initialState:{product:null,loading:!1,error:null},reducers:{clearProductState:e=>{e.product=null,e.error=null}},extraReducers:e=>{e.addCase(ro.pending,e=>{e.loading=!0,e.error=null}).addCase(ro.fulfilled,(e,t)=>{e.loading=!1,e.product=t.payload||null}).addCase(ro.rejected,(e,t)=>{e.loading=!1,e.error=t.payload})}}),{clearProductState:rc}=rd.actions,ru=rd.reducer,rm=(0,_.hg)("cart/updateCart",async(e,t)=>{let{rejectWithValue:r}=t,a=localStorage.getItem("user");try{let t=await fetch(et("/cart/updatesubscription"),{method:"POST",headers:new Headers({Authorization:`Bearer ${a}`,"Content-Type":"application/json"}),body:JSON.stringify(e)}),i=await t.json();if(!t.ok)return r(i.message||"Failed to update cart");let l=await fetch(et("/cart"),{headers:new Headers({Authorization:`Bearer ${a}`,"Content-Type":"application/json"})});if(!l.ok)return r("Failed to fetch cart data");let s=(await l.json()).cart||[],n=s.reduce((e,t)=>e+t.price.discountedPrice*t.count,0);return{cart:s,total:n}}catch(e){return r(e.message||"Network error")}}),rg=(0,_.oM)({name:"cartUpdate",initialState:{cartUpdate:[],totalUpdate:0,loadingUpdate:!1,errorUpdate:null},reducers:{clearCartUpdateState:e=>{e.cartUpdate=[],e.totalUpdate=0,e.loadingUpdate=!1,e.errorUpdate=null}},extraReducers:e=>{e.addCase(rm.pending,e=>{e.loadingUpdate=!0,e.errorUpdate=null}).addCase(rm.fulfilled,(e,t)=>{e.loadingUpdate=!1,e.cartUpdate=t.payload.cart,e.totalUpdate=t.payload.totalUpdate}).addCase(rm.rejected,(e,t)=>{e.loadingUpdate=!1,e.errorUpdate=t.payload||"Something went wrong"})}}),{clearCartUpdateState:rp}=rg.actions,rh=rg.reducer,rx=(0,_.hg)("order/getOrderByReceiptID",async(e,t)=>{let{receipt_id:r}=e,{rejectWithValue:a}=t,i=localStorage.getItem("user");try{let e=await fetch(et(`/orders/getorderbyreceiptid/${r}`),{method:"GET",headers:{"Content-Type":"application/json"},headers:new Headers({Authorization:`Bearer ${i}`,"Content-Type":"application/json"})});if(!e.ok){let t=await e.json().catch(()=>({}));return a((null==t?void 0:t.message)||"Failed to retrieve order details")}return await e.json()}catch(e){return console.error("Network error:",e),a("Network error or server not responding")}}),rb=(0,_.oM)({name:"orderByReceiptID",initialState:{orderByReceiptID:null,loadingByReceiptID:!1,errorByReceiptID:null},reducers:{clearorderByReceiptIDState:e=>{e.orderByReceiptID=null,e.errorByReceiptID=null}},extraReducers:e=>{e.addCase(rx.pending,e=>{e.loadingByReceiptID=!0,e.errorByReceiptID=null}).addCase(rx.fulfilled,(e,t)=>{e.loadingByReceiptID=!1,e.orderByReceiptID=t.payload||null}).addCase(rx.rejected,(e,t)=>{e.loadingByReceiptID=!1,e.errorByReceiptID=t.payload})}}),{clearOrderState:rf}=rb.actions,ry=rb.reducer,rj=(0,_.hg)("fastEditBrandModeTableData/fetch",async(e,t)=>{let{searchType:r,uniqueIDClickedBrands:a,uniqueIDClickedBrandsCategories:i,filterBrandsCategorySubCategoryStorage:l}=e,{rejectWithValue:s}=t,n=localStorage.getItem("user");try{let e=await fetch(et("/fast-edit-brand-mode"),{method:"POST",headers:{"Content-Type":"application/json"},headers:new Headers({Authorization:`Bearer ${n}`,"Content-Type":"application/json"}),body:JSON.stringify({searchType:r,uniqueIDClickedBrands:a,uniqueIDClickedBrandsCategories:i,filterBrandsCategorySubCategoryStorage:l})});if(!e.ok){let t=await e.json().catch(()=>({}));return s((null==t?void 0:t.message)||"Failed to fetch table data")}return await e.json()}catch(e){return console.error("Network error:",e),s("Network error or server not responding")}}),rv=(0,_.oM)({name:"fastEditBrandModeTableData",initialState:{tableData:[],loading:!1,error:null},reducers:{clearFastEditBrandModeTableData:e=>{e.tableData=[],e.loading=!1,e.error=null}},extraReducers:e=>{e.addCase(rj.pending,e=>{e.loading=!0,e.error=null}).addCase(rj.fulfilled,(e,t)=>{e.loading=!1,e.tableData=t.payload||[]}).addCase(rj.rejected,(e,t)=>{e.loading=!1,e.error=t.payload})}}),{clearFastEditBrandModeTableData:rC}=rv.actions,rw=rv.reducer,rk=(0,_.hg)("fastEditCategoryModeTableData/fetch",async(e,t)=>{let{searchType:r,supplierId:a,uniqueIDClickedCategories:i,uniqueIDClickedSubCategories:l,uniqueIDClickedSubCategoriesBrands:s}=e,{rejectWithValue:n}=t,o=localStorage.getItem("user");try{let e=await fetch(et("/fast-edit-category-mode"),{method:"POST",headers:{"Content-Type":"application/json"},headers:new Headers({Authorization:`Bearer ${o}`,"Content-Type":"application/json"}),body:JSON.stringify({searchType:r,uniqueIDClickedCategories:i,uniqueIDClickedSubCategories:l,uniqueIDClickedSubCategoriesBrands:s})});if(!e.ok){let t=await e.json().catch(()=>({}));return n((null==t?void 0:t.message)||"Failed to fetch table data")}return await e.json()}catch(e){return console.error("Network error:",e),n("Network error or server not responding")}}),rS=(0,_.oM)({name:"fastEditCategoryModeTableData",initialState:{tableData:[],loading:!1,error:null},reducers:{clearFastEditCategoryModeTableData:e=>{e.tableData=[],e.loading=!1,e.error=null}},extraReducers:e=>{e.addCase(rk.pending,e=>{e.loading=!0,e.error=null}).addCase(rk.fulfilled,(e,t)=>{e.loading=!1,e.tableData=t.payload||[]}).addCase(rk.rejected,(e,t)=>{e.loading=!1,e.error=t.payload})}}),{clearFastEditCategoryModeTableData:rI}=rS.actions,rz=rS.reducer,rN=(0,_.hg)("fastOrderBrandModeTableData/fetch",async(e,t)=>{let{searchType:r,uniqueIDClickedBrands:a,uniqueIDClickedBrandsCategories:i,filterBrandsCategorySubCategoryStorage:l}=e,{rejectWithValue:s}=t;try{let e=await fetch(et("/fast-order-brand-mode"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({searchType:r,uniqueIDClickedBrands:a,uniqueIDClickedBrandsCategories:i,filterBrandsCategorySubCategoryStorage:l})});if(!e.ok){let t=await e.json().catch(()=>({}));return s((null==t?void 0:t.message)||"Failed to fetch table data")}return await e.json()}catch(e){return s("Network error or server not responding")}}),rD=(0,_.oM)({name:"fastOrderBrandModeTableData",initialState:{tableData:[],loading:!1,error:null},reducers:{clearFastOrderBrandModeTableData:e=>{e.tableData=[],e.loading=!1,e.error=null}},extraReducers:e=>{e.addCase(rN.pending,e=>{e.loading=!0,e.error=null}).addCase(rN.fulfilled,(e,t)=>{e.loading=!1,e.tableData=t.payload||[]}).addCase(rN.rejected,(e,t)=>{e.loading=!1,e.error=t.payload})}}),{clearFastOrderBrandModeTableData:rA}=rD.actions,rF=rD.reducer,rM=(0,_.hg)("fastOrderCategoryModeTableData/fetch",async(e,t)=>{let{searchType:r,uniqueIDClickedCategories:a,uniqueIDClickedSubCategories:i,uniqueIDClickedSubCategoriesBrands:l}=e,{rejectWithValue:s}=t;try{let e=await fetch(et("/fast-order-category-mode"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({searchType:r,uniqueIDClickedCategories:a,uniqueIDClickedSubCategories:i,uniqueIDClickedSubCategoriesBrands:l})});if(!e.ok){let t=await e.json().catch(()=>({}));return s((null==t?void 0:t.message)||"Failed to fetch table data")}return await e.json()}catch(e){return console.error("Network error:",e),s("Network error or server not responding")}}),rT=(0,_.oM)({name:"fastOrderCategoryModeTableData",initialState:{tableData:[],loading:!1,error:null},reducers:{clearFastOrderCategoryModeTableData:e=>{e.tableData=[],e.loading=!1,e.error=null}},extraReducers:e=>{e.addCase(rM.pending,e=>{e.loading=!0,e.error=null}).addCase(rM.fulfilled,(e,t)=>{e.loading=!1,e.tableData=t.payload||[]}).addCase(rM.rejected,(e,t)=>{e.loading=!1,e.error=t.payload})}}),{clearFastOrderCategoryModeTableData:rP}=rT.actions,rE=rT.reducer,r_=(0,_.hg)("brandProducts/fetchbrandProductsData",async(e,t)=>{let{rejectWithValue:r}=t;try{let t=await fetch(et("/brands/brandproducts"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){let e=await t.json().catch(()=>({})),a={status:t.status,message:(null==e?void 0:e.message)||eu(t.status)};return r(a)}return(await t.json()).data}catch(e){return console.error("brandProducts fetch error:",e),r("Network error or server not responding")}}),rL=(0,_.oM)({name:"brandProducts",initialState:{products:[],totalPages:0,currentPage:1,totalProducts:0,price:{min:0,max:0},filters:[],loading:!1,searchLoading:!1,filterOptionsLoading:!1,error:null,searchError:null,filterOptionsError:null,currentFilters:{page:1,limit:20,sort:"newest",brand:null,colors:[],delivery_areas:[],price_min:0,price_max:0,s:""},sortValue:"newest",searchTerm:""},reducers:{clearbrandProductsState:e=>{e.products=[],e.totalPages=0,e.currentPage=1,e.totalProducts=0,e.error=null,e.searchError=null},updateFilters:(e,t)=>{e.currentFilters={...e.currentFilters,...t.payload}},updateFilter:(e,t)=>{let{key:r,value:a}=t.payload;e.currentFilters[r]=a},updatePage:(e,t)=>{e.currentFilters.page=t.payload,e.currentPage=t.payload},updateSort:(e,t)=>{e.currentFilters.sort=t.payload,e.sortValue=t.payload,e.currentFilters.page=1,e.currentPage=1},updateSearchTerm:(e,t)=>{e.searchTerm=t.payload,e.currentFilters.s=t.payload,e.currentFilters.page=1,e.currentPage=1},updatePriceRange:(e,t)=>{let{min:r,max:a}=t.payload;e.currentFilters.price_min=r,e.currentFilters.price_max=a,e.currentFilters.page=1,e.currentPage=1},updateDynamicFilter:(e,t)=>{let{key:r,value:a}=t.payload;e.currentFilters[r]=a,e.currentFilters.page=1,e.currentPage=1},clearError:(e,t)=>{let r=t.payload;r&&e[r]&&(e[r]=null)}},extraReducers:e=>{e.addCase(r_.pending,e=>{e.loading=!0,e.error=null}).addCase(r_.fulfilled,(e,t)=>{e.loading=!1,e.products=t.payload.products,e.totalPages=t.payload.totalPages,e.currentPage=t.payload.currentPage,e.totalProducts=t.payload.totalProducts,e.price=t.payload.price,e.filters=t.payload.filters}).addCase(r_.rejected,(e,t)=>{e.loading=!1,e.error=t.payload})}}),{clearbrandProductsState:rB,updateFilters:rO,updateFilter:rR,updatePage:rW,updateSort:rZ,updateSearchTerm:rU,updatePriceRange:r$,updateDynamicFilter:rq,clearError:rK}=rL.actions,rV=rL.reducer,rH=(0,_.hg)("userMessages/userMessagesModalComponentGet",async(e,t)=>{let{notificationId:r}=e,{rejectWithValue:a}=t,i=localStorage.getItem("user");try{let e=await fetch(et(`/user-myaccounts/user-messages/notification-component/modal-component?notificationId=${r}`),{method:"GET",headers:new Headers({Authorization:`Bearer ${i}`,"Content-Type":"application/json"})});if(!e.ok){let t=await e.json().catch(()=>({}));return a((null==t?void 0:t.message)||"Failed to retrieve modal component")}return await e.json()}catch(e){return console.error("Network error while fetching modal:",e),a("Network error or server not responding")}});(0,_.hg)("userMessages/getNotificationDetails",async(e,t)=>{let{notificationId:r}=e,{rejectWithValue:a}=t,i=localStorage.getItem("user");try{let e=await fetch(et(`/user-myaccounts/user-messages/notification/${r}`),{method:"GET",headers:new Headers({Authorization:`Bearer ${i}`,"Content-Type":"application/json"})});if(!e.ok){let t=await e.json().catch(()=>({}));return a((null==t?void 0:t.message)||"Failed to retrieve notification details")}return await e.json()}catch(e){return console.error("Network error while fetching notification details:",e),a("Network error or server not responding")}});let rG=(0,_.oM)({name:"userMessagesModalComponentGet",initialState:{userMessagesModal:null,loadingUserMessagesModal:!1,errorUserMessagesModal:null},reducers:{clearUserMessagesModalState:e=>{e.userMessagesModal=null,e.errorUserMessagesModal=null}},extraReducers:e=>{e.addCase(rH.pending,e=>{e.loadingUserMessagesModal=!0,e.errorUserMessagesModal=null}).addCase(rH.fulfilled,(e,t)=>{e.loadingUserMessagesModal=!1,e.userMessagesModal=t.payload||null}).addCase(rH.rejected,(e,t)=>{e.loadingUserMessagesModal=!1,e.errorUserMessagesModal=t.payload})}}),{clearUserMessagesModalState:rX}=rG.actions,rY=rG.reducer,rJ=(0,_.hg)("fastOrderPageBrands/batchImport",async(e,t)=>{let{brands:r}=e,{rejectWithValue:a}=t;try{let e=await fetch(et("/master-dash/fast-order-brand-mode-page-data/batch-import"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({brands:r})});if(!e.ok){let t=await e.json().catch(()=>({}));return a((null==t?void 0:t.message)||"Failed to batch import brands")}return await e.json()}catch(e){return console.error("Network error:",e),a("Network error or server not responding")}}),rQ=(0,_.oM)({name:"fastOrderPageBrands",initialState:{brands:[],loading:!1,error:null,successMessage:null},reducers:{clearFastOrderPageBrandsState:e=>{e.brands=[],e.loading=!1,e.error=null,e.successMessage=null}},extraReducers:e=>{e.addCase(rJ.pending,e=>{e.loading=!0,e.error=null,e.successMessage=null}).addCase(rJ.fulfilled,(e,t)=>{e.loading=!1,e.brands=t.payload.brands||[],e.successMessage=t.payload.message||"Brands imported successfully!"}).addCase(rJ.rejected,(e,t)=>{e.loading=!1,e.error=t.payload})}}),{clearFastOrderPageBrandsState:r0}=rQ.actions,r1=rQ.reducer,r6=(0,_.hg)("fastOrderBrandModeFilters/batchImport",async(e,t)=>{let{filters:r}=e,{rejectWithValue:a}=t;try{let e=await fetch(et("/master-dash/fast-order-brand-mode-page-data-filters/batch-import"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({filters:r})});if(!e.ok){let t=await e.json().catch(()=>({}));return a((null==t?void 0:t.message)||"Failed to batch import filters")}return await e.json()}catch(e){return console.error("Network error:",e),a("Network error or server not responding")}}),r2=(0,_.oM)({name:"fastOrderBrandModeFilters",initialState:{filters:[],loading:!1,error:null,successMessage:null},reducers:{clearFastOrderBrandModeFiltersState:e=>{e.filters=[],e.loading=!1,e.error=null,e.successMessage=null}},extraReducers:e=>{e.addCase(r6.pending,e=>{e.loading=!0,e.error=null,e.successMessage=null}).addCase(r6.fulfilled,(e,t)=>{e.loading=!1,e.filters=t.payload.filters||[],e.successMessage=t.payload.message||"Filters imported successfully!"}).addCase(r6.rejected,(e,t)=>{e.loading=!1,e.error=t.payload})}}),{clearFastOrderBrandModeFiltersState:r4}=r2.actions,r3=r2.reducer,r5=(0,_.hg)("productComments/getProductComments",async(e,t)=>{let{rejectWithValue:r}=t,a=localStorage.getItem("user"),{id:i,productId:l}=e,s=i||l;if(!s)return r("Product ID is required");let n=String(s);try{let e=await fetch(et("/singleproduct/getproductcomments"),{method:"POST",body:JSON.stringify({productId:n}),headers:new Headers({Authorization:`Bearer ${a}`,"Content-Type":"application/json"})});if(!e.ok){let t=await e.json().catch(()=>({}));return r((null==t?void 0:t.message)||"Failed to retrieve product comments")}return await e.json()}catch(e){return console.error("Network error:",e),r("Network error or server not responding")}}),r8=(0,_.oM)({name:"productComments",initialState:{productComments:[],productCommentsLoading:!1,productCommentsError:null},reducers:{clearCommentsState:e=>{e.productComments=[],e.productCommentsError=null}},extraReducers:e=>{e.addCase(r5.pending,e=>{e.productCommentsLoading=!0,e.productCommentsError=null}).addCase(r5.fulfilled,(e,t)=>{e.productCommentsLoading=!1,e.productComments=t.payload||[]}).addCase(r5.rejected,(e,t)=>{e.productCommentsLoading=!1,e.productCommentsError=t.payload})}}),{clearCommentsState:r7}=r8.actions,r9=r8.reducer,ae=(0,_.hg)("brandsData/batchImport",async(e,t)=>{let{brandsData:r}=e,{rejectWithValue:a}=t;try{let e=await fetch(et("/master-dash/brandsdata/batch-import"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({brandsData:r})});if(!e.ok){let t=await e.json().catch(()=>({}));return a((null==t?void 0:t.message)||"Failed to batch import brands")}return await e.json()}catch(e){return console.error("Network error:",e),a("Network error or server not responding")}}),at=(0,_.hg)("brandsData/getAll",async(e,t)=>{let{rejectWithValue:r}=t;try{let e=await fetch(et("/master-dash/brands"),{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"});if(!e.ok){let t=await e.json().catch(()=>({}));return r((null==t?void 0:t.message)||"Failed to fetch brands")}return await e.json()}catch(e){return console.error("Network error:",e),r("Network error or server not responding")}}),ar=(0,_.hg)("brandsData/getBySlug",async(e,t)=>{let{rejectWithValue:r}=t;try{let t=await fetch(et(`/master-dash/brands/${e}`),{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"});if(!t.ok){let e=await t.json().catch(()=>({}));return r((null==e?void 0:e.message)||"Brand not found")}return await t.json()}catch(e){return console.error("Network error:",e),r("Network error or server not responding")}}),aa=(0,_.hg)("brandsData/update",async(e,t)=>{let{id:r,brandData:a}=e,{rejectWithValue:i}=t;try{let e=await fetch(et(`/master-dash/brands/${r}`),{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(a)});if(!e.ok){let t=await e.json().catch(()=>({}));return i((null==t?void 0:t.message)||"Failed to update brand")}return await e.json()}catch(e){return console.error("Network error:",e),i("Network error or server not responding")}}),ai=(0,_.hg)("brandsData/delete",async(e,t)=>{let{rejectWithValue:r}=t;try{let t=await fetch(et(`/master-dash/brands/${e}`),{method:"DELETE",headers:{"Content-Type":"application/json"},credentials:"include"});if(!t.ok){let e=await t.json().catch(()=>({}));return r((null==e?void 0:e.message)||"Failed to delete brand")}let a=await t.json();return{id:e,...a}}catch(e){return console.error("Network error:",e),r("Network error or server not responding")}}),al=(0,_.oM)({name:"brandsData",initialState:{brands:[],currentBrand:null,loading:!1,error:null,successMessage:null,loadingBatchImport:!1,loadingGetAll:!1,loadingGetSingle:!1,loadingUpdate:!1,loadingDelete:!1},reducers:{clearBrandsDataState:e=>{e.brands=[],e.currentBrand=null,e.loading=!1,e.error=null,e.successMessage=null,e.loadingBatchImport=!1,e.loadingGetAll=!1,e.loadingGetSingle=!1,e.loadingUpdate=!1,e.loadingDelete=!1},clearCurrentBrand:e=>{e.currentBrand=null,e.loadingGetSingle=!1},clearMessages:e=>{e.error=null,e.successMessage=null}},extraReducers:e=>{e.addCase(ae.pending,e=>{e.loadingBatchImport=!0,e.loading=!0,e.error=null,e.successMessage=null}).addCase(ae.fulfilled,(e,t)=>{e.loadingBatchImport=!1,e.loading=!1,e.brands=t.payload.brands||[],e.successMessage=t.payload.message||"Brands imported successfully!"}).addCase(ae.rejected,(e,t)=>{e.loadingBatchImport=!1,e.loading=!1,e.error=t.payload}).addCase(at.pending,e=>{e.loadingGetAll=!0,e.loading=!0,e.error=null}).addCase(at.fulfilled,(e,t)=>{e.loadingGetAll=!1,e.loading=!1,e.brands=t.payload.brands||t.payload||[]}).addCase(at.rejected,(e,t)=>{e.loadingGetAll=!1,e.loading=!1,e.error=t.payload}).addCase(ar.pending,e=>{e.loadingGetSingle=!0,e.loading=!0,e.error=null}).addCase(ar.fulfilled,(e,t)=>{e.loadingGetSingle=!1,e.loading=!1,e.currentBrand=t.payload.brand||t.payload}).addCase(ar.rejected,(e,t)=>{e.loadingGetSingle=!1,e.loading=!1,e.error=t.payload}).addCase(aa.pending,e=>{e.loadingUpdate=!0,e.loading=!0,e.error=null,e.successMessage=null}).addCase(aa.fulfilled,(e,t)=>{e.loadingUpdate=!1,e.loading=!1;let r=t.payload.brand||t.payload,a=e.brands.findIndex(e=>e.id===r.id);-1!==a&&(e.brands[a]=r),e.currentBrand&&e.currentBrand.id===r.id&&(e.currentBrand=r),e.successMessage=t.payload.message||"Brand updated successfully!"}).addCase(aa.rejected,(e,t)=>{e.loadingUpdate=!1,e.loading=!1,e.error=t.payload}).addCase(ai.pending,e=>{e.loadingDelete=!0,e.loading=!0,e.error=null,e.successMessage=null}).addCase(ai.fulfilled,(e,t)=>{e.loadingDelete=!1,e.loading=!1;let r=t.payload.id;e.brands=e.brands.filter(e=>e.id!==r),e.currentBrand&&e.currentBrand.id===r&&(e.currentBrand=null),e.successMessage=t.payload.message||"Brand deleted successfully!"}).addCase(ai.rejected,(e,t)=>{e.loadingDelete=!1,e.loading=!1,e.error=t.payload})}}),{clearBrandsDataState:as,clearCurrentBrand:an,clearMessages:ao}=al.actions,ad=al.reducer,ac=(0,_.hg)("favorites/addedToFavorites",async(e,t)=>{let{rejectWithValue:r}=t,a=localStorage.getItem("user");try{let t=await fetch(et(`/users/addedtofavorites/${e}`),{method:"GET",headers:new Headers({Authorization:`Bearer ${a}`,"Content-Type":"application/json"})});if(!t.ok){let e=await t.json().catch(()=>({})),a={status:t.status,message:(null==e?void 0:e.message)||eu(t.status)};return r(a)}let i=await t.json();return null==i?void 0:i.isFavorite}catch(e){return console.error("Network error:",e),r("Network error or server not responding")}}),au=(0,_.oM)({name:"addedToFavorites",initialState:{addedToFavoritesData:null,loadingAddedToFavorites:!1,errorAddedToFavorites:null},reducers:{clearAddedFavoriteStatus:e=>{e.addedToFavoritesData=null,e.loadingAddedToFavorites=!1,e.errorAddedToFavorites=null}},extraReducers:e=>{e.addCase(ac.pending,e=>{e.loadingAddedToFavorites=!0,e.errorAddedToFavorites=null}).addCase(ac.fulfilled,(e,t)=>{e.loadingAddedToFavorites=!1,e.addedToFavoritesData=t.payload}).addCase(ac.rejected,(e,t)=>{e.loadingAddedToFavorites=!1,e.errorAddedToFavorites=t.payload})}}),{clearAddedFavoriteStatus:am}=au.actions,ag=au.reducer,ap=(0,_.hg)("favorites/addToFavorites",async(e,t)=>{let{rejectWithValue:r}=t,a=localStorage.getItem("user");try{let t=await fetch(et(`/users/addtofavorites/${e}`),{method:"POST",headers:new Headers({Authorization:`Bearer ${a}`,"Content-Type":"application/json"})});if(!t.ok){let e=await t.json().catch(()=>({})),a={status:t.status,message:(null==e?void 0:e.message)||eu(t.status)};return r(a)}return await t.json()}catch(e){return r("Network error or server not responding")}}),ah=(0,_.oM)({name:"addToFavorites",initialState:{addToFavoritesData:null,loadingAddToFavorites:!1,errorAddToFavorites:null},reducers:{clearAddFavoriteStatus:e=>{e.addToFavoritesData=null,e.loadingAddToFavorites=!1,e.errorAddToFavorites=null}},extraReducers:e=>{e.addCase(ap.pending,e=>{e.loadingAddToFavorites=!0,e.errorAddToFavorites=null}).addCase(ap.fulfilled,(e,t)=>{e.loadingAddToFavorites=!1,e.addToFavoritesData=t.payload}).addCase(ap.rejected,(e,t)=>{e.loadingAddToFavorites=!1,e.errorAddToFavorites=t.payload})}}),{clearAddFavoriteStatus:ax}=ah.actions,ab=ah.reducer,af=(0,_.hg)("favorites/removeFromFavorites",async(e,t)=>{let{rejectWithValue:r}=t,a=localStorage.getItem("user");try{let t=await fetch(et(`/users/removefromfavorites/${e}`),{method:"DELETE",headers:new Headers({Authorization:`Bearer ${a}`,"Content-Type":"application/json"})});if(!t.ok){let e=await t.json().catch(()=>({}));return r({status:t.status,message:(null==e?void 0:e.message)||eu(t.status)})}return await t.json()}catch(e){return r("Network error or server not responding")}}),ay=(0,_.oM)({name:"removeFromFavorites",initialState:{removeFromFavoritesData:null,loadingRemoveFromFavorites:!1,errorRemoveFromFavorites:null},reducers:{clearRemoveFavoriteStatus:e=>{e.removeFromFavoritesData=null,e.loadingRemoveFromFavorites=!1,e.errorRemoveFromFavorites=null}},extraReducers:e=>{e.addCase(af.pending,e=>{e.loadingRemoveFromFavorites=!0,e.errorRemoveFromFavorites=null}).addCase(af.fulfilled,(e,t)=>{e.loadingRemoveFromFavorites=!1,e.removeFromFavoritesData=t.payload}).addCase(af.rejected,(e,t)=>{e.loadingRemoveFromFavorites=!1,e.errorRemoveFromFavorites=t.payload})}}),{clearRemoveFavoriteStatus:aj}=ay.actions,av=ay.reducer,aC=(0,_.hg)("subscriptions/purchaseSubscription",async(e,t)=>{let{modelId:r,transactionId:a}=e,{rejectWithValue:i}=t,l=localStorage.getItem("user");try{let e=await fetch(et(`/user-myaccounts/subscriptions/purchase/${r}`),{method:"POST",headers:new Headers({Authorization:`Bearer ${l}`,"Content-Type":"application/json"}),body:JSON.stringify({transactionId:a})});if(!e.ok){let t=await e.json().catch(()=>({})),r={status:e.status,message:(null==t?void 0:t.message)||eu(e.status)};return i(r)}return await e.json()}catch(e){return console.error("Network error:",e),i("Network error or server not responding")}}),aw=(0,_.oM)({name:"purchaseSubscription",initialState:{purchaseResponse:null,loadingPurchaseSubscription:!1,errorPurchaseSubscription:null,successPurchaseSubscription:!1},reducers:{clearPurchaseState:e=>{e.purchaseResponse=null,e.loadingPurchaseSubscription=!1,e.errorPurchaseSubscription=null,e.successPurchaseSubscription=!1}},extraReducers:e=>{e.addCase(aC.pending,e=>{e.loadingPurchaseSubscription=!0,e.errorPurchaseSubscription=null}).addCase(aC.fulfilled,(e,t)=>{e.loadingPurchaseSubscription=!1,e.successPurchaseSubscription=!0,e.purchaseResponse=t.payload}).addCase(aC.rejected,(e,t)=>{e.loadingPurchaseSubscription=!1,e.errorPurchaseSubscription=t.payload})}}),{clearPurchaseState:ak}=aw.actions,aS=aw.reducer,aI=(0,_.hg)("category/getCategoryData",async(e,t)=>{let{slug:r,filters:a}=e,{rejectWithValue:i}=t,l=localStorage.getItem("user");try{let e=await fetch(et(`/category/${r}`),{method:"POST",headers:new Headers({Authorization:`Bearer ${l}`,"Content-Type":"application/json"}),body:JSON.stringify({filters:a})});if(!e.ok){let t=await e.json().catch(()=>({}));return i((null==t?void 0:t.message)||"Failed to fetch category data")}return await e.json()}catch(e){return console.error("Network error:",e),i("Network error or server not responding")}}),az=(0,_.oM)({name:"categoryData",initialState:{categoryData:{},loadingCategoryData:!1,errorCategoryData:null},reducers:{clearCategoryDataState:e=>{e.categoryData=[],loadingCategoryData=!1,e.errorCategoryData=null}},extraReducers:e=>{e.addCase(aI.pending,e=>{e.loadingCategoryData=!0,e.errorCategoryData=null}).addCase(aI.fulfilled,(e,t)=>{e.loadingCategoryData=!1,e.categoryData=t.payload||[]}).addCase(aI.rejected,(e,t)=>{e.loadingCategoryData=!1,e.errorCategoryData=t.payload})}}),{clearCategoryDataState:aN}=az.actions,aD=az.reducer,aA=(0,_.hg)("notificationNumber/getNotificationNumber",async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{rejectWithValue:t}=arguments.length>1?arguments[1]:void 0,{forceRefresh:r=!1}=e,a=localStorage.getItem("user");if(!a)return t("No authentication token found");let i=`notifications_fetched_${btoa(a).slice(0,16)}`;if(!r){let e=sessionStorage.getItem(i),t=sessionStorage.getItem(`${i}_data`);if(e&&t)try{return JSON.parse(t)}catch(e){sessionStorage.removeItem(i),sessionStorage.removeItem(`${i}_data`)}}try{let e=await fetch(et("/user-myaccounts/notifications/number"),{method:"GET",headers:new Headers({Authorization:`Bearer ${a}`,"Content-Type":"application/json"})});if(!e.ok){let r=await e.json().catch(()=>({}));return t((null==r?void 0:r.message)||"Failed to retrieve notification count")}let r=await e.json();return sessionStorage.setItem(i,"true"),sessionStorage.setItem(`${i}_data`,JSON.stringify(r)),r}catch(e){return console.error("Network error:",e),t("Network error or server not responding")}}),aF=(0,_.oM)({name:"notificationNumber",initialState:{notificationNumber:null,loadingNotificationNumber:!1,errorNotificationNumber:null},reducers:{clearNotificationNumberState:e=>{e.notificationNumber=null,e.errorNotificationNumber=null},updateNotificationCount:(e,t)=>{e.notificationNumber=t.payload}},extraReducers:e=>{e.addCase(aA.pending,e=>{e.loadingNotificationNumber=!0,e.errorNotificationNumber=null}).addCase(aA.fulfilled,(e,t)=>{e.loadingNotificationNumber=!1,"object"==typeof t.payload&&null!==t.payload?e.notificationNumber=t.payload:e.notificationNumber={unreadCount:t.payload||0,success:!0}}).addCase(aA.rejected,(e,t)=>{e.loadingNotificationNumber=!1,e.errorNotificationNumber=t.payload})}}),{clearNotificationNumberState:aM,updateNotificationCount:aT}=aF.actions,aP=aF.reducer,aE=(0,_.hg)("notificationSeen/setNotificationSeen",async(e,t)=>{let{tableIndex:r,rowId:a,isRead:i}=e,{rejectWithValue:l}=t,s=localStorage.getItem("user");try{let e=await fetch(et("/user-myaccounts/notifications/set-seen"),{method:"POST",headers:new Headers({Authorization:`Bearer ${s}`,"Content-Type":"application/json"}),body:JSON.stringify({tableIndex:r,rowId:a,isRead:i})});if(!e.ok){let t=await e.json().catch(()=>({}));return l((null==t?void 0:t.message)||"Failed to update notification status")}return await e.json()}catch(e){return console.error("Network error:",e),l("Network error or server not responding")}}),a_=(0,_.oM)({name:"notificationSeen",initialState:{successSetNotificationSeen:!1,loadingSetNotificationSeen:!1,errorSetNotificationSeen:null},reducers:{clearNotificationSeenState:e=>{e.successSetNotificationSeen=!1,e.errorSetNotificationSeen=null}},extraReducers:e=>{e.addCase(aE.pending,e=>{e.loadingSetNotificationSeen=!0,e.errorSetNotificationSeen=null,e.successSetNotificationSeen=!1}).addCase(aE.fulfilled,e=>{e.loadingSetNotificationSeen=!1,e.successSetNotificationSeen=!0}).addCase(aE.rejected,(e,t)=>{e.loadingSetNotificationSeen=!1,e.errorSetNotificationSeen=t.payload})}}),{clearNotificationSeenState:aL}=a_.actions,aB=a_.reducer,aO=(0,_.hg)("wallet/withdrawFromWallet",async(e,t)=>{let{rejectWithValue:r}=t,a=localStorage.getItem("user");try{let t=await fetch(et("/payment/wallet/withdraw"),{method:"POST",headers:new Headers({Authorization:`Bearer ${a}`,"Content-Type":"application/json"}),body:JSON.stringify(e)});if(!t.ok){let e=await t.json().catch(()=>({})),a={status:t.status,message:(null==e?void 0:e.message)||eu(t.status)};return r(a)}return await t.json()}catch(e){return console.error("Network error:",e),r("Network error or server not responding")}}),aR=(0,_.oM)({name:"walletWithDrawal",initialState:{withdrawResult:null,loadingWithdraw:!1,errorWithdraw:null},reducers:{clearWithdrawState:e=>{e.withdrawResult=null,e.errorWithdraw=null}},extraReducers:e=>{e.addCase(aO.pending,e=>{e.loadingWithdraw=!0,e.errorWithdraw=null}).addCase(aO.fulfilled,(e,t)=>{e.loadingWithdraw=!1,e.withdrawResult=t.payload}).addCase(aO.rejected,(e,t)=>{e.loadingWithdraw=!1,e.errorWithdraw=t.payload})}}),{clearWithdrawState:aW}=aR.actions,aZ=aR.reducer,aU=(0,_.hg)("priceLists/fetchAll",async(e,t)=>{let{rejectWithValue:r}=t;try{let t=await fetch(et("/homepage/getallpricelist"),{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!t.ok)throw Error("Failed to fetch prices");return await t.json()}catch(e){return console.error("Error fetching price lists:",e),r(e.message||"Unexpected error")}}),a$=(0,_.oM)({name:"priceLists",initialState:{data:[],loading:!1,error:null},reducers:{clearPriceLists:e=>{e.data=[],e.error=null}},extraReducers:e=>{e.addCase(aU.pending,e=>{e.loading=!0,e.error=null}).addCase(aU.fulfilled,(e,t)=>{e.loading=!1,e.data=t.payload}).addCase(aU.rejected,(e,t)=>{e.loading=!1,e.error=t.payload||"Failed to load price lists"})}}),{clearPriceLists:aq}=a$.actions,aK=a$.reducer,aV=(0,_.hg)("fastOrderLocations/batchImport",async(e,t)=>{let{availableLocations:r}=e,{rejectWithValue:a}=t;try{let e=await fetch(et("/master-dash/fast-order-locations/batch-import"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({availableLocations:r})});if(!e.ok){let t=await e.json().catch(()=>({}));return a((null==t?void 0:t.message)||"Failed to batch import locations")}return await e.json()}catch(e){return console.error("Network error:",e),a("Network error or server not responding")}}),aH=(0,_.oM)({name:"fastOrderLocations",initialState:{locations:[],loading:!1,error:null,successMessage:null},reducers:{clearFastOrderLocationsState:e=>{e.locations=[],e.loading=!1,e.error=null,e.successMessage=null}},extraReducers:e=>{e.addCase(aV.pending,e=>{e.loading=!0,e.error=null,e.successMessage=null}).addCase(aV.fulfilled,(e,t)=>{e.loading=!1,e.locations=t.payload.locations||[],e.successMessage=t.payload.message||"Locations imported successfully!"}).addCase(aV.rejected,(e,t)=>{e.loading=!1,e.error=t.payload})}}),{clearFastOrderLocationsState:aG}=aH.actions,aX=aH.reducer,aY=(0,_.hg)("gateways/batchImport",async(e,t)=>{let{gateways:r}=e,{rejectWithValue:a}=t;try{let e=await fetch(et("/master-dash/gateways/batch-import"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({gateways:r})});if(!e.ok){let t=await e.json().catch(()=>({}));return a((null==t?void 0:t.message)||"Failed to batch import gateways")}return await e.json()}catch(e){return console.error("Network error:",e),a("Network error or server not responding")}}),aJ=(0,_.oM)({name:"gateways",initialState:{gateways:[],loading:!1,error:null,successMessage:null},reducers:{clearGatewaysState:e=>{e.gateways=[],e.loading=!1,e.error=null,e.successMessage=null}},extraReducers:e=>{e.addCase(aY.pending,e=>{e.loading=!0,e.error=null,e.successMessage=null}).addCase(aY.fulfilled,(e,t)=>{e.loading=!1,e.gateways=t.payload.gateways||[],e.successMessage=t.payload.message||"Gateways imported successfully!"}).addCase(aY.rejected,(e,t)=>{e.loading=!1,e.error=t.payload})}}),{clearGatewaysState:aQ}=aJ.actions,a0=aJ.reducer,a1=(0,_.hg)("notificationTables/batchImport",async(e,t)=>{let{notificationData:r}=e,{rejectWithValue:a}=t;try{let e=await fetch(et("/master-dash/notification-tables/batch-import"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(r)});if(!e.ok){let t=await e.json().catch(()=>({}));return a((null==t?void 0:t.message)||"Failed to batch import notification tables")}return await e.json()}catch(e){return console.error("Network error:",e),a("Network error or server not responding")}}),a6=(0,_.oM)({name:"notificationTables",initialState:{tables:[],loading:!1,error:null,successMessage:null},reducers:{clearNotificationTablesState:e=>{e.tables=[],e.loading=!1,e.error=null,e.successMessage=null}},extraReducers:e=>{e.addCase(a1.pending,e=>{e.loading=!0,e.error=null,e.successMessage=null}).addCase(a1.fulfilled,(e,t)=>{e.loading=!1,e.tables=t.payload.notificationTables||[],e.successMessage=t.payload.message||"Notification tables imported successfully!"}).addCase(a1.rejected,(e,t)=>{e.loading=!1,e.error=t.payload})}}),{clearNotificationTablesState:a2}=a6.actions,a4=a6.reducer,a3=(0,_.hg)("compare/getCompareList",async(e,t)=>{let{rejectWithValue:r}=t,a=localStorage.getItem("user");try{let t=await fetch(et("/comparelist"),{method:"POST",headers:new Headers({Authorization:`Bearer ${a}`,"Content-Type":"application/json"}),body:JSON.stringify({items:e})});if(!t.ok){let e=await t.json().catch(()=>({}));return r((null==e?void 0:e.message)||"Failed to fetch compare list")}return await t.json()}catch(e){return console.error("Network error:",e),r("Network error or server not responding")}}),a5=(0,_.oM)({name:"compareList",initialState:{compareListData:[],loadingCompareList:!1,errorCompareList:null},reducers:{clearCompareListState:e=>{e.compareListData=[],e.loadingCompareList=!1,e.errorCompareList=null}},extraReducers:e=>{e.addCase(a3.pending,e=>{e.loadingCompareList=!0,e.errorCompareList=null}).addCase(a3.fulfilled,(e,t)=>{e.loadingCompareList=!1,e.compareListData=t.payload||[]}).addCase(a3.rejected,(e,t)=>{e.loadingCompareList=!1,e.errorCompareList=t.payload})}}),{clearCompareListState:a8}=a5.actions,a7=a5.reducer,a9=(0,_.hg)("cart/requestFinalReceipt",async(e,t)=>{let{vatRequested:r,orderId:a}=e,{rejectWithValue:i}=t,l=localStorage.getItem("user");try{let e=await fetch(et("/cart/requestfinalreceipt"),{method:"POST",headers:{Authorization:`Bearer ${l}`,"Content-Type":"application/json"},body:JSON.stringify({vatRequested:r,orderId:a})});if(!e.ok){let t=await e.json().catch(()=>({})),r={status:e.status,message:(null==t?void 0:t.message)||eu(e.status)};return i(r)}return await e.json()}catch(e){return console.error("Network error:",e),i("Network error or server not responding")}}),ie=(0,_.oM)({name:"cartFinalReceiptRequest",initialState:{vatRequestStatus:null,loadingVatRequest:!1,errorVatRequest:null},reducers:{clearVatRequestStatus:e=>{e.vatRequestStatus=null,e.errorVatRequest=null}},extraReducers:e=>{e.addCase(a9.pending,e=>{e.loadingVatRequest=!0,e.errorVatRequest=null}).addCase(a9.fulfilled,(e,t)=>{e.loadingVatRequest=!1,e.vatRequestStatus=t.payload}).addCase(a9.rejected,(e,t)=>{e.loadingVatRequest=!1,e.errorVatRequest=t.payload})}}),{clearVatRequestStatus:it}=ie.actions,ir=ie.reducer,ia=(0,_.hg)("wallet/getPaymentLinkWallet",async(e,t)=>{let{depositData:r,gateway:a}=e,{rejectWithValue:i}=t,l=localStorage.getItem("user");try{let e=await fetch(et("/payment/wallet/getpaymentlink"),{method:"POST",headers:new Headers({Authorization:`Bearer ${l}`,"Content-Type":"application/json"}),body:JSON.stringify({depositData:r,gateway:a})});if(!e.ok){let t=await e.json().catch(()=>({}));return i((null==t?void 0:t.message)||"Failed to retrieve wallet payment link")}return await e.json()}catch(e){return console.error("Network error:",e),i("Network error or server not responding")}}),ii=(0,_.oM)({name:"getPaymentLinkWallet",initialState:{walletPaymentLink:null,loadingWalletPaymentLink:!1,errorWalletPaymentLink:null},reducers:{clearPaymentLinkWalletState:e=>{e.walletPaymentLink=null,e.errorWalletPaymentLink=null}},extraReducers:e=>{e.addCase(ia.pending,e=>{e.loadingWalletPaymentLink=!0,e.errorWalletPaymentLink=null}).addCase(ia.fulfilled,(e,t)=>{e.loadingWalletPaymentLink=!1,e.walletPaymentLink=t.payload||null}).addCase(ia.rejected,(e,t)=>{e.loadingWalletPaymentLink=!1,e.errorWalletPaymentLink=t.payload})}}),{clearPaymentLinkWalletState:il}=ii.actions,is=ii.reducer,io=(0,_.hg)("wallet/verifyPaymentWallet",async(e,t)=>{let{rejectWithValue:r}=t;try{let t=localStorage.getItem("user"),a=await fetch(et("/payment/wallet/checkpaymentstatus"),{method:"POST",headers:new Headers({Authorization:`Bearer ${t}`,"Content-Type":"application/json"}),body:JSON.stringify(e)});if(!a.ok){let e=await a.json().catch(()=>({}));return r((null==e?void 0:e.message)||"Wallet payment verification failed")}return await a.json()}catch(e){return console.error("Network error:",e),r("Network error or server not responding")}}),id=(0,_.oM)({name:"verifyPaymentWallet",initialState:{walletPaymentStatus:null,loading:!1,error:null},reducers:{clearVerifyPaymentWalletState:e=>{e.walletPaymentStatus=null,e.error=null}},extraReducers:e=>{e.addCase(io.pending,e=>{e.loading=!0,e.error=null}).addCase(io.fulfilled,(e,t)=>{e.loading=!1,e.walletPaymentStatus=t.payload||null}).addCase(io.rejected,(e,t)=>{e.loading=!1,e.error=t.payload})}}),{clearVerifyPaymentWalletState:ic}=id.actions,iu=id.reducer,im=(0,_.hg)("walletTransfer/transferFromWallet",async(e,t)=>{let{rejectWithValue:r}=t,a=localStorage.getItem("user");try{let t=await fetch(et("/payment/wallet/transfer"),{method:"POST",headers:new Headers({Authorization:`Bearer ${a}`,"Content-Type":"application/json"}),body:JSON.stringify(e)});if(!t.ok){let e=await t.json().catch(()=>({})),a={status:t.status,message:(null==e?void 0:e.message)||eu(t.status)};return r(a)}return await t.json()}catch(e){return console.error("Network error:",e),r("Network error or server not responding")}}),ig=(0,_.oM)({name:"walletTransfer",initialState:{transferResult:null,loadingTransfer:!1,errorTransfer:null},reducers:{clearTransferState:e=>{e.transferResult=null,e.errorTransfer=null}},extraReducers:e=>{e.addCase(im.pending,e=>{e.loadingTransfer=!0,e.errorTransfer=null}).addCase(im.fulfilled,(e,t)=>{e.loadingTransfer=!1,e.transferResult=t.payload}).addCase(im.rejected,(e,t)=>{e.loadingTransfer=!1,e.errorTransfer=t.payload})}}),{clearTransferState:ip}=ig.actions,ih=ig.reducer,ix=(0,_.hg)("comments/submitComment",async(e,t)=>{let{productId:r,...a}=e,{rejectWithValue:i}=t,l=localStorage.getItem("user");try{let e=await fetch(et(`/singleproduct/createproductcomments/${r}`),{method:"POST",headers:new Headers({Authorization:`Bearer ${l}`,"Content-Type":"application/json"}),body:JSON.stringify(a)});if(!e.ok){let t=await e.json().catch(()=>({})),r={status:e.status,message:(null==t?void 0:t.message)||eu(e.status)};return i(r)}return await e.json()}catch(e){return console.error("Network error:",e),i("Network error or server not responding")}}),ib=(0,_.oM)({name:"submitComment",initialState:{submittedComment:{},submitLoading:!1,submitError:null},reducers:{clearSubmitCommentState:e=>{e.submittedComment={},e.submitLoading=!1,e.submitError=null},resetSubmitError:e=>{e.submitError=null}},extraReducers:e=>{e.addCase(ix.pending,e=>{e.submitLoading=!0,e.submitError=null}).addCase(ix.fulfilled,(e,t)=>{e.submitLoading=!1,e.submittedComment=t.payload||null}).addCase(ix.rejected,(e,t)=>{e.submitLoading=!1,e.submitError=t.payload})}}),{clearSubmitCommentState:iy,resetSubmitError:ij}=ib.actions,iv=ib.reducer,iC=(0,_.hg)("priceList/batchImport",async(e,t)=>{let{priceList:r}=e,{rejectWithValue:a}=t;try{let e=await fetch(et("/master-dash/pricelist/batch-import"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({priceList:r})});if(!e.ok){let t=await e.json().catch(()=>({}));return a((null==t?void 0:t.message)||"Failed to batch import price list")}return await e.json()}catch(e){return console.error("Network error:",e),a("Network error or server not responding")}}),iw=(0,_.oM)({name:"priceList",initialState:{items:[],loading:!1,error:null,successMessage:null},reducers:{clearPriceListState:e=>{e.items=[],e.loading=!1,e.error=null,e.successMessage=null}},extraReducers:e=>{e.addCase(iC.pending,e=>{e.loading=!0,e.error=null,e.successMessage=null}).addCase(iC.fulfilled,(e,t)=>{e.loading=!1,e.items=t.payload.priceList||[],e.successMessage=t.payload.message||"Price list imported successfully!"}).addCase(iC.rejected,(e,t)=>{e.loading=!1,e.error=t.payload})}}),{clearPriceListState:ik}=iw.actions,iS=iw.reducer,iI=(0,_.hg)("purchasedProducts/batchImport",async(e,t)=>{let{purchasedProducts:r}=e,{rejectWithValue:a}=t;try{let e=await fetch(et("/master-dash/purchasedproducts/batch-import"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({purchasedProducts:r})});if(!e.ok){let t=await e.json().catch(()=>({}));return a((null==t?void 0:t.message)||"Failed to batch import purchased products")}return await e.json()}catch(e){return console.error("Network error:",e),a("Network error or server not responding")}}),iz=(0,_.oM)({name:"purchasedProducts",initialState:{purchasedProducts:[],loading:!1,error:null,successMessage:null},reducers:{clearPurchasedProductsState:e=>{e.purchasedProducts=[],e.loading=!1,e.error=null,e.successMessage=null}},extraReducers:e=>{e.addCase(iI.pending,e=>{e.loading=!0,e.error=null,e.successMessage=null}).addCase(iI.fulfilled,(e,t)=>{e.loading=!1,e.purchasedProducts=t.payload.purchasedProducts||[],e.successMessage=t.payload.message||"Purchased products imported successfully!"}).addCase(iI.rejected,(e,t)=>{e.loading=!1,e.error=t.payload})}}),{clearPurchasedProductsState:iN}=iz.actions,iD=iz.reducer,iA=(0,_.hg)("homePageBootstrap/batchImport",async(e,t)=>{let{bootstrap:r}=e,{rejectWithValue:a}=t;try{let e=await fetch(et("/master-dash/bootstrap/batch-import"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({bootstrap:r})});if(!e.ok){let t=await e.json().catch(()=>({}));return a((null==t?void 0:t.message)||"Failed to batch import bootstrap")}return await e.json()}catch(e){return console.error("Network error:",e),a("Network error or server not responding")}}),iF=(0,_.oM)({name:"homePageBootstrap",initialState:{bootstrap:[],loading:!1,error:null,successMessage:null},reducers:{clearHomePageBootstrapState:e=>{e.bootstrap=[],e.loading=!1,e.error=null,e.successMessage=null}},extraReducers:e=>{e.addCase(iA.pending,e=>{e.loading=!0,e.error=null,e.successMessage=null}).addCase(iA.fulfilled,(e,t)=>{e.loading=!1,e.bootstrap=t.payload.bootstrap||[],e.successMessage=t.payload.message||"Bootstrap imported successfully!"}).addCase(iA.rejected,(e,t)=>{e.loading=!1,e.error=t.payload})}}),{clearHomePageBootstrapState:iM}=iF.actions,iT=iF.reducer,iP=(0,_.hg)("subscription/getSubscriptionByUserId",async(e,t)=>{let{rejectWithValue:r}=t,a=localStorage.getItem("user");try{let e=await fetch(et("/user-myaccounts/subscriptions/getsubscriptionbyuserid"),{method:"GET",headers:new Headers({Authorization:`Bearer ${a}`,"Content-Type":"application/json"})});if(!e.ok){let t=await e.json().catch(()=>({}));return r((null==t?void 0:t.message)||"Failed to retrieve subscription")}return await e.json()}catch(e){return console.error("Network error:",e),r("Network error or server not responding")}}),iE=(0,_.oM)({name:"subscriptionByUserId",initialState:{subscriptionByUserId:null,loadingSubscriptionByUserId:!1,errorSubscriptionByUserId:null},reducers:{clearSubscriptionByUserIdState:e=>{e.subscriptionByUserId=null,e.loadingSubscriptionByUserId=!1,e.errorSubscriptionByUserId=null}},extraReducers:e=>{e.addCase(iP.pending,e=>{e.loadingSubscriptionByUserId=!0,e.errorSubscriptionByUserId=null}).addCase(iP.fulfilled,(e,t)=>{e.loadingSubscriptionByUserId=!1,e.subscriptionByUserId=t.payload||null}).addCase(iP.rejected,(e,t)=>{e.loadingSubscriptionByUserId=!1,e.errorSubscriptionByUserId=t.payload})}}),{clearSubscriptionByUserIdState:i_}=iE.actions,iL=iE.reducer,iB=(0,_.oM)({name:"compare",initialState:{items:[]},reducers:{addToCompare:(e,t)=>{let{category:r,id:a}=t.payload,i=e.items.find(e=>e.category===r);i?!i.items.includes(a)&&i.items.length<4&&i.items.push(a):e.items.push({category:r,items:[a]})},removeFromCompare:(e,t)=>{let{category:r,id:a}=t.payload,i=e.items.find(e=>e.category===r);i&&(i.items=i.items.filter(e=>e!==a),0===i.items.length&&(e.items=e.items.filter(e=>e.category!==r)))},setCompareList:(e,t)=>{e.items=t.payload},clearCompareList:(e,t)=>{let r=null==t?void 0:t.payload;r?e.items=e.items.filter(e=>e.category!==r):e.items=[]}}}),{addToCompare:iO,removeFromCompare:iR,setCompareList:iW,clearCompareList:iZ}=iB.actions,iU=iB.reducer,i$=(0,_.hg)("userMessages/userMessagesGetComponent",async(e,t)=>{let{rejectWithValue:r}=t,a=localStorage.getItem("user");try{let e=await fetch(et("/user-myaccounts/user-messages/notification-component"),{method:"GET",headers:new Headers({Authorization:`Bearer ${a}`,"Content-Type":"application/json"})});if(!e.ok){let t=await e.json().catch(()=>({}));return r((null==t?void 0:t.message)||"Failed to retrieve user messages component")}return await e.json()}catch(e){return console.error("Network error:",e),r("Network error or server not responding")}}),iq=(0,_.hg)("userMessages/markNotificationAsRead",async(e,t)=>{let{notificationId:r,index:a}=e,{rejectWithValue:i}=t,l=localStorage.getItem("user");try{let e=await fetch(et("/user-myaccounts/notifications/set-seen"),{method:"POST",headers:new Headers({Authorization:`Bearer ${l}`,"Content-Type":"application/json"}),body:JSON.stringify({notificationId:r,isRead:!0})});if(!e.ok){let t=await e.json().catch(()=>({}));return i((null==t?void 0:t.message)||"Failed to mark notification as read")}let t=await e.json();return{notificationId:r,index:a,...t}}catch(e){return console.error("Network error:",e),i("Network error or server not responding")}}),iK=(0,_.oM)({name:"userMessagesGetComponent",initialState:{userMessagesComponent:null,notificationIds:[],notificationCount:0,loadingUserMessagesComponent:!1,errorUserMessagesComponent:null,markingAsRead:!1,markAsReadError:null},reducers:{clearUserMessagesComponentState:e=>{e.userMessagesComponent=null,e.notificationIds=[],e.notificationCount=0,e.errorUserMessagesComponent=null,e.markAsReadError=null},clearMarkAsReadError:e=>{e.markAsReadError=null}},extraReducers:e=>{e.addCase(i$.pending,e=>{e.loadingUserMessagesComponent=!0,e.errorUserMessagesComponent=null}).addCase(i$.fulfilled,(e,t)=>{var r,a,i;e.loadingUserMessagesComponent=!1,e.userMessagesComponent=(null==(r=t.payload)?void 0:r.component)||null,e.notificationIds=(null==(a=t.payload)?void 0:a.notificationIds)||[],e.notificationCount=(null==(i=t.payload)?void 0:i.count)||0}).addCase(i$.rejected,(e,t)=>{e.loadingUserMessagesComponent=!1,e.errorUserMessagesComponent=t.payload}).addCase(iq.pending,e=>{e.markingAsRead=!0,e.markAsReadError=null}).addCase(iq.fulfilled,(e,t)=>{e.markingAsRead=!1}).addCase(iq.rejected,(e,t)=>{e.markingAsRead=!1,e.markAsReadError=t.payload})}}),{clearUserMessagesComponentState:iV,clearMarkAsReadError:iH}=iK.actions,iG=iK.reducer,iX=(0,_.hg)("gateWaysData/getAll",async(e,t)=>{let{rejectWithValue:r}=t;try{let t=await fetch(et("/gatewaysdata"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){let e=await t.json().catch(()=>({}));return r((null==e?void 0:e.message)||"Failed to fetch gateways data")}return await t.json()}catch(e){return console.error("Network error:",e),r("Network error or server not responding")}}),iY=(0,_.oM)({name:"gateWaysData",initialState:{gateways:[],loading:!1,error:null},reducers:{clearGateWaysDataState:e=>{e.gateways=[],e.loading=!1,e.error=null}},extraReducers:e=>{e.addCase(iX.pending,e=>{e.loading=!0,e.error=null}).addCase(iX.fulfilled,(e,t)=>{e.loading=!1,e.gateways=t.payload||[]}).addCase(iX.rejected,(e,t)=>{e.loading=!1,e.error=t.payload})}}),{clearGateWaysDataState:iJ}=iY.actions,iQ=iY.reducer,i0=(0,_.hg)("fastEditBrandMode/update",async(e,t)=>{let{updateData:r,itemId:a}=e,{rejectWithValue:i}=t,l=localStorage.getItem("user");try{let e=await fetch(et("/fastedit/updateproduct"),{method:"PUT",headers:new Headers({Authorization:`Bearer ${l}`,"Content-Type":"application/json"}),body:JSON.stringify({updateData:r,itemId:a})});if(!e.ok){let t=await e.json().catch(()=>({})),r={status:e.status,message:(null==t?void 0:t.message)||eu(e.status)};return i(r)}return await e.json()}catch(e){return console.error("Network error:",e),i("Network error or server not responding")}}),i1=(0,_.oM)({name:"fastEditBrandModeUpdate",initialState:{brandModeUpdate:null,loadingBrandModeUpdate:!1,errorBrandModeUpdate:null,successMessageBrandModeUpdate:null},reducers:{clearFastEditBrandModeState:e=>{e.brandModeUpdate=null,e.loadingBrandModeUpdate=!1,e.errorBrandModeUpdate=null,e.successMessageBrandModeUpdate=null}},extraReducers:e=>{e.addCase(i0.pending,e=>{e.loadingBrandModeUpdate=!0,e.errorBrandModeUpdate=null,e.successMessageBrandModeUpdate=null}).addCase(i0.fulfilled,(e,t)=>{e.loadingBrandModeUpdate=!1,e.brandModeUpdate=t.payload||null,e.successMessageBrandModeUpdate=t.payload.message||"Brand mode updated successfully!"}).addCase(i0.rejected,(e,t)=>{e.loadingBrandModeUpdate=!1,e.errorBrandModeUpdate=t.payload})}}),{clearFastEditBrandModeState:i6}=i1.actions,i2=i1.reducer,i4=(0,_.hg)("subscriptions/getSubscriptionInfo",async(e,t)=>{let{modelId:r}=e,{rejectWithValue:a}=t,i=localStorage.getItem("user");try{let e=await fetch(et(`/user-myaccounts/subscriptions/info/${r}`),{method:"GET",headers:new Headers({Authorization:`Bearer ${i}`,"Content-Type":"application/json"})});if(!e.ok){let t=await e.json().catch(()=>({})),r={status:e.status,message:(null==t?void 0:t.message)||eu(e.status)};return a(r)}return await e.json()}catch(e){return console.error("Network error:",e),a("Network error or server not responding")}}),i3=(0,_.oM)({name:"getSubscriptionInfo",initialState:{subscriptionInfo:null,loadingSubscriptionInfo:!1,errorSubscriptionInfo:null,showSubscriptionModal:!1},reducers:{clearSubscriptionInfoState:e=>{e.subscriptionInfo=null,e.loadingSubscriptionInfo=!1,e.errorSubscriptionInfo=null,e.showSubscriptionModal=!1},setShowSubscriptionModal:(e,t)=>{e.showSubscriptionModal=t.payload}},extraReducers:e=>{e.addCase(i4.pending,e=>{e.loadingSubscriptionInfo=!0,e.errorSubscriptionInfo=null,e.showSubscriptionModal=!1}).addCase(i4.fulfilled,(e,t)=>{e.loadingSubscriptionInfo=!1,e.subscriptionInfo=t.payload,e.showSubscriptionModal=!0}).addCase(i4.rejected,(e,t)=>{e.loadingSubscriptionInfo=!1,e.errorSubscriptionInfo=t.payload,e.showSubscriptionModal=!1})}}),{clearSubscriptionInfoState:i5,setShowSubscriptionModal:i8}=i3.actions,i7=i3.reducer,i9=(0,_.hg)("userMyAccounts/getUserMyAccount",async(e,t)=>{let{rejectWithValue:r}=t,a=localStorage.getItem("user");try{let e=await fetch(et("/user-myaccounts"),{method:"GET",headers:{"Content-Type":"application/json"},headers:new Headers({Authorization:`Bearer ${a}`,"Content-Type":"application/json"})});if(!e.ok){let t=await e.json().catch(()=>({}));return r((null==t?void 0:t.message)||"Failed to retrieve user account details")}return await e.json()}catch(e){return console.error("Network error:",e),r("Network error or server not responding")}}),le=(0,_.oM)({name:"userMyAccountsGet",initialState:{userAccount:null,loading:!1,error:null},reducers:{clearUserMyAccountState:e=>{e.userAccount=null,e.error=null}},extraReducers:e=>{e.addCase(i9.pending,e=>{e.loading=!0,e.error=null}).addCase(i9.fulfilled,(e,t)=>{e.loading=!1,e.userAccount=t.payload||null}).addCase(i9.rejected,(e,t)=>{e.loading=!1,e.error=t.payload})}}),{clearUserMyAccountState:lt}=le.actions,lr=le.reducer,la=(0,_.hg)("category/saveFilterSettings",async(e,t)=>{let{slug:r,filters:a,filterName:i}=e,{rejectWithValue:l}=t,s=localStorage.getItem("user");try{let e=await fetch(et(`/save-filters/${r}/create`),{method:"POST",headers:new Headers({Authorization:`Bearer ${s}`,"Content-Type":"application/json"}),body:JSON.stringify({...a,filterName:i})});if(!e.ok){let t=await e.json().catch(()=>({})),r={status:e.status,message:(null==t?void 0:t.message)||getHttpCodeMessage(e.status)};return l(r)}return await e.json()}catch(e){return console.error("Save filter error:",e),l("Network error or server not responding")}}),li=(0,_.oM)({name:"filterSettings",initialState:{saveStatus:null,saveLoading:!1,saveError:null},reducers:{clearSaveFilterState:e=>{e.saveStatus=null,e.saveLoading=!1,e.saveError=null}},extraReducers:e=>{e.addCase(la.pending,e=>{e.saveLoading=!0,e.saveError=null}).addCase(la.fulfilled,(e,t)=>{e.saveLoading=!1,e.saveStatus=t.payload}).addCase(la.rejected,(e,t)=>{e.saveLoading=!1,e.saveError=t.payload})}}),{clearSaveFilterState:ll}=li.actions,ls=li.reducer,ln=(0,_.hg)("category/updateFilterSettings",async(e,t)=>{let{slug:r,...a}=e,{rejectWithValue:i}=t,l=localStorage.getItem("user");try{let e=await fetch(et(`/save-filters/${r}/update`),{method:"PUT",headers:new Headers({Authorization:`Bearer ${l}`,"Content-Type":"application/json"}),body:JSON.stringify(a)});if(!e.ok){let t=await e.json().catch(()=>({})),r={status:e.status,message:(null==t?void 0:t.message)||eu(e.status)};return i(r)}return await e.json()}catch(e){return console.error("Update filter error:",e),i("Network error or server not responding")}}),lo=(0,_.oM)({name:"updateFilterSettings",initialState:{updateStatus:null,updateLoading:!1,updateError:null},reducers:{clearUpdateFilterState:e=>{e.updateStatus=null,e.updateLoading=!1,e.updateError=null}},extraReducers:e=>{e.addCase(ln.pending,e=>{e.updateLoading=!0,e.updateError=null}).addCase(ln.fulfilled,(e,t)=>{e.updateLoading=!1,e.updateStatus=t.payload}).addCase(ln.rejected,(e,t)=>{e.updateLoading=!1,e.updateError=t.payload})}}),{clearUpdateFilterState:ld}=lo.actions,lc=lo.reducer,lu=(0,_.hg)("brandsData/getAllBrands",async(e,t)=>{let{rejectWithValue:r}=t;try{let e=await fetch(et("/brands"),{method:"GET",headers:new Headers({"Content-Type":"application/json"})});if(!e.ok){let t=await e.json().catch(()=>({})),a={statusCode:e.status,message:(null==t?void 0:t.message)||eu(e.status),type:"HTTP_ERROR"};return r(a)}let t=await e.json();if("error"===t.state||"false"===t.success){let e={statusCode:null,message:t.error||t.message||"خطا در دریافت اطلاعات",type:"API_ERROR",apiResponse:t};return r(e)}return t}catch(e){return console.error("Network error:",e),r({statusCode:null,message:"خطا در اتصال به سرور",type:"NETWORK_ERROR"})}}),lm=(0,_.hg)("brandsData/getBrandBySlug",async(e,t)=>{let{rejectWithValue:r}=t;try{let t=await fetch(et(`/brandspagedata/${e}`),{method:"GET",headers:new Headers({"Content-Type":"application/json"})});if(!t.ok){let e=await t.json().catch(()=>({})),a={statusCode:t.status,message:(null==e?void 0:e.message)||eu(t.status),type:"HTTP_ERROR"};return r(a)}let a=await t.json();if("error"===a.state||"false"===a.success){let e={statusCode:null,message:a.error||a.message||"خطا در دریافت اطلاعات برند",type:"API_ERROR",apiResponse:a};return r(e)}return a}catch(e){return console.error("Network error:",e),r({statusCode:null,message:"خطا در اتصال به سرور",type:"NETWORK_ERROR"})}}),lg=(0,_.hg)("brandsData/getBrandProducts",async(e,t)=>{let{slug:r,page:a=1,limit:i=20,filters:l={}}=e,{rejectWithValue:s}=t;try{let e=new URLSearchParams({page:a.toString(),limit:i.toString(),...l}),t=await fetch(et(`/brands/${r}/products?${e}`),{method:"GET",headers:new Headers({"Content-Type":"application/json"})});if(!t.ok){let e=await t.json().catch(()=>({})),r={statusCode:t.status,message:(null==e?void 0:e.message)||eu(t.status),type:"HTTP_ERROR"};return s(r)}let n=await t.json();if("error"===n.state||"false"===n.success){let e={statusCode:null,message:n.error||n.message||"خطا در دریافت محصولات برند",type:"API_ERROR",apiResponse:n};return s(e)}return n}catch(e){return console.error("Network error:",e),s({statusCode:null,message:"خطا در اتصال به سرور",type:"NETWORK_ERROR"})}}),lp=(0,_.oM)({name:"brandsData",initialState:{brands:[],currentBrand:null,brandProducts:[],isLoading:!1,error:null,errorCode:null,errorType:null,pagination:{currentPage:1,totalPages:0,totalItems:0,itemsPerPage:20}},reducers:{clearError:e=>{e.error=null,e.errorCode=null,e.errorType=null},clearCurrentBrand:e=>{e.currentBrand=null},clearBrandProducts:e=>{e.brandProducts=[]}},extraReducers:e=>{e.addCase(lu.pending,e=>{e.isLoading=!0,e.error=null,e.errorCode=null,e.errorType=null}).addCase(lu.fulfilled,(e,t)=>{e.isLoading=!1,e.brands=t.payload.data||t.payload,e.error=null,e.errorCode=null,e.errorType=null}).addCase(lu.rejected,(e,t)=>{var r,a,i;e.isLoading=!1,e.error=(null==(r=t.payload)?void 0:r.message)||t.payload,e.errorCode=(null==(a=t.payload)?void 0:a.statusCode)||null,e.errorType=(null==(i=t.payload)?void 0:i.type)||null}).addCase(lm.pending,e=>{e.isLoading=!0,e.error=null,e.errorCode=null,e.errorType=null,e.currentBrand=null}).addCase(lm.fulfilled,(e,t)=>{e.isLoading=!1,e.currentBrand=t.payload.data||t.payload,e.error=null,e.errorCode=null,e.errorType=null}).addCase(lm.rejected,(e,t)=>{var r,a,i;e.isLoading=!1,e.error=(null==(r=t.payload)?void 0:r.message)||t.payload,e.errorCode=(null==(a=t.payload)?void 0:a.statusCode)||null,e.errorType=(null==(i=t.payload)?void 0:i.type)||null,e.currentBrand=null}).addCase(lg.pending,e=>{e.isLoading=!0,e.error=null,e.errorCode=null,e.errorType=null}).addCase(lg.fulfilled,(e,t)=>{e.isLoading=!1;let r=t.payload;r.data?(e.brandProducts=r.data,e.pagination={currentPage:r.currentPage||1,totalPages:r.totalPages||0,totalItems:r.totalItems||0,itemsPerPage:r.itemsPerPage||20}):e.brandProducts=r,e.error=null,e.errorCode=null,e.errorType=null}).addCase(lg.rejected,(e,t)=>{var r,a,i;e.isLoading=!1,e.error=(null==(r=t.payload)?void 0:r.message)||t.payload,e.errorCode=(null==(a=t.payload)?void 0:a.statusCode)||null,e.errorType=(null==(i=t.payload)?void 0:i.type)||null,e.brandProducts=[]})}}),{clearError:lh,clearCurrentBrand:lx,clearBrandProducts:lb}=lp.actions,lf=lp.reducer,ly=(0,_.hg)("category/getFilterSettings",async(e,t)=>{let{rejectWithValue:r}=t,a=localStorage.getItem("user");try{let t=await fetch(et(`/save-filters/${e}`),{method:"GET",headers:new Headers({Authorization:`Bearer ${a}`})});if(!t.ok){let e=await t.json().catch(()=>({}));return r((null==e?void 0:e.message)||"Failed to fetch filters")}let i=await t.json();return(null==i?void 0:i.data)||[]}catch(e){return console.error("Get filter settings error:",e),r("Network error or server not responding")}}),lj=(0,_.oM)({name:"filterSettings",initialState:{saveStatus:null,saveLoading:!1,saveError:null,getStatus:null,getLoading:!1,getError:null,savedFilters:[]},reducers:{clearSaveFilterState:e=>{e.saveStatus=null,e.saveLoading=!1,e.saveError=null}},extraReducers:e=>{e.addCase(la.pending,e=>{e.saveLoading=!0,e.saveError=null}).addCase(la.fulfilled,(e,t)=>{e.saveLoading=!1,e.saveStatus=t.payload}).addCase(la.rejected,(e,t)=>{e.saveLoading=!1,e.saveError=t.payload}).addCase(ly.pending,e=>{e.getLoading=!0,e.getError=null}).addCase(ly.fulfilled,(e,t)=>{e.getLoading=!1,e.savedFilters=t.payload,e.getStatus="success"}).addCase(ly.rejected,(e,t)=>{e.getLoading=!1,e.getError=t.payload,e.getStatus="failed"})}}),{clearSaveFilterState:lv}=lj.actions,lC=lj.reducer,lw=(0,_.hg)("fastOrderTableDataCategoryModeSavedFilters/fetch",async(e,t)=>{let{checkedRowIds:r,searchType:a}=e,{rejectWithValue:i}=t;try{let e=await fetch(et(`/fast-order-category-mode/fetch-table-by-ids?searchType=${a}`),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({ids:Array.from(r)})});if(!e.ok){let t=await e.json().catch(()=>({}));return i((null==t?void 0:t.message)||"Failed to fetch table data")}return await e.json()}catch(e){return console.error("Network error:",e),i("Network error or server not responding")}}),lk=(0,_.oM)({name:"fastOrderTableDataCategoryModeSavedFilters",initialState:{tableDataFromSavedFilters:null,loadingTableDataFromSavedFilters:!1,errorTableDataFromSavedFilters:null},reducers:{clearCategoryModeCheckedRowsTableData:e=>{e.tableDataFromSavedFilters=null,e.loadingTableDataFromSavedFilters=!1,e.errorTableDataFromSavedFilters=null},resetCategoryModeTableData:e=>{e.tableDataFromSavedFilters=null}},extraReducers:e=>{e.addCase(lw.pending,e=>{e.loadingTableDataFromSavedFilters=!0,e.errorTableDataFromSavedFilters=null}).addCase(lw.fulfilled,(e,t)=>{e.loadingTableDataFromSavedFilters=!1,e.tableDataFromSavedFilters=t.payload||null}).addCase(lw.rejected,(e,t)=>{e.loadingTableDataFromSavedFilters=!1,e.errorTableDataFromSavedFilters=t.payload})}}),{clearCategoryModeCheckedRowsTableData:lS,resetCategoryModeTableData:lI}=lk.actions,lz=lk.reducer,lN=(0,_.hg)("stockAlert/getUserStockAlertInfo",async(e,t)=>{let{rejectWithValue:r}=t,a=localStorage.getItem("user");try{let t=await fetch(et(`/users/userstockalertinfoget/${e}`),{method:"GET",headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}});if(!t.ok){let e=await t.json().catch(()=>({})),a={status:t.status,message:(null==e?void 0:e.message)||eu(t.status)};return r(a)}return await t.json()}catch(e){return r({status:0,message:"خطا در اتصال به سرور"})}}),lD=(0,_.hg)("stockAlert/setUserStockAlertInfo",async(e,t)=>{let{rejectWithValue:r}=t,a=localStorage.getItem("user");try{let t=await fetch(et("/users/userstockalertinfoset"),{method:"POST",headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){let e=await t.json().catch(()=>({})),a={status:t.status,message:(null==e?void 0:e.message)||eu(t.status)};return r(a)}return await t.json()}catch(e){return r({status:0,message:"خطا در اتصال به سرور"})}}),lA=(0,_.hg)("stockAlert/removeUserStockAlertInfo",async(e,t)=>{let{rejectWithValue:r}=t,a=localStorage.getItem("user");try{let t=await fetch(et(`/users/userstockalertinforemove/${e}`),{method:"GET",headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}});if(!t.ok){let e=await t.json().catch(()=>({})),a={status:t.status,message:(null==e?void 0:e.message)||eu(t.status)};return r(a)}return await t.json()}catch(e){return r({status:0,message:"خطا در اتصال به سرور"})}}),lF=(0,_.oM)({name:"stockAlert",initialState:{alertInfo:{},getLoading:!1,setLoading:!1,removeLoading:!1,getError:null,setError:null,removeError:null,setSuccess:!1,removeSuccess:!1},reducers:{clearStockAlertState:e=>{e.alertInfo={},e.getLoading=!1,e.setLoading=!1,e.removeLoading=!1,e.getError=null,e.setError=null,e.removeError=null,e.setSuccess=!1,e.removeSuccess=!1},clearStockAlertInfo:e=>{e.alertInfo={},e.getLoading=!1,e.setLoading=!1,e.removeLoading=!1,e.getError=null,e.setError=null,e.removeError=null,e.setSuccess=!1,e.removeSuccess=!1},clearStockAlertErrors:e=>{e.getError=null,e.setError=null,e.removeError=null,e.setSuccess=!1,e.removeSuccess=!1},resetLoadingStates:e=>{e.getLoading=!1,e.setLoading=!1,e.removeLoading=!1}},extraReducers:e=>{e.addCase(lN.pending,e=>{e.getLoading=!0,e.getError=null,e.setSuccess=!1,e.removeSuccess=!1}).addCase(lN.fulfilled,(e,t)=>{e.getLoading=!1,e.getError=null,e.alertInfo=t.payload||{}}).addCase(lN.rejected,(e,t)=>{e.getLoading=!1,e.getError=t.payload||{message:"خطای نامشخص"}}).addCase(lD.pending,e=>{e.setLoading=!0,e.setError=null,e.setSuccess=!1}).addCase(lD.fulfilled,(e,t)=>{e.setLoading=!1,e.setError=null,e.alertInfo=t.payload||{},e.setSuccess=!0,setTimeout(()=>{e.setSuccess=!1},3e3)}).addCase(lD.rejected,(e,t)=>{e.setLoading=!1,e.setError=t.payload||{message:"خطای نامشخص"},e.setSuccess=!1}).addCase(lA.pending,e=>{e.removeLoading=!0,e.removeError=null,e.removeSuccess=!1}).addCase(lA.fulfilled,(e,t)=>{var r;e.removeLoading=!1,e.removeError=null,e.alertInfo=(null==(r=t.payload)?void 0:r.userStockAlert)||{alertType:"not_selected",price:"",inventory:"",supplierSelection:"select",selectedSuppliers:[],sms:!1,email:!1},e.removeSuccess=!0,setTimeout(()=>{e.removeSuccess=!1},3e3)}).addCase(lA.rejected,(e,t)=>{e.removeLoading=!1,e.removeError=t.payload||{message:"خطای نامشخص"},e.removeSuccess=!1})}}),{clearStockAlertState:lM,clearStockAlertInfo:lT,clearStockAlertErrors:lP,resetLoadingStates:lE}=lF.actions,l_=lF.reducer,lL=(0,_.hg)("checkedRowsTableData/fetch",async(e,t)=>{let{checkedRowIds:r,searchType:a}=e,{rejectWithValue:i}=t;try{let e=await fetch(et(`/fast-order-brand-mode/fetch-table-by-ids?searchType=${a}`),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ids:Array.from(r)})});if(!e.ok){let t=await e.json().catch(()=>({}));return i((null==t?void 0:t.message)||"Failed to fetch table data")}return await e.json()}catch(e){return console.error("Network error:",e),i("Network error or server not responding")}}),lB=(0,_.oM)({name:"checkedRowsTableData",initialState:{tableDataFromSavedFilters:[],loadingTableDataFromSavedFilters:!1,errorTableDataFromSavedFilters:null},reducers:{clearCheckedRowsTableData:e=>{e.tableDataFromSavedFilters=[],e.loadingTableDataFromSavedFilters=!1,e.errorTableDataFromSavedFilters=null}},extraReducers:e=>{e.addCase(lL.pending,e=>{e.loadingTableDataFromSavedFilters=!0,e.errorTableDataFromSavedFilters=null}).addCase(lL.fulfilled,(e,t)=>{e.loadingTableDataFromSavedFilters=!1,e.tableDataFromSavedFilters=t.payload||[]}).addCase(lL.rejected,(e,t)=>{e.loadingTableDataFromSavedFilters=!1,e.errorTableDataFromSavedFilters=t.payload})}}),{clearCheckedRowsTableData:lO}=lB.actions,lR=lB.reducer,lW=(0,_.hg)("cart/fetchCartData",async(e,t)=>{let{rejectWithValue:r}=t,a=localStorage.getItem("user");if(!a)return r({status:401,message:"No authentication token found"});try{let e=await fetch(et("/cart"),{method:"GET",headers:new Headers({Authorization:`Bearer ${a}`,"Content-Type":"application/json"})});if(!e.ok){if(429===e.status){let t=await e.json().catch(()=>({}));return r({status:429,message:(null==t?void 0:t.message)||"Too many requests, please try again later",retryAfter:e.headers.get("Retry-After")||60})}401===e.status&&localStorage.removeItem("user");let t=await e.json().catch(()=>({})),a={status:e.status,message:(null==t?void 0:t.message)||eu(e.status)};return r(a)}let t=await e.json();return{message:"ok",cart:t.cart||[],totalPrice:t.total||0}}catch(e){return console.error("Cart fetch network error:",e),r({status:0,message:"Network error or server not responding"})}}),lZ=(0,_.hg)("cart/updateCartItem",async(e,t)=>{let{productId:r,combinationsID:a,sellerId:i,quantity:l}=e,{rejectWithValue:s}=t,n=localStorage.getItem("user");if(!n)return s({status:401,message:"No authentication token found"});try{let e=await fetch(et("/cart/update"),{method:"POST",headers:new Headers({Authorization:`Bearer ${n}`,"Content-Type":"application/json"}),body:JSON.stringify({productId:r,combinationsID:a,sellerId:i,quantity:l})});if(!e.ok){if(429===e.status){let t=await e.json().catch(()=>({}));return s({status:429,message:(null==t?void 0:t.message)||"Too many requests, please try again later",retryAfter:e.headers.get("Retry-After")||60})}401===e.status&&localStorage.removeItem("user");let t=await e.json().catch(()=>({})),r={status:e.status,message:(null==t?void 0:t.message)||eu(e.status)};return s(r)}return await e.json()}catch(e){return console.error("Cart update network error:",e),s({status:0,message:"Network error or server not responding"})}}),lU=(0,_.hg)("cart/removeCartItem",async(e,t)=>{let{productId:r,combinationsID:a,sellerId:i}=e,{rejectWithValue:l}=t,s=localStorage.getItem("user");if(!s)return l({status:401,message:"No authentication token found"});try{let e=await fetch(et("/cart/remove"),{method:"POST",headers:new Headers({Authorization:`Bearer ${s}`,"Content-Type":"application/json"}),body:JSON.stringify({productId:r,combinationsID:a,sellerId:i})});if(!e.ok){if(429===e.status){let t=await e.json().catch(()=>({}));return l({status:429,message:(null==t?void 0:t.message)||"Too many requests, please try again later",retryAfter:e.headers.get("Retry-After")||60})}401===e.status&&localStorage.removeItem("user");let t=await e.json().catch(()=>({})),r={status:e.status,message:(null==t?void 0:t.message)||eu(e.status)};return l(r)}let t=await e.json();return{productId:r,combinationsID:a,sellerId:i,...t}}catch(e){return console.error("Cart remove network error:",e),l({status:0,message:"Network error or server not responding"})}}),l$=(0,_.oM)({name:"cartData",initialState:{cart:[],totalPrice:0,loadingCartData:!1,errorCartData:null,lastFetchTime:null,rateLimited:!1,retryAfter:null,updatingCartItem:!1,updateCartItemError:null,removingCartItem:!1,removeCartItemError:null},reducers:{clearCartData:e=>{e.cart=[],e.totalPrice=0,e.errorCartData=null,e.lastFetchTime=null,e.rateLimited=!1,e.retryAfter=null},clearCartErrors:e=>{e.errorCartData=null,e.updateCartItemError=null,e.removeCartItemError=null,e.rateLimited=!1,e.retryAfter=null},setInitial:(e,t)=>{var r;e.cart=t.payload||[],e.totalPrice=(null==(r=t.payload)?void 0:r.reduce((e,t)=>{var r,a;return e+((null==(r=t.price)?void 0:r.discountedPrice)||(null==(a=t.price)?void 0:a.regularPrice)||0)*t.count},0))||0},updateLocalCartItem:(e,t)=>{let{productId:r,combinationsID:a,sellerId:i,quantity:l}=t.payload,s=e.cart.findIndex(e=>e.productId===r&&e.combinationsID===a&&e.seller_id===i);-1!==s&&(l<=0?e.cart.splice(s,1):e.cart[s].count=l,e.totalPrice=e.cart.reduce((e,t)=>{var r,a;return e+((null==(r=t.price)?void 0:r.discountedPrice)||(null==(a=t.price)?void 0:a.regularPrice)||0)*t.count},0))},removeLocalCartItem:(e,t)=>{let{productId:r,combinationsID:a,sellerId:i}=t.payload;e.cart=e.cart.filter(e=>e.productId!==r||e.combinationsID!==a||e.seller_id!==i),e.totalPrice=e.cart.reduce((e,t)=>{var r,a;return e+((null==(r=t.price)?void 0:r.discountedPrice)||(null==(a=t.price)?void 0:a.regularPrice)||0)*t.count},0)},resetRateLimit:e=>{e.rateLimited=!1,e.retryAfter=null}},extraReducers:e=>{e.addCase(lW.pending,e=>{e.loadingCartData=!0,e.errorCartData=null}).addCase(lW.fulfilled,(e,t)=>{e.loadingCartData=!1,e.cart=t.payload.cart||[],e.totalPrice=t.payload.totalPrice||0,e.lastFetchTime=Date.now(),e.rateLimited=!1,e.retryAfter=null}).addCase(lW.rejected,(e,t)=>{var r,a;e.loadingCartData=!1,e.errorCartData=t.payload,(null==(r=t.payload)?void 0:r.status)===429&&(e.rateLimited=!0,e.retryAfter=(null==(a=t.payload)?void 0:a.retryAfter)||60)}).addCase(lZ.pending,e=>{e.updatingCartItem=!0,e.updateCartItemError=null}).addCase(lZ.fulfilled,(e,t)=>{var r;e.updatingCartItem=!1,(null==(r=t.payload)?void 0:r.cart)&&(e.cart=t.payload.cart,e.totalPrice=t.payload.totalPrice||0)}).addCase(lZ.rejected,(e,t)=>{var r,a;e.updatingCartItem=!1,e.updateCartItemError=t.payload,(null==(r=t.payload)?void 0:r.status)===429&&(e.rateLimited=!0,e.retryAfter=(null==(a=t.payload)?void 0:a.retryAfter)||60)}).addCase(lU.pending,e=>{e.removingCartItem=!0,e.removeCartItemError=null}).addCase(lU.fulfilled,(e,t)=>{var r;e.removingCartItem=!1,(null==(r=t.payload)?void 0:r.cart)&&(e.cart=t.payload.cart,e.totalPrice=t.payload.totalPrice||0)}).addCase(lU.rejected,(e,t)=>{var r,a;e.removingCartItem=!1,e.removeCartItemError=t.payload,(null==(r=t.payload)?void 0:r.status)===429&&(e.rateLimited=!0,e.retryAfter=(null==(a=t.payload)?void 0:a.retryAfter)||60)})}}),{clearCartData:lq,clearCartErrors:lK,setInitial:lV,updateLocalCartItem:lH,removeLocalCartItem:lG,resetRateLimit:lX}=l$.actions,lY=l$.reducer,lJ=(0,_.hg)("shopHome/fetchShopHomeData",async(e,t)=>{let{rejectWithValue:r}=t,a=localStorage.getItem("user");try{let e=await fetch(et("/homepage/homepagedata"),{method:"GET",headers:new Headers({Authorization:`Bearer ${a}`,"Content-Type":"application/json"})});if(!e.ok){let t=await e.json().catch(()=>({})),a={status:e.status,message:(null==t?void 0:t.message)||eu(e.status)};return r(a)}return await e.json()}catch(e){return console.error("Network error:",e),r("Network error or server not responding")}}),lQ=(0,_.oM)({name:"shopHome",initialState:{homeData:null,loadingShopHome:!1,errorShopHome:null,successShopHome:!1,lastFetched:null},reducers:{clearShopHomeState:e=>{e.homeData=null,e.loadingShopHome=!1,e.errorShopHome=null,e.successShopHome=!1,e.lastFetched=null},resetShopHomeError:e=>{e.errorShopHome=null}},extraReducers:e=>{e.addCase(lJ.pending,e=>{e.loadingShopHome=!0,e.errorShopHome=null}).addCase(lJ.fulfilled,(e,t)=>{e.loadingShopHome=!1,e.successShopHome=!0,e.homeData=t.payload.data,e.lastFetched=Date.now()}).addCase(lJ.rejected,(e,t)=>{e.loadingShopHome=!1,e.errorShopHome=t.payload,e.successShopHome=!1})}}),{clearShopHomeState:l0,resetShopHomeError:l1}=lQ.actions,l6=lQ.reducer,l2=(0,_.hg)("favorites/getUserFavoritesList",async(e,t)=>{let{rejectWithValue:r}=t,a=localStorage.getItem("user");try{let e=await fetch(et("/users/favorites"),{method:"GET",headers:new Headers({Authorization:`Bearer ${a}`,"Content-Type":"application/json"})});if(!e.ok){let t=await e.json().catch(()=>({})),a={status:e.status,message:(null==t?void 0:t.message)||eu(e.status)};return r(a)}let t=await e.json();return(null==t?void 0:t.favorites)||[]}catch(e){return r("Network error or server not responding")}}),l4=(0,_.oM)({name:"getUserFavoritesList",initialState:{getUserFavoritesListData:[],loadingGetUserFavoritesList:!1,errorGetUserFavoritesList:null},reducers:{clearGetUserFavoritesList:e=>{e.getUserFavoritesListData=[],e.loadingGetUserFavoritesList=!1,e.errorGetUserFavoritesList=null},updateLocalFavoriteStatus:(e,t)=>{let{productId:r,isFavorite:a}=t.payload;a?e.getUserFavoritesListData.some(e=>e.id===r)||e.getUserFavoritesListData.push({id:r}):e.getUserFavoritesListData=e.getUserFavoritesListData.filter(e=>e.id!==r)}},extraReducers:e=>{e.addCase(l2.pending,e=>{e.loadingGetUserFavoritesList=!0,e.errorGetUserFavoritesList=null}).addCase(l2.fulfilled,(e,t)=>{e.loadingGetUserFavoritesList=!1,e.getUserFavoritesListData=t.payload}).addCase(l2.rejected,(e,t)=>{e.loadingGetUserFavoritesList=!1,e.errorGetUserFavoritesList=t.payload})}}),{clearGetUserFavoritesList:l3,updateLocalFavoriteStatus:l5}=l4.actions,l8=l4.reducer,l7=(0,_.xC)({reducer:{basketInfo:O,global:U,editor:H,cart:ee,cartData:lY,auth:es,authMaster:e9,cartfinalreceipt:ec,cartFinalReceiptUpdateDiscount:eh,cartFinalReceiptUpdateDiscountDelete:ey,cartFinalReceiptUpdateGateway:ew,shopHome:l6,userAlertInfo:ez,user:eF,updateUserInfo:ra,getPaymentLink:eE,verifypayment:eO,getSubscriptionInfo:i7,singleProduct:ru,orders:tE,orderStatusUpdate:tO,getAllOrdersByUserId:tU,userMessagesById:tY,userTickets:t1,userTicketsById:t3,newUserTicket:t9,getProductComments:r9,addedToFavorites:ag,addToFavorites:ab,removeFromFavorites:av,subscriptionsPlansGet:tV,purchaseSubscriptions:aS,cartUpdate:rh,getSubscriptionByUserId:iL,categoryData:aD,compare:iU,getCompareList:a7,getOrderByReceiptID:ry,stockAlert:l_,getUserFavoritesList:l8,brandProducts:rV,submitComments:iv,cartFinalReceiptRequest:ir,ticketSendMessage:rn,getUserMessagesComponentByUserId:iG,getUserMessagesModalComponentDataByUserId:rY,notificationNumber:aP,setNotificationSeen:aB,getPaymentLinkWallet:is,verifyPaymentLink:iu,walletPaymentStatus:iu,walletWithDrawal:aZ,walletTransfer:ih,userMessagesGetComponent:iG,userMessagesModalComponentGet:rY,homePageProducts:eU,homePageBanners:eV,homePageBrands:eY,homePageCategories:e1,productComments:e3,mdSubscriptions:tz,menu:ta,bootstrap:iT,archives:tn,homePageTrendProducts:tu,homePageProductGrids:th,mdSingleProductReducer:ru,mdUserMyAccountTickets:tw,userMessages:ty,purchasedProducts:iD,categoryFilters:tF,notificationTables:a4,priceList:iS,priceLists:aK,brandsDataBatchImport:ad,fastEditBrandModeData:rw,fastEditCategoryModeData:rz,fastOrderBrandModeData:rF,fastOrderCategoryModeData:rE,fastOrderBrandModePageDataBrandsData:r1,fastOrderPageDataBrandModeFilters:r3,fastOrderLocations:aX,gateWays:a0,gateWaysData:iQ,fastEditBrandMode:i2,userMyAccounts:lr,saveFilterSettings:ls,getFilterSettings:lC,fastOrderTableDataBrandModeSavedFilters:lR,fastOrderTableDataCategoryModeSavedFilters:lz,updateFilterSettings:lc,getBrandsData:lf,brandsData:lf},devTools:!1});var l9=r(26556),se=r(64347),st=r(29679);let sr={siteTitle:"فروشگاه ما",logo:"/uploads/assets/logo.png",banner:{link:"https://myshop.com",src:""},menu:{main:[{id:"146",label:"منوی اصلی",icon:'<i class="ti ti-menu-2"></i>',mega:!0,url:null,links:[{id:380,label:"پرده",icon:'<i class="ti ti-currency-solana"></i>',mega:!1,url:null,links:[{id:384,label:"عنوان 1",icon:'<i class="ti ti-headset"></i>',mega:!1,url:"/category/curtain_tools",links:[{id:385,label:"عنوان 11",icon:'<i class="ti ti-alpha"></i>',mega:!1,url:"/category/curtain_tools",links:[]}]}]},{id:382,label:"تجهیزات جانبی پرده",icon:null,mega:!1,url:"/category/curtain_tools",links:[]},{id:378,label:"خانه",icon:'<i class="fa-regular fa-house"></i>',mega:!1,url:"/",links:[]},{id:381,label:"روتختی",icon:null,mega:!1,url:"/category/bedspread",links:[]},{id:379,label:"محصولات",icon:'<i class="fa-regular fa-grid-2"></i>',mega:!1,url:null,links:[]},{id:383,label:"وبلاگ",icon:null,mega:!1,url:"/blog",links:[]}]},{id:"206",label:"دسترسی سریع",icon:null,mega:!1,url:null,links:[{id:209,label:"سفارش سریع",icon:null,mega:!1,url:"/fastorder",links:[]},{id:232,label:"ادیت سریع",icon:null,mega:!1,url:"/fastedit",links:[]},{id:207,label:"صفحه ی خانه",icon:null,mega:!1,url:"/",links:[]},{id:210,label:"علاقه مندی ها",icon:null,mega:!1,url:"/account/favorites",links:[]},{id:1234,label:"فروشگاه",icon:null,mega:!1,url:"/shop",links:[]},{id:1234,label:"محصول 123",icon:null,mega:!1,url:"/product/123",links:[]},{id:208,label:"ورود/ثبت نام",icon:null,mega:!1,url:"/login",links:[]},{id:208,label:"سبد خرید",icon:null,mega:!1,url:"/basket",links:[]}]}],footer:[{id:"188",label:"دسته بندی ها",icon:null,mega:!1,url:null,links:[{id:198,label:"آینه",icon:null,mega:!1,url:"#",links:[]},{id:189,label:"پرده",icon:null,mega:!1,url:"#",links:[]},{id:190,label:"رو تختی",icon:null,mega:!1,url:"#",links:[]},{id:193,label:"فرش",icon:null,mega:!1,url:"#",links:[]},{id:196,label:"قالیچه و پادری",icon:null,mega:!1,url:"#",links:[]},{id:191,label:"کاغذ دیواری",icon:null,mega:!1,url:"#",links:[]},{id:194,label:"کوسن و روبالشی",icon:null,mega:!1,url:"#",links:[]},{id:195,label:"لوستر و آباژور",icon:null,mega:!1,url:"#",links:[]},{id:197,label:"مبلمان",icon:null,mega:!1,url:"#",links:[]},{id:192,label:"موکت",icon:null,mega:!1,url:"#",links:[]}]}],social:[{id:"214",label:"شبکه‌های اجتماعی",icon:null,mega:!1,url:null,links:[{id:265,label:"Instagram",icon:'<i class="ti ti-brand-instagram"></i>',mega:!1,url:"https://www.instagram.com/",links:[]},{id:267,label:"LinkedIn",icon:'<i class="ti ti-brand-linkedin"></i>',mega:!1,url:"https://www.linkedin.com/",links:[]},{id:269,label:"Telegram",icon:'<i class="ti ti-brand-telegram"></i>',mega:!1,url:"https://telegram.org/",links:[]},{id:266,label:"Twitter",icon:'<i class="ti ti-brand-twitter"></i>',mega:!1,url:"https://twitter.com/",links:[]},{id:268,label:"WhatsApp",icon:'<i class="ti ti-brand-whatsapp"></i>',mega:!1,url:"https://web.whatsapp.com/",links:[]}]}]},footerAbout:"متن درباره‌ی سایت"};var sa=r(60527),si=r(89244),sl=r(1251),ss=r(22807),sn=r(84393),so=r(12207),sd=r(14856),sc=r(16310),su=r(7801),sm=r(80129),sg=r.n(sm),sp=r(63149),sh=r(84462),sx=r(58298),sb=r(32358);let sf={400:"orange",401:"red",403:"red",404:"gray",422:"yellow",500:"dark"},sy=e=>{let{opened:t,onClose:r,status:i,message:l}=e;return(0,a.jsx)(sp.u,{opened:t,onClose:r,title:(0,a.jsxs)(sh.Z,{gap:"xs",children:[(0,a.jsx)(sb.IconAlertCircle,{size:20,color:"red"}),(0,a.jsx)(se.x,{fw:600,size:"lg",children:"خطا"})]}),radius:"md",centered:!0,overlayProps:{blur:3,opacity:.45},withCloseButton:!1,children:(0,a.jsxs)(sa.x,{children:[(0,a.jsx)(sx.C,{color:sf[i]||"gray",variant:"filled",size:"lg",mb:"sm",children:i}),(0,a.jsx)(se.x,{size:"md",c:"dimmed",children:l||"خطای نامشخصی رخ داده است."})]})})},sj=[400,401,403,404,405,406,408,409,410,411,412,413,414,415,416,417,422,429],sv=(e,t,r)=>{let a=Number(e);sj.includes(a)&&(t(!0),setTimeout(()=>{t(!1),401===a&&"function"==typeof r&&r("/")},5e3))};sc.Ry().shape({mobile:sc.Z_().required("شماره موبایل الزامی است").matches(/^09\d{9}$/,"شماره موبایل باید با 09 شروع شود و ۱۱ رقم باشد")});let sC=sc.Ry().shape({code:sc.Z_().required("کد الزامی است").matches(/^\d{4}$/,"کد باید دقیقاً شامل ۴ رقم باشد")});var sw=r(53637),sk=r(73469);let sS=sc.Ry().shape({name:sc.Z_().required("نام الزامی است").min(2,"نام باید حداقل ۲ کاراکتر باشد").max(50,"نام نمی‌تواند بیشتر از ۵۰ کاراکتر باشد"),family:sc.Z_().required("نام خانوادگی الزامی است").min(2,"نام خانوادگی باید حداقل ۲ کاراکتر باشد").max(50,"نام خانوادگی نمی‌تواند بیشتر از ۵۰ کاراکتر باشد"),nationalCode:sc.Z_().required("کد ملی الزامی است").matches(/^\d{10}$/,"کد ملی باید ۱۰ رقم باشد"),mobile:sc.Z_().transform(e=>e.replace(/\s+/g,"")).required("شماره موبایل الزامی است").matches(/^09\d{9}$/,"شماره موبایل باید با 09 شروع شود و ۱۱ رقم باشد")}),sI=[{element:(0,a.jsx)(e=>{let t=(0,g.TH)(),r=(0,m.v9)(e=>e.global.loading),[i,s]=(0,l.fP)(["user"]),n=(0,m.I0)(),o=(0,g.s0)();return(0,p.useEffect)(()=>{let e=null;gs.forEach(r=>{var a;let i=null==(a=r.children)?void 0:a.find(e=>e.path===t.pathname);i&&(e=i.title)}),e&&(document.title=e)},[t]),(0,p.useEffect)(()=>{sr&&n(Z(sr))},[]),(0,p.useEffect)(()=>{i.user&&""!==i.user&&o("/",{replace:!0})},[]),(0,a.jsx)(a.Fragment,{children:sr?(0,a.jsx)(a.Fragment,{children:r?(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(l9.k,{pos:"fixed",top:"0",left:"0",justify:"center",align:"center",h:"100%",w:"100%",style:{zIndex:0x5af3107a3fff},children:[(0,a.jsx)(N.X,{w:"400",style:{zIndex:0x38d7ea4c67fff},children:(0,a.jsxs)(l9.k,{direction:"column",justify:"center",align:"center",children:[(0,a.jsx)(A.a,{size:"xl"}),(0,a.jsx)(se.x,{children:"منتظر باشید ..."})]})}),(0,a.jsx)(st.a,{color:"#000",backgroundOpacity:.55})]})}):(0,a.jsx)(g.j3,{})}):(0,a.jsxs)(l9.k,{h:"100vh",bg:"white",justify:"center",align:"center",direction:"column",children:[(0,a.jsx)(A.a,{size:"xl"}),(0,a.jsx)(se.x,{children:"منتظر باشید ..."})]})})},{}),children:[{title:"ورود",path:"/login",element:(0,a.jsx)(()=>{var e,t,r;let[i,s]=(0,p.useState)("enter"),[n,o]=(0,l.fP)(["user","userFavorites"]),d=(0,m.v9)(e=>e.global.bootstrap),c=(0,g.s0)(),u=sg().parse(location.search),x=(0,m.I0)(),[b,f]=(0,p.useState)(!1),[y,j]=(0,p.useState)(null),[v,C]=(0,p.useState)(!1),[w,k]=(0,p.useState)(null),{user:S,isVerified:I,error:D,loading:A}=(0,m.v9)(e=>e.auth),[F,M]=(0,p.useState)("ok"),[T,P]=(0,p.useState)(!1),[E,_]=(0,p.useState)(!1),[L,B]=(0,p.useState)({}),{isVerifiedMaster:O,loadingMaster:R,errorMaster:W,user_master:Z}=(0,m.v9)(e=>e.authMaster),{getUserFavoritesListData:U,loadingGetUserFavoritesList:$,errorGetUserFavoritesList:q}=(0,m.v9)(e=>e.getUserFavoritesList);(0,p.useEffect)(()=>{x(ea()),x(eA())},[x]),(0,p.useEffect)(()=>{(S&&I||Z&&O)&&!n.userFavorites&&x(l2()).unwrap().then(e=>{let t=new Date;t.setDate(t.getDate()+7),o("userFavorites",JSON.stringify(e),{expires:t,path:"/",secure:!0,sameSite:"strict"})}).catch(e=>{console.warn("Failed to load favorites:",e)})},[S,Z,I,O,x,n.userFavorites,o]),(0,p.useEffect)(()=>{(S&&I||Z&&O)&&c(u["?redirect"]||"/",{replace:!0})},[S,Z,I,O,c,u]);let K=(0,sd.c)({mode:"uncontrolled",initialValues:{mobile:""},validate:{mobile:e=>{let t=e.replace(/\s+/g,"");return/^09[0-9]{9}$/.test(t)?null:"شماره موبایل نامعتبر است"}}}),V=(0,sd.c)({mode:"uncontrolled",initialValues:{code:""},validate:(0,su.X)(sC)}),H=async e=>{f(!0),j(null);try{let t=await fetch(et("/sms/newsmscode"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({mobile:e})}),r=await t.text(),a=r?JSON.parse(r):null;if(!t.ok){let e={status:t.status,message:(null==a?void 0:a.message)||eu(t.status)};return j({state:"error",message:"مشکلی در ارسال پیامک رخ داده است",error:e}),{state:"error",message:"خطایی رخ داده است",error:e}}let i={state:"ok",message:"پیام با موفقیت ارسال شد",data:a};return j(i),i}catch(t){let e={state:"error",message:"خطای سرور",error:t.message||t};return j(e),e}finally{f(!1)}},G=async(e,t)=>{C(!0),k(null);try{let r=await fetch(et("/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({mobile:e,code:t})}),a=await r.text(),i=a?JSON.parse(a):null;if(!r.ok){let e={status:r.status,message:(null==i?void 0:i.message)||eu(r.status),error:(null==i?void 0:i.error)||"کد وارد شده اشتباه است"};return k({state:"error",message:"ورود ناموفق",error:e}),{state:"error",message:"ورود ناموفق",error:e}}"token"in i&&(i.token?localStorage.setItem("user",i.token):localStorage.removeItem("user")),"token_master"in i&&(i.token_master?localStorage.setItem("user_master",i.token_master):localStorage.removeItem("user_master"));let l={state:"ok",message:"ورود موفق",data:i};return k(l),l}catch(t){let e={state:"error",message:"خطای داخلی سرور",error:t.message||t};return k(e),e}finally{C(!1)}};async function X(e){let t=e.mobile.replace(/\s+/g,"");try{let e=await H(t);if(!e){console.error("No response data received"),M("error");return}if("error"===e.state){M("error"),e.error&&(K.setErrors(e.error),B(e.error));return}V.setValues({code:""}),V.setFieldError("code",""),s("code"),B({}),M("ok")}catch(e){console.error("SMS request failed:",e),e&&![401,404,500].includes(null==e?void 0:e.status)&&B(e)}}async function Y(e){let t=K.getValues().mobile.replace(/\s+/g,"");try{let l=await G(t,e.code);if(!l){console.error("No response data received for login"),V.setFieldError("code","خطا در دریافت پاسخ سرور");return}if("error"===l.state){var r,a,i;V.setFieldError("code",(null==(r=l.error)?void 0:r.error)||(null==(a=l.error)?void 0:a.message)||"خطا در ورود به سیستم"),l.error&&![401,404,500].includes(null==(i=l.error)?void 0:i.status)&&B(l.error);return}let n=l.data;(null==n?void 0:n.user)?!0===n.user.status?(s("success"),x(l2()).unwrap().then(e=>{let t=new Date;t.setDate(t.getDate()+7),o("userFavorites",JSON.stringify(e),{expires:t,path:"/",secure:!0,sameSite:"strict"})}).catch(e=>{console.warn("Failed to load favorites after login:",e)}),setTimeout(()=>{let e=u["?redirect"]||"/";c(e,{replace:!0})},2e3)):!1===n.user.status?s("unverified"):s(n.user.status):(console.error("Invalid response structure:",n),V.setFieldError("code","ساختار پاسخ سرور نامعتبر است"))}catch(e){console.error("Login request failed:",e),e&&![401,404,500].includes(null==e?void 0:e.status)&&B(e),V.setFieldError("code",(null==e?void 0:e.message)||"خطا در ورود به سیستم")}}return(0,p.useEffect)(()=>{y&&(null==y?void 0:y.state)==="ok"&&h.N9.show({title:y.message,color:"green",autoClose:!0}),y&&(null==y?void 0:y.state)==="error"&&h.N9.show({title:y.message,color:"red",autoClose:!0})},[y]),(0,p.useEffect)(()=>{let e=L&&void 0!==L.status&&!isNaN(Number(L.status));0!==Object.keys(L).length&&e&&![400,401,403,404,405,406,408,409,410,411,412,413,414,415,416,417,422,429].includes(Number(L.status))&&(B({}),h.N9.show({title:L.message||"خطایی رخ داده است",color:"red",autoClose:!0}))},[L]),(0,p.useEffect)(()=>{(null==L?void 0:L.status)&&![401,404,500].includes(L.status)&&sv(L.status,_,c)},[L,c]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(sy,{opened:E,onClose:()=>_(!1),message:null==L?void 0:L.message}),(0,a.jsx)(sa.x,{bg:"gray.1",h:"100vh",w:"100%",className:"flex items-center justify-center",children:(0,a.jsxs)(si.M,{w:{base:"85%",xs:"65%",sm:"50%",md:"40%",lg:"40%",xl:"450px"},className:"flex-col relative z-10",children:[(0,a.jsx)(sl.E,{w:160,src:null==d?void 0:d.logo}),(0,a.jsxs)(N.X,{className:"bg-white rounded-2xl shadow-box-sm w-full h-auto py-5 px-4 min-h-max",children:[(0,a.jsx)(l9.k,{justify:"space-between",align:"center",children:(0,a.jsx)(se.x,{c:"dark",size:"xl",fw:"bold",children:"ورود"})}),"enter"===i&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"flex flex-col gap-y-1 pt-5",children:(0,a.jsxs)("form",{onSubmit:K.onSubmit(e=>X(e)),children:[(0,a.jsx)(ss.o,{label:"لطفا شماره موبایل خود را وارد کنید",type:"text",dir:"ltr",inputMode:"numeric",styles:{input:{textAlign:"left"}},...K.getInputProps("mobile"),withAsterisk:!0,error:(null==y?void 0:y.state)==="error"&&(null==y||null==(e=y.errors)?void 0:e.mobile)||K.errors.mobile?(0,a.jsxs)("div",{children:[(null==y?void 0:y.state)==="error"&&(null==y||null==(t=y.errors)?void 0:t.mobile)&&(0,a.jsx)("div",{children:null==y||null==(r=y.errors)?void 0:r.mobile}),K.errors.mobile&&(0,a.jsx)("div",{children:K.errors.mobile})]}):null},K.key("mobile")),(0,a.jsx)(z.z,{type:"submit",mt:"md",variant:"filled",fullWidth:!0,loading:b,children:"ادامه"}),(0,a.jsx)(z.z,{mt:"md",variant:"white",fullWidth:!0,component:g.OL,to:"/register",children:"ثبت نام"})]})}),(0,a.jsxs)("div",{className:"mt-8 mb-4 text-xs text-zinc-500",children:["ورود شما به معنای پذیرش"," ",(0,a.jsxs)(se.x,{component:g.OL,c:"var(--mantine-color-anchor)",size:"xs",children:[" ","قوانین و مقررات"]})," ","مدکالا میباشد."]})]}),"code"===i&&(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{className:"flex flex-col gap-y-1 pt-5",children:(0,a.jsxs)("form",{onSubmit:V.onSubmit(e=>Y(e)),children:[(0,a.jsx)(se.x,{mb:"sm",size:"sm",children:"کد تایید پیامک شده را وارد کنید"}),(0,a.jsx)(si.M,{children:(0,a.jsx)(sn.E,{type:"number",...V.getInputProps("code")},V.key("code"))}),(0,a.jsx)(se.x,{c:"red",size:"xs",children:V.errors.code}),(0,a.jsx)(z.z,{p:"0",variant:"transparent",mt:"lg",onClick:()=>s("enter"),children:"تغییر شماره موبایل"}),(0,a.jsx)(z.z,{type:"submit",mt:"md",variant:"filled",fullWidth:!0,loading:v||$,children:"ورود"})]})})}),"success"===i&&(0,a.jsxs)(so.b,{mt:"xl",variant:"light",color:"teal",title:"ورود موفقیت آمیز بود",children:["به طور خودکار هدایت میشوید",$&&(0,a.jsx)(se.x,{size:"xs",mt:"xs",c:"dimmed",children:"در حال بارگذاری اطلاعات کاربری..."})]}),"unverified"===i&&(0,a.jsxs)(so.b,{mt:"xl",variant:"light",color:"blue",title:"در حال تایید حساب کاربری",children:[(0,a.jsx)(se.x,{size:"sm",children:"حساب کاربری شما تایید نشده است. لطفاً منتظر تایید توسط مدیریت باشید."}),(0,a.jsx)(si.M,{children:(0,a.jsx)(z.z,{size:"xs",mt:"md",color:"blue",component:g.OL,to:"/",children:"بازگشت به صفحه اصلی"})})]}),"pending"===i&&(0,a.jsxs)(so.b,{mt:"xl",variant:"light",color:"cyan",title:"پیام سیستم",children:[(0,a.jsx)(se.x,{size:"sm",children:"این حساب کاربری در انتظار تایید میباشد"}),(0,a.jsx)(z.z,{size:"xs",mt:"md",color:"cyan",component:"a",href:"tel:01234567890",children:"تلفن پشیبانی 09123456789"})]}),"deactive"===i&&(0,a.jsxs)(so.b,{mt:"xl",variant:"light",color:"orange",title:"حساب کاربری غیر فعال",children:[(0,a.jsx)(se.x,{size:"sm",children:"این حساب کاربری غیر فعال است. در صورت فعال نشدن با پشتیبانی تماس بگیرید"}),(0,a.jsx)(z.z,{size:"xs",mt:"md",color:"orange",component:"a",href:"tel:01234567890",children:"تلفن پشیبانی 09123456789"})]})]})]})})]})},{})},{title:"ثبت نام",path:"/register",element:(0,a.jsx)(()=>{var e,t,r,i,s,n,o,d,c,u,x,b;let[f,y]=(0,p.useState)("enter"),[j,v]=(0,l.fP)(["user"]),C=(0,m.v9)(e=>e.global.bootstrap);(0,m.I0)();let w=(0,g.s0)(),[k,S]=(0,p.useState)(!1),[I,D]=(0,p.useState)(null),[A,F]=(0,p.useState)(!1),[M,P]=(0,p.useState)(null),[E,_]=(0,p.useState)(!1),[L,B]=(0,p.useState)(null),[O,R]=(0,p.useState)("ok"),[W,Z]=(0,p.useState)(!1),[U,$]=(0,p.useState)(!1),[q,K]=(0,p.useState)({}),[V,H]=(0,p.useState)({}),[G,X]=(0,p.useState)({}),Y=async e=>{S(!0),D(null);try{let t=await fetch(et("/auth/signup"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),r=await t.text(),a=r?JSON.parse(r):null;if(!t.ok){let e={status:t.status,message:(null==a?void 0:a.message)||eu(t.status)};return D({state:"error",message:"خطایی در ثبت نام کاربر رخ داده است",error:e,errors:(null==a?void 0:a.errors)||{}}),{state:"error",message:"خطایی در ثبت نام کاربر رخ داده است",error:e,errors:(null==a?void 0:a.errors)||{}}}let i={state:"ok",message:"موفقیت در ثبت نام",data:a};return D(i),i}catch(t){let e={state:"error",message:"Internal Server Error",error:t.message||t};return D(e),e}finally{S(!1)}},J=async e=>{F(!0),P(null);try{let t=await fetch(et("/sms/newsmscode"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({mobile:e})}),r=await t.text(),a=r?JSON.parse(r):null;if(!t.ok){let e={status:t.status,message:(null==a?void 0:a.message)||eu(t.status)};return P({state:"error",message:"Failed to send SMS",error:e}),{state:"error",message:"Failed to send SMS",error:e}}let i={state:"ok",message:"SMS sent successfully",data:a};return P(i),i}catch(t){let e={state:"error",message:"Internal Server Error",error:t.message||t};return P(e),e}finally{F(!1)}},Q=async(e,t)=>{_(!0),B(null);try{let r=localStorage.getItem("user"),a=await fetch(et("/sms/verifysms"),{method:"POST",headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"},body:JSON.stringify({mobile:e,code:t})}),i=await a.text(),l=i?JSON.parse(i):null;if(!a.ok){let e={state:"error",message:"Verification failed",error:(null==l?void 0:l.error)||{code:"کد وارد شده اشتباه است"}};return B(e),e}let s={state:"ok",message:"Verification successful",data:l};return B(s),s}catch(t){let e={state:"error",message:"Internal Server Error",error:{code:"Internal Server Error"}};return B(e),e}finally{_(!1)}};(0,p.useEffect)(()=>{let e=q&&void 0!==q.status&&!isNaN(Number(q.status));0!==Object.keys(q).length&&e&&![400,401,403,404,405,406,408,409,410,411,412,413,414,415,416,417,422,429].includes(Number(q.status))&&(K({}),h.N9.show({title:q.message||"خطایی رخ داده است",color:"red",autoClose:!0}))},[q]),(0,p.useEffect)(()=>{(null==q?void 0:q.status)&&sv(q.status,$,w)},[q]),(0,p.useEffect)(()=>{G&&"ok"===G.state&&h.N9.show({title:G.message,color:"green",autoClose:!0}),V&&(null==V?void 0:V.state)==="error"&&h.N9.show({title:V.message,color:"red",autoClose:!0})},[G,V]);let ee=(0,sd.c)({mode:"uncontrolled",initialValues:{name:"",family:"",nationalCode:"",mobile:""},validate:(0,su.X)(sS)}),er=(0,sd.c)({mode:"uncontrolled",initialValues:{code:""},validate:{code:e=>/^\d{4}$/.test(e)?null:"کد باید دقیقاً شامل ۴ رقم باشد"}});async function ea(e){let t={...e};t.mobile=e.mobile.replace(/\s+/g,"");let r=t.mobile;try{let e=await Y(t);if(!e){console.error("No response data received"),R("error");return}if("error"===e.state){R("error"),H(e),(e.error||e.errors)&&(ee.setErrors(e.errors||e.error),K(e.error||{}));return}X(e);let a=await J(r);a&&"ok"===a.state?(er.setValues({code:""}),er.setFieldError("code",""),y("code"),K({})):a&&a.error&&ee.setErrors(a.error)}catch(e){console.error("Registration request failed:",e),e&&![401,404,500].includes(null==e?void 0:e.status)&&K(e)}}async function ei(e){if("error"!==O)try{let t=ee.getValues().mobile.replace(/\s+/g,""),r=await Q(t,e.code);if(!r){console.error("No response data received for verification"),er.setFieldError("code","خطا در دریافت پاسخ سرور");return}if("error"===r.state)return void er.setErrors(r.error);y("success"),setTimeout(()=>{w("/login")},2e3)}catch(e){console.error("Verification request failed:",e),er.setFieldError("code",(null==e?void 0:e.message)||"خطا در تایید کد")}}return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(sy,{opened:U,onClose:()=>$(!1),message:null==q?void 0:q.message}),(0,a.jsx)(sa.x,{bg:"gray.1",h:"100vh",w:"100%",className:"flex items-center justify-center",children:(0,a.jsxs)(si.M,{w:{base:"85%",xs:"65%",sm:"50%",md:"40%",lg:"40%",xl:"25%"},className:"flex-col relative z-10",children:[(0,a.jsx)(sl.E,{w:160,src:null==C?void 0:C.logo}),(0,a.jsxs)(N.X,{className:"bg-white rounded-2xl shadow-box-sm w-full h-auto py-5 px-4 min-h-max",children:[(0,a.jsxs)(l9.k,{justify:"space-between",align:"center",children:[(0,a.jsx)(se.x,{c:"dark",size:"xl",fw:"bold",children:"ثبت"}),(0,a.jsx)(sl.E,{src:""})]}),"enter"===f?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"flex flex-col gap-y-1 pt-5",children:(0,a.jsx)("form",{onSubmit:ee.onSubmit(e=>ea(e)),children:(0,a.jsxs)(sw.K,{children:[(0,a.jsx)(ss.o,{label:"نام",...ee.getInputProps("name"),withAsterisk:!0,error:(null==V?void 0:V.state)==="error"&&(null==V||null==(e=V.errors)?void 0:e.name)||ee.errors.name?(0,a.jsxs)("div",{children:[(null==V?void 0:V.state)==="error"&&(null==V||null==(t=V.errors)?void 0:t.name)&&(0,a.jsx)("div",{children:null==V||null==(r=V.errors)?void 0:r.name}),ee.errors.name&&(0,a.jsx)("div",{children:ee.errors.name})]}):null}),(0,a.jsx)(ss.o,{label:"نام خانوادگی",...ee.getInputProps("family"),withAsterisk:!0,error:(null==V?void 0:V.state)==="error"&&(null==V||null==(i=V.errors)?void 0:i.family)||ee.errors.family?(0,a.jsxs)("div",{children:[(null==V?void 0:V.state)==="error"&&(null==V||null==(s=V.errors)?void 0:s.family)&&(0,a.jsx)("div",{children:null==V||null==(n=V.errors)?void 0:n.family}),ee.errors.family&&(0,a.jsx)("div",{children:ee.errors.family})]}):null}),(0,a.jsx)(ss.o,{label:"کد ملی",component:sk.oc,dir:"ltr",styles:{input:{textAlign:"left"}},...ee.getInputProps("nationalCode"),withAsterisk:!0,error:(null==V?void 0:V.state)==="error"&&(null==V||null==(o=V.errors)?void 0:o.nationalCode)||ee.errors.nationalCode?(0,a.jsxs)("div",{children:[(null==V?void 0:V.state)==="error"&&(null==V||null==(d=V.errors)?void 0:d.nationalCode)&&(0,a.jsx)("div",{children:null==V||null==(c=V.errors)?void 0:c.nationalCode}),ee.errors.nationalCode&&(0,a.jsx)("div",{children:ee.errors.nationalCode})]}):null}),(0,a.jsx)(ss.o,{label:"شماره موبایل",type:"text",dir:"ltr",styles:{input:{textAlign:"left"}},...ee.getInputProps("mobile"),withAsterisk:!0,error:(null==V?void 0:V.state)==="error"&&(null==V||null==(u=V.errors)?void 0:u.mobile)||ee.errors.mobile?(0,a.jsxs)("div",{children:[(null==V?void 0:V.state)==="error"&&(null==V||null==(x=V.errors)?void 0:x.mobile)&&(0,a.jsx)("div",{children:null==V||null==(b=V.errors)?void 0:b.mobile}),ee.errors.mobile&&(0,a.jsx)("div",{children:ee.errors.mobile})]}):null}),(0,a.jsx)(z.z,{type:"submit",variant:"filled",fullWidth:!0,loading:k||A,disabled:k||A,children:"ثبت نام"}),(0,a.jsx)(z.z,{variant:"white",fullWidth:!0,component:g.OL,to:"/login",children:"ورود"})]})})}),(0,a.jsxs)("div",{className:"mt-8 mb-4 text-xs text-zinc-500",children:["ثبت نام شما به معنای پذیرش"," ",(0,a.jsx)(T.e,{size:"xs",children:"قوانین و مقررات"})," "," ","مدکالا میباشد."]})]}):(0,a.jsx)(a.Fragment,{}),"code"===f&&(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{className:"flex flex-col gap-y-1 pt-5",children:(0,a.jsxs)("form",{onSubmit:er.onSubmit(e=>ei(e)),children:[(0,a.jsx)(se.x,{mb:"sm",size:"sm",children:"کد تایید پیامک شده را وارد کنید"}),(0,a.jsx)(si.M,{children:(0,a.jsx)(sn.E,{type:"number",...er.getInputProps("code")},er.key("code"))}),(0,a.jsx)(se.x,{c:"red",size:"xs",children:er.errors.code}),(0,a.jsx)(z.z,{p:"0",variant:"transparent",mt:"lg",onClick:()=>y("enter"),children:"تغییر شماره موبایل"}),(0,a.jsx)(z.z,{type:"submit",mt:"md",variant:"filled",fullWidth:!0,loading:E,children:"ثبت نام"})]})})}),"success"===f&&(0,a.jsx)(so.b,{mt:"xl",variant:"light",color:"teal",title:"ثبت نام موفقیت آمیز بود"})]})]})})]})},{})}]}];var sz=r(28313),sN=r(46424),sD=r(42892);let sA=r.p+"static/svg/cash-on-delivery.fd323247.svg",sF=r.p+"static/svg/days-return.224f9949.svg",sM=r.p+"static/svg/express-delivery.1007d80a.svg",sT=r.p+"static/svg/original-products.6d1d8dbf.svg",sP=e=>{var t,r,i,l;let s=(0,m.v9)(e=>e.global.bootstrap);return(0,a.jsx)(sa.x,{className:"border-t pt-10 mt-32 bg-white z-30",id:"footer",children:(0,a.jsxs)(I.W,{children:[(0,a.jsxs)(sh.Z,{justify:"space-between",w:"100%",children:[(0,a.jsx)(sw.K,{spacing:"xs",children:(0,a.jsx)(sl.E,{className:"w-32 md:w-48",src:null==s?void 0:s.logo,alt:""})}),(0,a.jsxs)(z.z,{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),size:"md",variant:"outline",color:"gray",style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:["برو به بالا",(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"#9c9c9c",viewBox:"0 0 256 256",children:(0,a.jsx)("path",{d:"M128,26A102,102,0,1,0,230,128,102.12,102.12,0,0,0,128,26Zm0,192a90,90,0,1,1,90-90A90.1,90.1,0,0,1,128,218Zm44.24-78.24a6,6,0,1,1-8.48,8.48L128,112.49,92.24,148.24a6,6,0,0,1-8.48-8.48l40-40a6,6,0,0,1,8.48,0Z"})})]})]}),(0,a.jsx)(sz.M,{cols:{base:2,sm:3,lg:"5"},justify:"space-around",align:"center",style:{marginTop:"2rem",marginBottom:"2.5rem",gap:"1rem"},children:[sA,sF,sM,sT,"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTUiIGhlaWdodD0iNTQiIHZpZXdCb3g9IjAgMCA1NSA1NCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMzkuNDk0NSAzNi4zODQ4QzQyLjI5NjggMzYuMzg0OCA0NC41Njg1IDM0LjExMzEgNDQuNTY4NSAzMS4zMTA4QzQ0LjU2ODUgMjguNTA4MiA0Mi4yOTY4IDI2LjIzNjUgMzkuNDk0NSAyNi4yMzY1VjM2LjM4NDhaIiBmaWxsPSJpbmhlcml0Ii8+DQo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTQwLjMwMTMgMzUuNTAxNFYyNy4xMTk2QzQyLjI3IDI3LjQ5OCA0My43NjIxIDI5LjIzMzQgNDMuNzYyMSAzMS4zMTA3QzQzLjc2MjEgMzMuMzg4IDQyLjI3IDM1LjEyMzQgNDAuMzAxMyAzNS41MDE0Wk00MC43MDcgMTEuNDE4MUMzNy42OTY4IDguNDA3OTUgMzMuNzEgNi43NDk4MiAyOS40ODExIDYuNzQ5ODJDMjUuMjUyMiA2Ljc0OTgyIDIxLjI2NTMgOC40MDc5NSAxOC4yNTQ4IDExLjQxODFDMTcuMTEwNCAxMi41NjI5IDE2LjE2MTMgMTMuODQ4NSAxNS40MjQ1IDE1LjIzNDlDMTQuOTUxIDE2LjUyODkgMTYuNDc5NiAxNi44NDQ4IDE2Ljg1MDUgMTUuOTg0NUMxOS4yNDc3IDExLjQ1NTkgMjQuMDEwMiA4LjM2MzQgMjkuNDgxMSA4LjM2MzRDMzcuMzU1NiA4LjM2MzQgNDMuNzYyMSAxNC43Njk4IDQzLjc2MjEgMjIuNjQ0NFYyNy4yNzA1QzQyLjY4OTUgMjYuMTM4MiA0MS4xNzM4IDI1LjQyOTggMzkuNDk0NyAyNS40Mjk4QzM5LjA0ODkgMjUuNDI5OCAzOC42ODc3IDI1Ljc5MDkgMzguNjg3NyAyNi4yMzY0VjM2LjM4NDdDMzguNjg3NyAzNi44MzA1IDM5LjA0ODkgMzcuMTkxNiAzOS40OTQ3IDM3LjE5MTZDNDIuNzA3IDM3LjE5MTYgNDUuMzI0NyAzNC42MDIgNDUuMzczMyAzMS40MDA4QzQ1LjM3MzYgMzEuMzkxIDQ1LjM3NDYgMjguNDcyIDQ1LjM3NTMgMjIuNjQ0NEM0NS4zNzUzIDE4LjQxNTUgNDMuNzE3NSAxNC40Mjg2IDQwLjcwNyAxMS40MTgxWiIgZmlsbD0iIzQyNDc1MCIvPg0KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00My45MDQ4IDM2LjMwMzVDNDMuNzAwMiAzNi4zMDM1IDQzLjQ5OTQgMzYuMzg2OSA0My4zNTQ2IDM2LjUzMTNDNDMuMjA5OSAzNi42NzYxIDQzLjEyNjggMzYuODc2OSA0My4xMjY4IDM3LjA4MjVDNDMuMTI2OCAzNy4yODYzIDQzLjIwOTkgMzcuNDg2OCA0My4zNTQ2IDM3LjYzMjZDNDMuNDk5NCAzNy43NzcxIDQzLjcwMDIgMzcuODU5NyA0My45MDQ4IDM3Ljg1OTdDNDQuMTA5MyAzNy44NTk3IDQ0LjMxMDEgMzcuNzc3MSA0NC40NTQ5IDM3LjYzMjZDNDQuNTk5NyAzNy40ODY4IDQ0LjY4MjcgMzcuMjg3IDQ0LjY4MjcgMzcuMDgyNUM0NC42ODI3IDM2Ljg3NjkgNDQuNTk5NyAzNi42NzYxIDQ0LjQ1NDkgMzYuNTMxM0M0NC4zMTAxIDM2LjM4NjkgNDQuMTA5MyAzNi4zMDM1IDQzLjkwNDggMzYuMzAzNVoiIGZpbGw9IiM0MjQ3NTAiLz4NCjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMzIuMjUyMiA0NC4wMjAzTDMzLjM5NyA0My43NzdMMzMuNjQwNCA0NC45MjE4TDMyLjQ5NTYgNDUuMTY1MUwzMi4yNTIyIDQ0LjAyMDNaTTQzLjQ2MyAzOC44MzkzQzQzLjA3NzIgMzguNjE2NiA0Mi41ODM0IDM4Ljc0ODYgNDIuMzYwNyAzOS4xMzQzQzQwLjc5NSA0MS44NDQ4IDM4LjMzNDMgNDMuNzA5MSAzNS4yMTM4IDQ0LjU2M0wzNC44MDc4IDQyLjY1MjRDMzQuNzE0OSA0Mi4yMTY0IDM0LjI4NjcgNDEuOTM4MyAzMy44NTA2IDQyLjAzMDdMMzEuMTI3NyA0Mi42MDk2QzMwLjY5MTYgNDIuNzAyNCAzMC40MTM1IDQzLjEzMDcgMzAuNTA2MyA0My41NjY3TDMxLjA4NTEgNDYuMjg5N0MzMS4xNzc2IDQ2LjcyNTcgMzEuNjA1OSA0Ny4wMDM4IDMyLjA0MTkgNDYuOTExM0wzNC43NjUyIDQ2LjMzMjVDMzguNzE4NCA0NS40OTIyIDQxLjgyODEgNDMuMjgyMiA0My43NTc5IDM5Ljk0MTZDNDMuOTgxIDM5LjU1NTkgNDMuODQ4NyAzOS4wNjI0IDQzLjQ2MyAzOC44MzkzWiIgZmlsbD0iIzQyNDc1MCIvPg0KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xMS44NDcxIDM3LjQ2MTVDMTAuMzM0NCAzNy40NjE1IDkuMTA4MzEgMzYuMjM1MyA5LjEwODMxIDM0LjcyMjZWMjAuMzYwN0M5LjEwODMxIDE4Ljg0OCAxMC4zMzQ0IDE3LjYyMTkgMTEuODQ3MSAxNy42MjE5SDMxLjU3NkMzMy4wODg3IDE3LjYyMTkgMzQuMzE0OCAxOC44NDggMzQuMzE0OCAyMC4zNjA3VjM4LjQxMzJDMzQuMzE0OCAzOS4zNzU4IDMzLjUzNDUgNDAuMTU2MSAzMi41NzIgNDAuMTU2MUMzMi4wNDY4IDQwLjE1NjEgMzEuNTQ5NyAzOS45MTk1IDMxLjIxODkgMzkuNTExOEwyOS41NTQ3IDM3LjQ2MTVIMTEuODQ3MVpNMTEuODQ3MSAxOS4xMTU2QzExLjE1OTYgMTkuMTE1NiAxMC42MDIxIDE5LjY3MzIgMTAuNjAyMSAyMC4zNjA3VjM0LjcyMjZDMTAuNjAyMSAzNS40MTAxIDExLjE1OTYgMzUuOTY3NyAxMS44NDcxIDM1Ljk2NzdIMzAuMjY2MkwzMi4zNzg2IDM4LjU3MDFDMzIuNDI1OCAzOC42Mjg1IDMyLjQ5NzEgMzguNjYyMyAzMi41NzIgMzguNjYyM0MzMi43MDk3IDM4LjY2MjMgMzIuODIxMSAzOC41NTA5IDMyLjgyMTEgMzguNDEzMlYyMC4zNjA3QzMyLjgyMTEgMTkuNjczMiAzMi4yNjM1IDE5LjExNTYgMzEuNTc2IDE5LjExNTZIMTEuODQ3MVoiIGZpbGw9IiMxOUJGRDMiLz4NCjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMjYuMjk5NiAyNi43NjQ2SDMxLjMyMTNWMjguMDcxMUwyOC42ODg1IDM0LjU4MDhIMjcuMDY2MUwyOS42MjE3IDI4LjIzODVIMjYuMjk5NlYyNi43NjQ2Wk0yNC4zMjAyIDI2LjYyNTJWMjguMDU0NUgyMy40ODY5VjI5LjM4MzNIMjEuOTQyNVYyOC4wNTQ1SDE4LjI2NTFWMjYuNjI1MkwyMC45NDM1IDIxLjQxMDlIMjIuNTg3OEwxOS45MjA2IDI2LjYyNTJIMjEuOTQyNVYyNC43NzE3SDIzLjQ4NjlWMjYuNjI1MkgyNC4zMjAyWk0xMi4yMzQ3IDI5LjM4MzNWMjguMjMzMUwxNC44ODk4IDI1LjQ4NjVDMTUuMzkgMjQuOTYxNyAxNS43Nzg4IDI0LjQ0OCAxNS43Nzg4IDIzLjkyMzJDMTUuNzc4OCAyMy4yOTc4IDE1LjM1NjUgMjIuOTA3IDE0Ljc2NzYgMjIuOTA3QzE0LjE2NzkgMjIuOTA3IDEzLjcyMzQgMjMuMjY0NCAxMy40Njc5IDIzLjgyMjZMMTIuMTc5IDIzLjA2MzNDMTIuNjc5MiAyMS45NDY4IDEzLjY5IDIxLjQxMDkgMTQuNzQ1NyAyMS40MTA5QzE2LjA3ODggMjEuNDEwOSAxNy4zMTIgMjIuMzAzOSAxNy4zMTIgMjMuODY3MkMxNy4zMTIgMjQuODE2MiAxNi43Njc2IDI1LjYzMTYgMTYuMDM0MiAyNi4zNjg0TDE0LjUxMjEgMjcuODk4M0gxNy40MzQyVjI5LjM4MzNIMTIuMjM0N1oiIGZpbGw9IiM0MjQ3NTAiLz4NCjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMjguMDAxNSAyMS42ODc0TDIxLjA2NDIgMzQuNTgwOUgyMS43MzY1TDI4LjY2OTEgMjEuNjg3NEgyOC4wMDE1WiIgZmlsbD0iaW5oZXJpdCIvPg0KPC9zdmc+DQo="].map((e,t)=>(0,a.jsxs)(sw.K,{align:"center",spacing:"xs",children:[(0,a.jsx)(sl.E,{className:"w-12 md:w-14",src:e,alt:""}),(0,a.jsx)(se.x,{size:"xs",c:"gray.6",children:["پرداخت درب منزل","ضمانت 7 روزه","پست سریع","ضمانت کالا","پشتیبانی 24 ساعته"][t]})]},t))}),(0,a.jsx)(sN.r,{gutter:"xl",children:null==s||null==(t=s.menu)?void 0:t.footer.map((e,t)=>(0,a.jsx)(sD.$,{span:{base:6,lg:3},children:(0,a.jsxs)(sw.K,{children:[(0,a.jsx)(D.D,{c:"gray.8",children:e.label}),e.links.map((e,t)=>(0,a.jsx)(T.e,{href:e.url,underline:"never",size:"sm",c:"dark",children:e.label},t))]})},t))}),(0,a.jsxs)(N.X,{shadow:"0",bg:"gray.0",p:"xl",my:"xl",children:[(0,a.jsx)(D.D,{mb:"lg",c:"gray.8",children:null==s?void 0:s.siteTitle}),(0,a.jsx)(se.x,{size:"sm",lh:"2",c:"gray.8",ta:"justify",children:null==s?void 0:s.footerAbout})]}),(0,a.jsxs)(sh.Z,{justify:"space-between",pb:{base:100,md:"xl"},children:[(0,a.jsx)(se.x,{size:"xs",c:"gray",children:"تمامی حقوق برای این فروشگاه محفوظ است"}),(0,a.jsx)(sh.Z,{children:(null==s||null==(r=s.menu)?void 0:r.social)?(0,a.jsx)(a.Fragment,{children:null==s||null==(l=s.menu)||null==(i=l.social[0])?void 0:i.links.map((e,t)=>(0,a.jsx)(T.e,{component:"a",href:e.url,target:"_blank",c:"dark.6",size:"20px",variant:"text",dangerouslySetInnerHTML:{__html:e.icon}},e.id))}):""})]})]})})};var sE=r(37452),s_=r(36034),sL=r(34384),sB=r(36219),sO=r(50091),sR=r(26121),sW=r(99254),sZ=r(63921),sU=r(47986),s$=r(97961),sq=r(7384),sK=r(58929),sV=r(16832),sH=r(40338),sG=r(19453),sX=r(53465),sY=r(57176),sJ=r(37846);let sQ=()=>{let[e,t]=(0,p.useState)(!1),[r,i]=(0,p.useState)(""),[l]=(0,sX.c)(r,500),[s,n]=(0,p.useState)(!1),[o,d]=(0,p.useState)(0),[c,u]=(0,sY.I)({key:"search",defaultValue:[]}),m=(0,g.s0)(),h=(0,p.useRef)(null),x=(0,p.useRef)(null),{data:b,isLoading:f,isFetching:y}=k({url:"/search",queryKey:["search",l],params:{query:r},method:"GET",queryOptions:{enabled:l.length>2&&!s&&0===o&&e&&r.length>2}});(0,p.useEffect)(()=>{let e=e=>{h.current&&!h.current.contains(e.target)&&x.current&&!x.current.contains(e.target)&&t(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);let j=e=>{m(e),i(""),t(!1)};return(0,p.useEffect)(()=>{var a;if(!e&&r.length>3)return;let l=null==(a=sJ.Z.parse(location.search))?void 0:a.s;l?(n(!0),i(l)):(i(""),n(!1),t(!1),d(0))},[location.href]),(0,a.jsxs)("div",{className:"relative w-[500px] z-50",children:[(0,a.jsx)("form",{onSubmit:e=>{e.preventDefault(),m(`/search?s=${r}`),t(),u(e=>[...e,r])},children:(0,a.jsx)(sK.I,{ref:x,onInput:e=>{var r;i((null==(r=e.target)?void 0:r.value)||""),t(!0),d(0)},w:"100%",size:"md",variant:"default",radius:"99999",value:r,leftSection:(0,a.jsx)(sb.IconSearch,{size:18}),placeholder:"جستجو کنید"})}),(0,a.jsx)(sV.u,{mounted:e&&!s,transition:"fade-up",duration:400,timingFunction:"ease",children:e=>{var t,r;return(0,a.jsx)(N.X,{ref:h,className:"absolute top-full w-full",style:e,children:l.length>2?(0,a.jsx)(a.Fragment,{children:y?(0,a.jsx)(si.M,{children:(0,a.jsx)(A.a,{size:"xs"})}):(0,a.jsxs)(sa.x,{mt:"lg",children:[(0,a.jsx)(sH.i,{labelPosition:"left",label:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(sb.IconLayoutGridAdd,{}),(0,a.jsx)(se.x,{mr:"sm",children:"دسته‌ها"})]})}),(0,a.jsx)(sz.M,{cols:3,mt:"md",children:null==b||null==(t=b.category)?void 0:t.map((e,t)=>(0,a.jsx)(N.X,{shadow:"none",withBorder:!0,style:{cursor:"pointer"},component:g.OL,onClick:()=>j(),children:(0,a.jsxs)(l9.k,{align:"center",justify:"space-between",children:[(0,a.jsx)(se.x,{children:e.title}),(0,a.jsx)(sB.A,{variant:"white",children:(0,a.jsx)(sb.IconExternalLink,{})})]})},t))}),(0,a.jsx)(sH.i,{mt:"xl",labelPosition:"left",label:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(sb.IconLayoutGridAdd,{}),(0,a.jsx)(se.x,{mr:"sm",children:"محصولات"})]})}),(0,a.jsx)(sw.K,{mt:"md",children:null==b||null==(r=b.products)?void 0:r.map((e,t)=>(0,a.jsx)(N.X,{style:{cursor:"pointer"},shadow:"none",withBorder:!0,onClick:()=>j(`/product/${e.slug}`),children:(0,a.jsx)(l9.k,{align:"start",gap:"sm",children:(0,a.jsxs)(l9.k,{justify:"space-between",w:"100%",children:[(0,a.jsx)(se.x,{children:e.title}),(0,a.jsx)(sB.A,{variant:"white",children:(0,a.jsx)(sb.IconExternalLink,{})})]})})},t))})]})}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(sh.Z,{justify:"space-between",children:[(0,a.jsxs)(l9.k,{gap:"sm",c:"gray",fw:"600",align:"center",children:[(0,a.jsx)(sb.IconClock,{size:18}),(0,a.jsx)(se.x,{size:"sm",children:"آخرین جستجو های شما"})]}),c.length>0&&(0,a.jsx)(sB.A,{size:"sm",variant:"light",color:"gray",onClick:()=>u([]),children:(0,a.jsx)(sb.IconTrash,{size:14})})]}),(0,a.jsx)(sG.x,{type:"auto",mt:"sm",children:(0,a.jsx)(sh.Z,{children:c.map((e,t)=>(0,a.jsx)(sx.C,{style:{cursor:"pointer"},component:g.OL,to:`/search?s=${e}`,size:"lg",variant:"outline",color:"gray",rightSection:(0,a.jsx)(sb.IconChevronLeft,{size:14}),children:e},t))})})]})})}})]})};var s0=r(2742),s1=r(68889);let s6=e=>{let{menuItems:t}=e,r=(0,sE.rZ)(),i=(0,g.s0)(),[l,s]=(0,p.useState)(String(t[0].id)),n=(0,p.useCallback)(e=>{s(e)},[]);return(0,a.jsxs)(s1.m,{value:l,defaultValue:String(t[0].id),orientation:"vertical",variant:"pills",children:[(0,a.jsx)(s1.m.List,{"aria-label":"Chats",style:{height:"100%",width:"20%"},bg:r.colors.gray[1],p:"xl",children:t.map(e=>(0,a.jsx)(s1.m.Tab,{value:String(e.id),onMouseEnter:()=>n(String(e.id)),onClick:()=>i(e.url),style:{height:45},children:(0,a.jsxs)(l9.k,{align:"center",gap:"sm",children:[(0,a.jsx)(sa.x,{fz:"20px",dangerouslySetInnerHTML:{__html:e.icon}}),(0,a.jsx)(se.x,{size:"sm",component:g.OL,to:e.url,children:e.label})]})},e.id))}),t.map(e=>(0,a.jsx)(s1.m.Panel,{style:{padding:"30px"},value:String(e.id),children:(0,a.jsx)(sN.r,{children:e.links.map((t,r)=>(0,a.jsxs)(sN.r.Col,{span:4,children:[" ",(0,a.jsxs)(sw.K,{children:[(0,a.jsxs)(D.D,{size:"sm",component:g.OL,to:t.url,display:"flex",style:{gap:"5px",alignItems:"center"},children:[(0,a.jsx)(sa.x,{fz:"20px",dangerouslySetInnerHTML:{__html:e.icon}}),t.label]}),t.links.map(e=>(0,a.jsxs)(se.x,{size:"sm",c:"gray.7",component:g.OL,to:e.url,display:"flex",style:{gap:"5px",alignItems:"center"},children:[(0,a.jsx)(sa.x,{fz:"20px",dangerouslySetInnerHTML:{__html:e.icon}}),e.label]},e.id))]})]},t.id))})},e.id))]})},s2=e=>{let{menuItems:t}=e,r=(0,m.I0)(),{isVerified:i,loading:l,error:s,user:n}=(0,m.v9)(e=>e.auth);(0,p.useEffect)(()=>{r(er())},[r]);let[o,d]=(0,p.useState)(!1),c=()=>d(!0),u=()=>d(!1);return(0,a.jsxs)(sa.x,{mt:"lg",w:"100%",children:[(0,a.jsx)(sw.K,{style:{flexDirection:"row"},align:"center",gap:"",children:null==t?void 0:t.map((e,t)=>e.mega?(0,a.jsxs)(s_.v,{width:"100%",openDelay:100,closeDelay:200,onOpen:c,onClose:u,trigger:"hover",styles:{dropdown:{left:"50%",marginRight:"-50%",transform:"translateX(-50%)"}},children:[(0,a.jsx)(s_.v.Target,{children:(0,a.jsx)(z.z,{variant:"transparent",c:"dark",leftSection:(0,a.jsx)(sa.x,{fz:"20px",dangerouslySetInnerHTML:{__html:e.icon}}),px:"0",children:e.label})}),(0,a.jsx)(s_.v.Dropdown,{style:{borderBottomRightRadius:"5px",background:"transparent",border:"none"},children:(0,a.jsx)(I.W,{children:(0,a.jsx)(sa.x,{w:"100%",py:"0",bg:"white",children:(0,a.jsx)(s6,{menuItems:null==e?void 0:e.links})})})})]},t):(0,a.jsxs)(p.Fragment,{children:[" ",e.links.map((t,r)=>t.links.length>0?(0,a.jsxs)(s_.v,{trigger:"hover",styles:{dropdown:{minWidth:170,padding:"7px"}},position:"bottom-start",children:[(0,a.jsx)(s_.v.Target,{children:(0,a.jsx)(z.z,{variant:"transparent",c:"dark",size:"sm",fw:"600",leftSection:(0,a.jsx)(sa.x,{fz:"20px",dangerouslySetInnerHTML:{__html:e.icon}}),px:"0",styles:{root:{textDecoration:"none","&:hover":{textDecoration:"none"}}},children:e.label})}),(0,a.jsx)(s_.v.Dropdown,{children:t.links.map((e,t)=>(0,a.jsx)(s_.v.Item,{component:g.OL,to:e.url,children:e.label},t))})]},r):((null==n?void 0:n.role)==="supplier"||232!==t.id)&&(0,a.jsx)(z.z,{variant:"transparent",c:"dark",leftSection:(0,a.jsx)(sa.x,{fz:"20px",dangerouslySetInnerHTML:{__html:t.icon}}),px:"0",fz:"14px",fw:"600",underline:"never",component:g.OL,to:t.url,children:t.label},r))]},t))}),o&&(0,a.jsx)(s0.h,{target:"body",children:(0,a.jsx)(st.a,{zIndex:40,onClick:u})})]})},s4=function(e){let{toggle:t,menu:r}=e;(0,sE.rZ)();let i=(0,g.s0)(),l=(0,m.I0)(),{isVerified:s,loading:n,error:o,user:d}=(0,m.v9)(e=>e.auth);(0,p.useEffect)(()=>{l(er())},[l]);let c=(0,p.useCallback)((e,r)=>{e.preventDefault(),r&&(i(r),t())},[i,t]),u=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e&&0!==e.length?(0,a.jsx)(sa.x,{style:{paddingLeft:"0px",borderRadius:"10px",padding:"5px",marginRight:3},children:e.map(e=>(0,a.jsxs)(p.Fragment,{children:[(0,a.jsx)(M.O,{bg:"gray.1",fw:"600",label:e.label,c:"gray.8",onClick:t=>c(t,e.url),style:{borderRadius:"8px"},leftSection:(0,a.jsx)(sZ.k,{variant:"transparent",p:0,c:"inherit",dangerouslySetInnerHTML:{__html:e.icon}})}),u(e.links,t+1)]},e.id))}):null};return(0,a.jsx)(a.Fragment,{children:null==r?void 0:r.map(e=>{var t;return(0,a.jsx)(M.O,{mb:"sm",styles:{label:{fontSize:16}},label:e.label,leftSection:(0,a.jsx)(sZ.k,{variant:"transparent",p:0,c:"inherit",dangerouslySetInnerHTML:{__html:e.icon}}),onClick:t=>c(t,e.url),children:null==(t=e.links)?void 0:t.map(e=>((null==d?void 0:d.role)==="supplier"||232!==e.id)&&(0,a.jsx)(M.O,{onClick:t=>c(t,e.url),mb:"sm",c:"gray.7",leftSection:(0,a.jsx)(sZ.k,{variant:"transparent",p:0,c:"inherit",dangerouslySetInnerHTML:{__html:e.icon}}),label:(0,a.jsx)(l9.k,{align:"center",gap:"xs",children:(0,a.jsx)(se.x,{size:"md",c:"gray.7",component:"span",children:e.label})}),children:u(e.links)},e.id))},e.id)})})},s3=function(e){let{category:t,search:r,basket:i}=e;return(0,a.jsxs)(l9.k,{id:"bottom-navigation",hiddenFrom:"md",bg:"white",w:"100%",h:"70",style:{zIndex:100,boxShadow:"0 -15px 20px -15px rgba(0, 0, 0, 0.07)"},pos:"fixed",bottom:0,left:0,justify:"space-between",align:"center",children:[(0,a.jsx)(z.z,{p:"0",variant:"transparent",size:"xs",w:"calc(100% / 5)",h:"45",fw:"500",component:g.OL,to:"/",children:(0,a.jsxs)(l9.k,{direction:"column",align:"center",justify:"center",gap:"5",children:[(0,a.jsx)(sb.IconHome,{stroke:1.5,size:22,color:"#A5A5A7"}),(0,a.jsx)(se.x,{c:"#A5A5A7",size:"10px",children:"خانه"})]})}),(0,a.jsx)(z.z,{p:"0",variant:"transparent",size:"xs",w:"calc(100% / 5)",h:"45",fw:"500",onClick:t,children:(0,a.jsxs)(l9.k,{direction:"column",align:"center",justify:"center",gap:"5",children:[(0,a.jsx)(sb.IconMenu2,{stroke:1.5,size:22,color:"#A5A5A7"}),(0,a.jsx)(se.x,{c:"#A5A5A7",size:"10px",children:"دسته‌بندی"})]})}),(0,a.jsx)(z.z,{p:"0",variant:"transparent",size:"xs",w:"calc(100% / 5)",h:"45",fw:"500",onClick:i,component:g.OL,to:"/basket",children:(0,a.jsxs)(l9.k,{direction:"column",align:"center",justify:"center",gap:"5",children:[(0,a.jsx)(sb.IconShoppingCart,{stroke:1.5,size:22,color:"#A5A5A7"}),(0,a.jsx)(se.x,{c:"#A5A5A7",size:"10px",children:"سبد خرید"})]})}),(0,a.jsx)(z.z,{p:"0",variant:"transparent",size:"xs",w:"calc(100% / 5)",h:"45",fw:"500",onClick:r,children:(0,a.jsxs)(l9.k,{direction:"column",align:"center",justify:"center",gap:"5",children:[(0,a.jsx)(sb.IconSearch,{stroke:1.5,size:22,color:"#A5A5A7"}),(0,a.jsx)(se.x,{c:"#A5A5A7",size:"10px",children:"جستجو"})]})}),(0,a.jsx)(z.z,{p:"0",variant:"transparent",size:"xs",w:"calc(100% / 5)",h:"45",fw:"500",component:g.OL,to:"/account",children:(0,a.jsxs)(l9.k,{direction:"column",align:"center",justify:"center",gap:"5",children:[(0,a.jsx)(sb.IconUser,{stroke:1.5,size:22,color:"#A5A5A7"}),(0,a.jsx)(se.x,{c:"#A5A5A7",size:"10px",children:"حساب کاربری"})]})})]})},s5=function(e){let{children:t,shadow:r="md",back:i=!0,...l}=e;return(0,g.s0)(),(0,a.jsx)(N.X,{py:"40",shadow:r,...l,children:(0,a.jsxs)(l9.k,{justify:"center",align:"center",direction:"column",gap:"lg",c:"gray",children:[(0,a.jsx)(sb.IconInfoCircle,{size:50}),t]})})},s8=function(e){var t,r;let{opened:i,close:l}=e,s=(0,g.s0)(),[n,o]=(0,p.useState)(""),[d]=(0,sX.c)(n,500),[c,u]=(0,p.useState)(!1);(0,g.TH)();let[m,h]=(0,sY.I)({key:"search",defaultValue:[]}),{data:x,isLoading:b,isFetching:f}=k({url:"/search",queryKey:["search",d],params:{s:n},queryOptions:{enabled:d.length>2&&n.length>2}}),y=e=>{s(e),o(""),l()};return(0,a.jsxs)(sU.d,{title:"جستجو",opened:i,onClose:l,children:[(0,a.jsx)(ss.o,{leftSection:(0,a.jsx)(sb.IconSearch,{}),placeholder:"جستجو محصول مورد نظر",variant:"filled",mb:"md",styles:{input:{height:45}},value:n,onChange:e=>o(e.target.value)}),d.length>2?(0,a.jsx)(a.Fragment,{children:f?(0,a.jsx)(si.M,{children:(0,a.jsx)(A.a,{})}):(0,a.jsx)(a.Fragment,{children:x?(0,a.jsxs)(sa.x,{mt:"lg",children:[(0,a.jsx)(sH.i,{labelPosition:"left",label:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(sb.IconLayoutGridAdd,{}),(0,a.jsx)(se.x,{mr:"sm",children:"دسته‌ها"})]})}),(0,a.jsx)(sz.M,{cols:3,mt:"md",children:null==x||null==(t=x.category)?void 0:t.map((e,t)=>(0,a.jsx)(N.X,{shadow:"none",withBorder:!0,style:{cursor:"pointer"},onClick:()=>y(`/category/${e.slug}`),children:(0,a.jsxs)(l9.k,{align:"center",justify:"space-between",children:[(0,a.jsx)(se.x,{children:e.title}),(0,a.jsx)(sB.A,{component:g.OL,variant:"white",children:(0,a.jsx)(sb.IconExternalLink,{})})]})},t))}),(0,a.jsx)(sH.i,{mt:"xl",labelPosition:"left",label:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(sb.IconLayoutGridAdd,{}),(0,a.jsx)(se.x,{mr:"sm",children:"محصولات"})]})}),(0,a.jsx)(sw.K,{mt:"md",children:null==x||null==(r=x.products)?void 0:r.map((e,t)=>(0,a.jsx)(N.X,{style:{cursor:"pointer"},shadow:"none",withBorder:!0,onClick:()=>y(`/product/${e.slug}`),children:(0,a.jsx)(l9.k,{align:"start",gap:"sm",children:(0,a.jsxs)(l9.k,{justify:"space-between",w:"100%",children:[(0,a.jsx)(se.x,{children:e.title}),(0,a.jsx)(sB.A,{variant:"white",children:(0,a.jsx)(sb.IconExternalLink,{})})]})})},t))})]}):(0,a.jsx)(s5,{shadow:"0",back:!1,children:"چیزی یافت نشد"})})}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(sh.Z,{justify:"space-between",children:[(0,a.jsxs)(l9.k,{gap:"sm",c:"gray",fw:"600",align:"center",children:[(0,a.jsx)(sb.IconClock,{size:18}),(0,a.jsx)(se.x,{size:"sm",children:"آخرین جستجو های شما"})]}),m.length>0&&(0,a.jsx)(sB.A,{size:"sm",variant:"light",color:"gray",onClick:()=>h([]),children:(0,a.jsx)(sb.IconTrash,{size:14})})]}),(0,a.jsx)(sG.x,{type:"auto",mt:"sm",children:(0,a.jsx)(sh.Z,{children:m.map((e,t)=>(0,a.jsx)(sx.C,{style:{cursor:"pointer"},onClick:()=>y(`/search?s=${e}`),size:"lg",variant:"outline",color:"gray",rightSection:(0,a.jsx)(sb.IconChevronLeft,{size:14}),children:e},t))})})]})]})};var s7=r(60724),s9=r(70737);let ne={red:"#FF0000",قرمز:"#FF0000",green:"#008000",سبز:"#008000",blue:"#0000FF",آبی:"#0000FF",black:"#000000",مشکی:"#000000",white:"#FFFFFF",سفید:"#FFFFFF",yellow:"#FFFF00",زرد:"#FFFF00",orange:"#FFA500",نارنجی:"#FFA500",purple:"#800080",بنفش:"#800080",pink:"#FFC0CB",صورتی:"#FFC0CB",brown:"#A52A2A",قهوه‌ای:"#A52A2A",gray:"#808080",خاکستری:"#808080",grey:"#808080",silver:"#C0C0C0",نقره‌ای:"#C0C0C0",gold:"#FFD700",طلایی:"#FFD700",golden:"#FFD700",maroon:"#800000",زرشکی:"#800000",crimson:"#DC143C",سرخ:"#DC143C",coral:"#FF7F50",مرجانی:"#FF7F50",salmon:"#FA8072",صورتی_ماهی:"#FA8072",tomato:"#FF6347",گوجه_فرنگی:"#FF6347",orangered:"#FF4500",نارنجی_قرمز:"#FF4500",darkorange:"#FF8C00",نارنجی_تیره:"#FF8C00",lightyellow:"#FFFFE0",زرد_روشن:"#FFFFE0",lemon:"#FFFACD",لیمویی:"#FFFACD",khaki:"#F0E68C",خاکی:"#F0E68C",olive:"#808000",زیتونی:"#808000",darkgoldenrod:"#B8860B",طلایی_تیره:"#B8860B",lime:"#00FF00",لیمی:"#00FF00",lightgreen:"#90EE90",سبز_روشن:"#90EE90",darkgreen:"#006400",سبز_تیره:"#006400",forestgreen:"#228B22",سبز_جنگلی:"#228B22",seagreen:"#2E8B57",سبز_دریایی:"#2E8B57",teal:"#008080",سبزآبی:"#008080",turquoise:"#40E0D0",فیروزه_ای:"#40E0D0",cyan:"#00FFFF",فیروزه:"#00FFFF",aqua:"#00FFFF",آبی_روشن:"#00FFFF",mint:"#98FB98",نعنایی:"#98FB98",emerald:"#50C878",زمردی:"#50C878",lightblue:"#ADD8E6",آبی_روشن:"#ADD8E6",darkblue:"#00008B",آبی_تیره:"#00008B",navy:"#000080",سرمه_ای:"#000080",royal:"#4169E1",آبی_شاهی:"#4169E1",skyblue:"#87CEEB",آبی_آسمانی:"#87CEEB",steelblue:"#4682B4",آبی_فولادی:"#4682B4",indigo:"#4B0082",نیلی:"#4B0082",midnight:"#191970",آبی_شب:"#191970",cobalt:"#0047AB",کبالت:"#0047AB",violet:"#8A2BE2",بنفش_روشن:"#8A2BE2",darkviolet:"#9400D3",بنفش_تیره:"#9400D3",magenta:"#FF00FF",سرخابی:"#FF00FF",fuchsia:"#FF00FF",فوشیا:"#FF00FF",orchid:"#DA70D6",ارکیده:"#DA70D6",plum:"#DDA0DD",آلویی:"#DDA0DD",lavender:"#E6E6FA",اسطوخودوس:"#E6E6FA",lilac:"#C8A2C8",یاسی:"#C8A2C8",lightpink:"#FFB6C1",صورتی_روشن:"#FFB6C1",hotpink:"#FF69B4",صورتی_داغ:"#FF69B4",deeppink:"#FF1493",صورتی_تیره:"#FF1493",rose:"#FF007F",گلی:"#FF007F",peach:"#FFCBA4",هلویی:"#FFCBA4",blush:"#DE5D83",سرخی:"#DE5D83",tan:"#D2B48C",کرم:"#D2B48C",beige:"#F5F5DC",بژ:"#F5F5DC",chocolate:"#D2691E",شکلاتی:"#D2691E",coffee:"#6F4E37",قهوه:"#6F4E37",sienna:"#A0522D",خاک_سوخته:"#A0522D",peru:"#CD853F",قهوه_ای_روشن:"#CD853F",saddle:"#8B4513",چرمی:"#8B4513",rust:"#B7410E",زنگ_زده:"#B7410E",bronze:"#CD7F32",برنزی:"#CD7F32",copper:"#B87333",مسی:"#B87333",lightgray:"#D3D3D3",خاکستری_روشن:"#D3D3D3",lightgrey:"#D3D3D3",darkgray:"#A9A9A9",خاکستری_تیره:"#A9A9A9",darkgrey:"#A9A9A9",dimgray:"#696969",خاکستری_کم_نور:"#696969",charcoal:"#36454F",زغالی:"#36454F",slate:"#708090",صخره_ای:"#708090",ash:"#B2BEB5",خاکستری:"#B2BEB5",smoke:"#F5F5F5",دودی:"#F5F5F5",pearl:"#F0EAD6",مروارید:"#F0EAD6",ivory:"#FFFFF0",عاجی:"#FFFFF0",cream:"#FFFDD0",کرمی:"#FFFDD0",platinum:"#E5E4E2",پلاتین:"#E5E4E2",titanium:"#878681",تیتانیوم:"#878681",chrome:"#BCC6CC",کروم:"#BCC6CC",steel:"#71797E",فولادی:"#71797E",gunmetal:"#2C3539",خاکستری_فلزی:"#2C3539",pastelblue:"#AEC6CF",آبی_پاستل:"#AEC6CF",pastelgreen:"#77DD77",سبز_پاستل:"#77DD77",pastelpink:"#F49AC2",صورتی_پاستل:"#F49AC2",pastelyellow:"#FDFD96",زرد_پاستل:"#FDFD96",pastelpurple:"#B19CD9",بنفش_پاستل:"#B19CD9",neongreen:"#39FF14",سبز_نئون:"#39FF14",neonblue:"#1B03A3",آبی_نئون:"#1B03A3",neonpink:"#FF073A",صورتی_نئون:"#FF073A",neonyellow:"#CCFF00",زرد_نئون:"#CCFF00",neonorange:"#FF6700",نارنجی_نئون:"#FF6700",سورمه_ای:"#191970",شرابی:"#722F37",پسته_ای:"#93C572",لاجوردی:"#26619C",زعفرانی:"#F4C430",آجری:"#CB4154",یشمی:"#00A86B",فیله:"#E0B4D6",کاهی:"#F0E68C",لعابی:"#CC7722"},nt=e=>{var t;let{productId:r,item:i,name:l,image:s,price:n,count:o,attributes:d,seller:c,combinationsID:u,max:x,min:b}=e,f=(0,m.I0)(),y=(0,g.s0)(),[j,v]=(0,p.useState)(!1),[C,w]=(0,p.useState)(!1),{primaryColor:k}=(0,sE.rZ)(),S=e=>(!!(e.message.includes("توکن نامعتبر است")||e.message.includes("Unauthorized"))||401===e.status)&&(localStorage.removeItem("user"),f(J([])),w(!0),!0);(0,p.useEffect)(()=>()=>{j&&v(!1)},[j]);let I=`data:image/svg+xml;charset=utf-8,${encodeURIComponent(`
    <svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
      <defs>
        <linearGradient id="grad1" x1="0%" y1="0%" x2="100%" y2="100%">
          <stop offset="0%" style="stop-color:#f8f9fa;stop-opacity:1" />
          <stop offset="100%" style="stop-color:#e9ecef;stop-opacity:1" />
        </linearGradient>
      </defs>
      <rect width="200" height="200" fill="url(#grad1)" stroke="#dee2e6" stroke-width="1"/>
      <rect x="40" y="60" width="120" height="80" fill="#ffffff" stroke="#ced4da" stroke-width="1" rx="8"/>
      <circle cx="100" cy="100" r="25" fill="#f8f9fa" stroke="#adb5bd" stroke-width="2"/>
      <path d="M85 95 L95 105 L115 85" stroke="#6c757d" stroke-width="3" fill="none" stroke-linecap="round" stroke-linejoin="round"/>
      <text x="100" y="165" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#6c757d">\u{62A}\u{635}\u{648}\u{6CC}\u{631} \u{645}\u{62D}\u{635}\u{648}\u{644}</text>
    </svg>
  `)}`,N=(0,p.useMemo)(()=>(null==n?void 0:n.regularPrice)&&(null==n?void 0:n.discountedPrice)&&n.regularPrice>n.discountedPrice?Math.round((n.regularPrice-n.discountedPrice)/n.regularPrice*100):null,[n]),D=async()=>{v(!0);try{let e=localStorage.getItem("user");if(!e)throw Error("No authentication token found");let t=await fetch(et("/cart/remove"),{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({productId:r,seller:c,combinationsID:u||null})});if(401===t.status){S({status:401,message:"Unauthorized"}),v(!1);return}if(404===t.status){let e=await t.json();if("Cart not found"===e.message){f(J([])),h.N9.show({title:"اطلاع",message:"سبد خرید خالی است",color:"blue",icon:(0,a.jsx)(sb.IconCheck,{size:16}),autoClose:3e3,position:"top-right"}),v(!1);return}throw Error(`Item not found: ${e.message}`)}if(!t.ok){let e=await t.text();throw Error(`HTTP ${t.status}: ${e}`)}let i=await t.json();if((null==i?void 0:i.message)==="error")throw Error(i.error||"Server returned an error");if((null==i?void 0:i.message)==="ok"){let e=i.cart||[];f(J(e)),h.N9.show({title:"موفق",message:0===e.length?"سبد خرید خالی شد":"محصول از سبد خرید حذف شد",color:"green",icon:(0,a.jsx)(sb.IconCheck,{size:16}),autoClose:3e3,position:"top-right"}),v(!1);return}let l=await fetch(et("/cart"),{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(401===l.status){S({status:401,message:"Unauthorized"}),v(!1);return}if(l.ok){let e=await l.json();(null==e?void 0:e.message)==="ok"&&(null==e?void 0:e.cart)&&(f(J([...e.cart])),h.N9.show({title:"موفق",message:"محصول از سبد خرید حذف شد",color:"green",icon:(0,a.jsx)(sb.IconCheck,{size:16}),autoClose:3e3,position:"top-right"}))}v(!1)}catch(r){if(console.error("Remove failed:",r),S(r))return void v(!1);let e="مشکلی پیش آمده است دوباره تلاش کنید",t="خطا در حذف";r.message.includes("404")||r.message.includes("not found")?(e="محصول در سبد خرید یافت نشد",t="محصول یافت نشد"):r.message.includes("400")?(e="اطلاعات ارسالی نامعتبر است",t="خطا در اطلاعات"):r.message.includes("401")||r.message.includes("authentication")?(e="لطفا دوباره وارد شوید",t="خطا در احراز هویت"):r.message.includes("500")?(e="مشکل در سرور، لطفا بعداً تلاش کنید",t="خطا در سرور"):(r.message.includes("NetworkError")||r.message.includes("fetch"))&&(e="مشکل در اتصال به اینترنت",t="خطا در اتصال"),h.N9.show({title:t,message:e,color:"red",icon:(0,a.jsx)(sb.IconX,{size:16}),autoClose:5e3,position:"top-right"}),v(!1)}try{f(t$())}catch(e){console.warn("Failed to refresh subscription plans:",e)}};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(sp.u,{opened:C,onClose:()=>w(!1),title:"ورود به حساب کاربری",centered:!0,closeOnClickOutside:!1,closeOnEscape:!1,children:[(0,a.jsx)(se.x,{mb:"md",children:"لطفا وارد حساب کاربری شوید"}),(0,a.jsxs)(l9.k,{gap:"sm",justify:"flex-end",children:[(0,a.jsx)(z.z,{variant:"outline",onClick:()=>w(!1),children:"انصراف"}),(0,a.jsx)(z.z,{onClick:()=>{w(!1),y("/login")},children:"ورود به حساب کاربری"})]})]}),(0,a.jsxs)(l9.k,{gap:"md",pt:"sm",w:"100%",style:{opacity:j?.5:1,transition:"all 0.3s ease",transform:j?"scale(0.95)":"scale(1)",borderRadius:"8px",padding:"8px",backgroundColor:"var(--mantine-color-gray-0)",border:"1px solid var(--mantine-color-gray-2)",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)",position:"relative",overflow:"hidden"},children:[(0,a.jsxs)("div",{style:{position:"relative",flexShrink:0},children:[(0,a.jsx)(T.e,{component:g.OL,to:`product/${r}`,children:(0,a.jsx)(sl.E,{src:!s||""===s||null==s||Array.isArray(s)&&0===s.length||Array.isArray(s)&&""===s[0]?I:s,w:80,h:80,fit:"contain",radius:"md",fallbackSrc:I,style:{border:"1px solid var(--mantine-color-gray-3)",backgroundColor:"#fff"}})}),(0,a.jsx)(sx.C,{size:"xs",variant:"filled",color:"blue",style:{position:"absolute",top:-4,right:-4,minWidth:"20px",height:"20px",padding:"0 6px",fontSize:"10px",fontWeight:600},children:o})]}),(0,a.jsxs)(l9.k,{gap:"xs",direction:"column",flex:"1",style:{minWidth:0},children:[(0,a.jsxs)(l9.k,{align:"flex-start",justify:"space-between",gap:"sm",children:[(0,a.jsx)(se.x,{component:g.OL,to:`product/${r}`,className:"line-clamp-2",size:"sm",fw:500,style:{flex:1,minWidth:0,color:"var(--mantine-color-dark-7)",textDecoration:"none",lineHeight:1.4},onMouseEnter:e=>{e.target.style.color="var(--mantine-primary-color-filled)"},onMouseLeave:e=>{e.target.style.color="var(--mantine-color-dark-7)"},children:l}),(0,a.jsx)(sB.A,{color:"red",variant:"light",onClick:D,style:{flexShrink:0,transition:"all 0.2s ease"},size:"sm",loading:j,disabled:j,radius:"md",children:j?(0,a.jsx)(A.a,{size:12}):(0,a.jsx)(sb.IconTrash,{size:12})})]}),!!(t=d)&&(Array.isArray(t)?0!==t.length&&t.some(e=>e&&"object"==typeof e&&(e.color||e.material||e.warranty)||"string"==typeof e&&""!==e):""!==t)&&(0,a.jsx)(l9.k,{gap:"xs",wrap:"wrap",style:{margin:"4px 0"},children:null==d?void 0:d.map((e,t)=>{var r;return(0,a.jsxs)(l9.k,{gap:"xs",wrap:"wrap",children:[e.color&&""!==e.color&&(0,a.jsx)("div",{style:{width:"16px",height:"16px",borderRadius:"50%",backgroundColor:(r=e.color)&&""!==r?r.startsWith("#")?r:ne[r.toLowerCase()]||ne[r]||r:null,border:"2px solid var(--mantine-color-gray-4)",display:"inline-block",boxShadow:"0 1px 2px rgba(0, 0, 0, 0.1)"}}),e.material&&""!==e.material&&(0,a.jsx)(sx.C,{variant:"light",color:"gray",size:"xs",radius:"sm",children:(0,a.jsx)(se.x,{size:"xs",children:e.material})}),e.warranty&&""!==e.warranty&&(0,a.jsx)(sx.C,{variant:"light",color:"blue",size:"xs",radius:"sm",children:(0,a.jsx)(se.x,{size:"xs",children:e.warranty})})]},t)})}),(0,a.jsxs)(l9.k,{align:"center",gap:"xs",style:{margin:"2px 0"},children:[(0,a.jsx)(sb.IconUser,{size:12,color:"var(--mantine-color-gray-6)"}),(0,a.jsx)(se.x,{size:"xs",c:"gray.6",children:null==c?void 0:c.label})]}),(0,a.jsxs)(l9.k,{dir:"ltr",gap:"sm",align:"center",justify:"space-between",w:"100%",style:{marginTop:"auto",padding:"8px 0"},children:[(0,a.jsxs)(l9.k,{direction:"column",align:"start",gap:"2px",children:[(0,a.jsxs)(l9.k,{align:"center",gap:"xs",children:[(0,a.jsxs)(se.x,{fw:600,size:"sm",c:"dark",children:[(0,a.jsx)(s7.e,{thousandSeparator:!0,value:(null==n?void 0:n.discountedPrice)||(null==n?void 0:n.regularPrice)}),(0,a.jsx)(se.x,{component:"span",size:"xs",c:"dimmed",mr:"4px",children:"تومان"})]}),N&&(0,a.jsxs)(sx.C,{color:"red",size:"xs",variant:"filled",radius:"sm",children:[N,"%"]})]}),(null==n?void 0:n.discountedPrice)&&(null==n?void 0:n.regularPrice)>(null==n?void 0:n.discountedPrice)&&(0,a.jsx)(se.x,{size:"xs",c:"gray.5",style:{textDecoration:"line-through"},children:(0,a.jsx)(s7.e,{thousandSeparator:!0,value:n.regularPrice})})]}),(0,a.jsx)(l9.k,{align:"center",gap:"xs",style:{backgroundColor:"var(--mantine-primary-color-light)",padding:"4px 8px",borderRadius:"6px",border:"1px solid var(--mantine-primary-color-outline)"},children:(0,a.jsxs)(se.x,{c:"var(--mantine-primary-color-filled)",size:"xs",fw:500,children:["\xd7 ",o]})})]})]})]})]})},nr=()=>{let[e,{open:t,close:r}]=(0,s$.q)(!1),i=(0,g.s0)(),l=(0,m.v9)(e=>e.cart),s=(null==l?void 0:l.items)||[],{user:n,isVerified:o}=(0,m.v9)(e=>e.auth),d=(0,p.useMemo)(()=>s.reduce((e,t)=>{var r,a;return e+((null==(r=t.price)?void 0:r.discountedPrice)||(null==(a=t.price)?void 0:a.regularPrice)||0)*t.count},0),[s]),c=n&&o,u=c?s.length:0;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s9.z,{offset:2,withBorder:!0,size:18,label:u>0?u:"",disabled:!c||0===u,color:"red",inline:!0,styles:{indicator:{paddingTop:"1px",fontSize:"10px"}},children:(0,a.jsx)(sB.A,{h:45,color:"red",variant:"light",size:"xl",onClick:t,children:(0,a.jsx)(sb.IconShoppingCart,{})})}),(0,a.jsxs)(sU.d.Root,{opened:e,onClose:r,position:"right",size:450,styles:{inner:{right:0,left:"auto",top:0,bottom:0,height:"100vh",position:"fixed"},content:{right:0,left:"auto",top:0,bottom:0,height:"100vh",maxHeight:"100vh",minWidth:"450px",width:"450px",position:"fixed",display:"flex",flexDirection:"column"},header:{flexShrink:0,padding:"1rem"},body:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden",padding:0}},children:[(0,a.jsx)(sU.d.Overlay,{}),(0,a.jsxs)(sU.d.Content,{children:[(0,a.jsxs)(sU.d.Header,{children:[(0,a.jsx)(sU.d.Title,{fw:600,size:"md",children:"سبد خرید"}),(0,a.jsx)(sU.d.CloseButton,{})]}),(0,a.jsx)(sU.d.Body,{style:{flex:1,display:"flex",flexDirection:"column",padding:0,overflow:"hidden",width:"100%"},children:(0,a.jsx)("div",{style:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden",width:"100%"},children:c?0===s.length?(0,a.jsx)(si.M,{style:{flex:1,padding:"2rem",width:"100%"},children:(0,a.jsx)(s5,{back:!1,shadow:"0",style:{width:"100%",textAlign:"center"},children:(0,a.jsxs)(sw.K,{align:"center",gap:"md",children:[(0,a.jsx)(sb.IconShoppingCart,{size:40,color:"gray"}),(0,a.jsx)(se.x,{size:"md",c:"dimmed",children:"سبد خرید خالی است"}),(0,a.jsx)(se.x,{size:"sm",c:"dimmed",children:"محصولات مورد نظر خود را اضافه کنید"})]})})}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{style:{flex:1,overflow:"hidden",width:"100%"},children:(0,a.jsx)(sG.x,{style:{height:"100%",width:"100%"},type:"hover",px:"lg",py:"md",children:(0,a.jsx)(sw.K,{className:"divide-y",gap:"sm",children:s.map((e,t)=>{let r=`${e.productId}-${e.combinationsID||"no-combo"}-${t}-${s.length}`;return(0,a.jsx)(nt,{...e,item:e},r)})})})}),(0,a.jsx)("div",{style:{borderTop:"1px solid var(--mantine-color-gray-3)",padding:"1.25rem",backgroundColor:"var(--mantine-color-body)",zIndex:10,width:"100%"},children:(0,a.jsxs)(l9.k,{justify:"space-between",align:"center",gap:"md",children:[(0,a.jsxs)(l9.k,{direction:"column",align:"start",children:[(0,a.jsx)(se.x,{size:"xs",c:"gray",component:"span",children:"جمع کل"}),(0,a.jsxs)(se.x,{component:"span",fw:600,size:"md",children:[(0,a.jsx)(s7.e,{thousandSeparator:!0,value:d}),(0,a.jsx)(se.x,{component:"span",size:"xs",c:"dimmed",mr:"xs",children:"تومان"})]})]}),(0,a.jsx)(z.z,{onClick:()=>{r(),setTimeout(()=>{i("/basket")},100)},size:"sm",style:{minWidth:"100px"},children:"ادامه"})]})})]}):(0,a.jsx)(si.M,{style:{flex:1,padding:"2rem",width:"100%"},children:(0,a.jsx)(s5,{back:!1,shadow:"0",style:{width:"100%",textAlign:"center"},children:(0,a.jsxs)(sw.K,{align:"center",gap:"md",children:[(0,a.jsx)(sb.IconShoppingCart,{size:40,color:"gray"}),(0,a.jsx)(se.x,{size:"md",c:"dimmed",children:"لطفا وارد حساب کاربری شوید"}),(0,a.jsx)(z.z,{component:g.OL,to:"/login",onClick:()=>r(),size:"sm",children:"ورود"})]})})})})})]})]})]})};var na=r(67528);let ni=()=>{let e=(0,g.s0)(),t=(0,m.I0)(),r=(0,p.useRef)(0),i=(0,p.useRef)(!1),{user:l,isVerified:s}=(0,m.v9)(e=>e.auth),{notificationNumber:n,loadingNotificationNumber:o,errorNotificationNumber:d}=(0,m.v9)(e=>e.notificationNumber);(0,p.useEffect)(()=>{let e=()=>{t(aA({forceRefresh:!0}))};return window.addEventListener("refreshNotificationCount",e),()=>{window.removeEventListener("refreshNotificationCount",e)}},[t]),(0,p.useEffect)(()=>{if(!l||!s){i.current=!1;return}if(!i.current&&!o){i.current=!0;try{t(aA())}catch(e){}}},[t,l,s,o]),(0,p.useEffect)(()=>{if(!l&&i.current){for(let e=sessionStorage.length-1;e>=0;e--){let t=sessionStorage.key(e);t&&t.startsWith("notifications_fetched_")&&(sessionStorage.removeItem(t),sessionStorage.removeItem(`${t}_data`))}i.current=!1}},[l]),(0,p.useEffect)(()=>{if(!l||!s||!n)return;let e=n.unreadCount||0;e>r.current&&e>0&&"serviceWorker"in navigator&&"Notification"in window&&navigator.serviceWorker.ready.then(t=>{let r=()=>{t.showNotification("پیام جدید!",{body:`\u{634}\u{645}\u{627} ${e} \u{67E}\u{6CC}\u{627}\u{645} \u{62E}\u{648}\u{627}\u{646}\u{62F}\u{647}\u{200C}\u{646}\u{634}\u{62F}\u{647} \u{62F}\u{627}\u{631}\u{6CC}\u{62F}.`,icon:"/icons/64.png",data:{url:"/account/notifications"}})};"granted"===Notification.permission?r():"denied"!==Notification.permission&&Notification.requestPermission().then(e=>{"granted"===e&&r()})}).catch(e=>{console.warn("Service worker not available:",e)}),r.current=e},[null==n?void 0:n.unreadCount,l,s]);let c=()=>{if(l&&s){let t=new CustomEvent("refreshNotificationCount");window.dispatchEvent(t),e("/account/notifications")}else e("/login")},u=n?"object"==typeof n&&void 0!==n.unreadCount?n.unreadCount:"number"==typeof n?n:0:0;return l&&s?d?(console.error("Notification error:",d),(0,a.jsx)(sB.A,{h:45,color:"gray",variant:"light",size:"xl",onClick:c,title:"خطا در بارگیری اعلان‌ها",disabled:!0,children:(0,a.jsx)(na.ekN,{size:25})})):o&&!n?(0,a.jsx)(sB.A,{h:45,color:"blue",variant:"light",size:"xl",onClick:c,loading:!0,children:(0,a.jsx)(na.ekN,{size:25})}):u>0?(0,a.jsx)(s9.z,{offset:2,withBorder:!0,size:20,label:u,color:"green",inline:!0,styles:{indicator:{paddingTop:"1px"}},children:(0,a.jsx)(sB.A,{h:45,color:"blue",variant:"light",size:"xl",onClick:c,children:(0,a.jsx)(na.ekN,{size:25})})}):(0,a.jsx)(sB.A,{h:45,color:"blue",variant:"light",size:"xl",onClick:c,children:(0,a.jsx)(na.ekN,{size:25})}):(0,a.jsx)(sB.A,{h:45,color:"gray",variant:"light",size:"xl",onClick:()=>e("/login"),title:"وارد شوید تا اعلان‌ها را ببینید",children:(0,a.jsx)(na.ekN,{size:25})})},nl=()=>{var e,t;let r=(0,g.TH)(),i=(0,m.I0)(),[l,s]=(0,p.useState)(!1),n=(0,p.useRef)(0),o=(0,p.useRef)(!1),[d,c]=(0,p.useState)({cart:[],totalPrice:0}),[u,h]=(0,p.useState)(!1),{notificationNumber:x,loadingNotificationNumber:b,errorNotificationNumber:f}=(0,m.v9)(e=>e.notificationNumber),y=(0,m.v9)(e=>e.global.bootstrap),j="/payment-statuscheck"===r.pathname||"/payment-method"===r.pathname||"/payment-info"===r.pathname||"/payment-checkstatus"===r.pathname,[v,{open:C,close:w}]=(0,s$.q)(!1),k=(0,s$.q)(!1),S=(0,s$.q)(!1),N=(0,g.s0)(),{isVerified:D,loading:A,error:F,user:M}=(0,m.v9)(e=>e.auth),P=(0,sE.rZ)();(0,sq.a)(`(max-width: ${P.breakpoints.md})`);let E=(0,m.v9)(e=>[...e.cart.items]),_=async()=>{let e=localStorage.getItem("user");if(!e)return void c({cart:[],totalPrice:0});h(!0);try{let t=await fetch(et("/cart"),{method:"GET",headers:new Headers({Authorization:`Bearer ${e}`,"Content-Type":"application/json"})});if(!t.ok)throw localStorage.removeItem("user"),Error("Failed to fetch cart data");let r=await t.json(),a={cart:r.cart||[],totalPrice:r.total||0};c(a),a.cart.length>0&&i(J(a.cart))}catch(e){console.warn("Failed to fetch cart data:",e.message),c({cart:[],totalPrice:0})}finally{h(!1)}},L=()=>{let e=window.scrollY;o.current||(requestAnimationFrame(()=>{e<10?s(!1):e>n.current+5?s(!0):e<n.current-5&&s(!1),n.current=e,o.current=!1}),o.current=!0)};(0,p.useEffect)(()=>(window.addEventListener("scroll",L,{passive:!0}),()=>window.removeEventListener("scroll",L)),[]),(0,p.useEffect)(()=>{(async()=>{try{await i(ea())}catch(e){}})()},[i]),(0,p.useEffect)(()=>{M&&D&&(async()=>{try{await i(aA())}catch(e){}})()},[i,M,D]),(0,p.useEffect)(()=>{M&&D?_():c({cart:[],totalPrice:0})},[M,D,i]);let B=async()=>{try{localStorage.removeItem("user"),i(el()),i(Q()),c({cart:[],totalPrice:0}),await i(ea()),N("/")}catch(e){N("/")}};return(0,a.jsxs)(a.Fragment,{children:[(null==y?void 0:y.banner)&&""!==y.banner.src?(0,a.jsx)("a",{className:"relative z-50",id:"header_banner",href:y.banner.link,target:"_blank",rel:"noopener noreferrer",children:(0,a.jsx)(sl.E,{src:y.banner.src,w:"100%",h:48})}):null,(0,a.jsx)("div",{className:" z-50 bg-white relative",id:"header",children:(0,a.jsx)("div",{children:(0,a.jsx)("div",{className:"relative z-30 gap-x-4 bg-white py-4 pb-3 shadow-sm",children:(0,a.jsxs)(I.W,{children:[(0,a.jsxs)(l9.k,{w:"100%",justify:"space-between",align:"center",children:[(0,a.jsxs)(l9.k,{align:"center",gap:60,children:[(0,a.jsx)(l9.k,{align:"center",gap:"sm",children:(0,a.jsx)(T.e,{component:g.OL,to:"/",children:(0,a.jsx)(sl.E,{src:null==y?void 0:y.logo,h:"auto",w:{base:"146"},fit:"contain"})})}),(0,a.jsx)(sa.x,{visibleFrom:"md",children:(0,a.jsx)(sQ,{})})]}),(0,a.jsxs)(l9.k,{align:"center",gap:"md",children:[(0,a.jsx)(ni,{}),!j&&(0,a.jsx)(nr,{cartItems:E}),M?(0,a.jsxs)(s_.v,{shadow:"md",position:"bottom-end",styles:{dropdown:{minWidth:250,padding:"10px"}},children:[(0,a.jsx)(sL.e,{children:(0,a.jsx)(sB.A,{h:45,variant:"light",size:"xl",children:(0,a.jsx)(sb.IconUser,{})})}),(0,a.jsxs)(sO.e,{children:[(0,a.jsx)(sR.s,{leftSection:(0,a.jsx)(sW.q,{size:"sm"}),rightSection:(0,a.jsx)(sb.IconChevronLeft,{size:18}),component:g.OL,to:"/account",children:"مشاهده پروفایل"}),(0,a.jsx)(s_.v.Divider,{}),(0,a.jsx)(sR.s,{rightSection:(0,a.jsx)(sb.IconUserCog,{size:18}),component:g.OL,to:"/account/edit-account",children:"ویرایش"}),(0,a.jsx)(sR.s,{rightSection:(0,a.jsx)(sb.IconShoppingCart,{size:18}),component:g.OL,to:"/account/orders",children:"سفارش ها"}),(0,a.jsx)(sR.s,{rightSection:(0,a.jsx)(sb.IconShoppingCart,{size:18}),component:g.OL,to:"/account/wallet",children:"کیف پول"}),(0,a.jsx)(sR.s,{rightSection:f||!x?null:(0,a.jsx)(sx.C,{variant:"light",children:x.unreadCount||0}),component:g.OL,to:"/account/notifications",children:"پیام ها"}),(0,a.jsx)(sR.s,{rightSection:(0,a.jsx)(sZ.k,{size:"xs",color:"yellow",variant:"transparent",children:(0,a.jsx)(sb.IconComet,{})}),component:g.OL,to:"/subscription",children:"تهیه اشتراک"}),(0,a.jsx)(sR.s,{color:"red",rightSection:(0,a.jsx)(sb.IconLogout,{size:18}),onClick:B,children:"خروج"})]})]}):(0,a.jsx)(z.z,{h:"45",variant:"light",component:g.OL,to:"/login",children:"ورود/ثبت‌ نام"})]})]}),(0,a.jsx)(sa.x,{visibleFrom:"md",children:(0,a.jsx)(s2,{menuItems:null==y||null==(e=y.menu)?void 0:e.main})}),(0,a.jsx)(sU.d,{opened:k[0],size:"100%",onClose:k[1].close,title:(0,a.jsx)(sl.E,{src:null==y?void 0:y.logo,h:"auto",w:{base:"146"},fit:"contain"}),children:(0,a.jsx)(s4,{toggle:k[1].toggle,menu:null==y||null==(t=y.menu)?void 0:t.main})})]})})})}),(0,a.jsx)("div",{style:{position:"fixed",bottom:0,left:0,right:0,zIndex:9999,transform:`translateY(${l?"0px":"100px"})`,transition:"transform 0.3s ease-in-out",willChange:"transform"},children:(0,a.jsx)(s3,{category:k[1].toggle,basket:C,search:S[1].toggle})}),(0,a.jsx)(s8,{opened:S[0],close:S[1].close})]})};var ns=r(61263),nn=r(39701);let no=()=>(0,a.jsxs)(ns.a,{size:"sm",spacing:"lg",children:[(0,a.jsx)(ns.a.Item,{icon:(0,a.jsx)(sZ.k,{variant:"transparent",children:(0,a.jsx)(sb.IconUpload,{})}),children:"1 - در نوار پایین روی دکمه Share بزنید."}),(0,a.jsx)(ns.a.Item,{icon:(0,a.jsx)(sZ.k,{variant:"transparent",children:(0,a.jsx)(sb.IconSquarePlus,{})}),children:"2 - در منوی باز شده، در قسمت پایین ، گزینه Add to Home Screen را انتخاب کنید."}),(0,a.jsx)(ns.a.Item,{icon:(0,a.jsx)(sZ.k,{variant:"transparent",children:(0,a.jsx)(sb.IconCheck,{})}),children:"3 - مرحله بعد در قسمت بالا روی Add بزنید."})]}),nd=()=>(0,a.jsxs)(ns.a,{size:"sm",spacing:"lg",children:[(0,a.jsx)(ns.a.Item,{icon:(0,a.jsx)(sZ.k,{variant:"transparent",children:(0,a.jsx)(sb.IconDotsVertical,{})}),children:"1 - در نوار پایین روی دکمه Menu بزنید."}),(0,a.jsx)(ns.a.Item,{icon:(0,a.jsx)(sZ.k,{variant:"transparent",children:(0,a.jsx)(sb.IconDeviceMobileDown,{})}),children:"2 - در منوی باز شده، در قسمت پایین ، گزینه Install App را انتخاب کنید."}),(0,a.jsx)(ns.a.Item,{icon:(0,a.jsx)(sZ.k,{variant:"transparent",children:(0,a.jsx)(sb.IconCheck,{})}),children:"3 - مرحله بعد در قسمت بالا روی Install بزنید."})]}),nc=function(){let[e,{open:t,close:r}]=(0,s$.q)(!1),i=(0,m.v9)(e=>e.global.bootstrap),l=(0,nn.i)(),s=(0,sq.a)("(max-width: 991px)");(0,p.useEffect)(()=>{null===localStorage.getItem("installPWA")&&setTimeout(()=>{t()},1e4)},[t]);let n=window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone,o=()=>{r(),localStorage.setItem("installPWA","true")};return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(sU.d,{opened:e&&s&&!n,onClose:o,position:"bottom",size:"90%",styles:{body:{padding:"20px"},inner:{right:0}},children:[(0,a.jsx)(si.M,{children:(0,a.jsxs)(l9.k,{justify:"center",align:"center",direction:"column",gap:"lg",children:[(0,a.jsx)(sl.E,{fit:"contain",w:130,h:130,src:i.logo}),(0,a.jsx)(se.x,{size:"sm",component:"span",ta:"center",children:"وب‌اپلیکیشن فروشگاه را به صفحه اصلی موبایل خود اضافه کنید."})]})}),(0,a.jsx)(sH.i,{my:"xl"}),"ios"===l&&(0,a.jsx)(no,{}),"android"===l&&(0,a.jsx)(nd,{}),(0,a.jsx)(z.z,{fullWidth:!0,mt:"xl",onClick:o,children:"متوجه شدم"})]})})},nu=r.p+"static/image/404-error-not-found.94eef47d.png";var nm=r(77885),ng=r(65122);let np=p.memo(function(e){var t;let{id:r,category:i,...l}=e,s=(0,g.s0)(),n=(0,m.I0)(),o=(null==(t=(0,m.v9)(e=>e.compare.items).find(e=>e.category===i))?void 0:t.items)||[],d=o.includes(r);return(0,a.jsx)(sa.x,{pos:"relative",onMouseEnter:e=>e.currentTarget.querySelector(".navigate-icon").style.opacity="1",onMouseLeave:e=>e.currentTarget.querySelector(".navigate-icon").style.opacity="0",children:(0,a.jsx)(ng.u,{label:d?"حذف از مقایسه":"افزودن به مقایسه",position:"right",zIndex:9999,children:(0,a.jsx)(sB.A,{size:"md",variant:"transparent",onClick:()=>{if(o.includes(r))n(iR({category:i,id:r})),h.N9.show({color:"red",message:"محصول از مقایسه حذف شد",position:"bottom-left"});else{if(o.length>=4)return void h.N9.show({color:"yellow",message:"حداکثر ۴ محصول را می‌توانید مقایسه کنید",position:"bottom-left"});n(iO({category:i,id:r})),h.N9.show({message:"محصول به مقایسه اضافه شد",position:"bottom-left"}),s(`/compare/${i}`)}},color:d?"red":"",...l,children:(0,a.jsx)(sb.IconSwitch3,{})})})})},(e,t)=>(0,m.wU)(e,t));var nh=r(11140);let nx=function(e){let{close:t,opened:r,link:i,children:l}=e,s=(0,nh.V)({timeout:2e3});return(0,a.jsx)(sp.u,{centered:!0,title:"اشتراک گذاری",onClose:t,opened:r,children:(0,a.jsxs)(sw.K,{children:[(0,a.jsx)(se.x,{size:"sm",children:l}),(0,a.jsxs)(z.z,{size:"sm",variant:"light",fullWidth:!0,mt:"md",color:s.copied?"":"dark",onClick:()=>s.copy(i),children:[s.copied?(0,a.jsx)(sb.IconCheck,{style:{marginLeft:"10px"}}):(0,a.jsx)(sb.IconCopy,{style:{marginLeft:"10px"}}),s.copied?"کپی شد":"کپی کردن لینک"]})]})})};var nb=r(85182),nf=r(68289),ny=r.n(nf);function nj(e){let{label:t,payload:r}=e;return r?(0,a.jsxs)(N.X,{px:"md",py:"sm",withBorder:!0,shadow:"md",radius:"md",children:[(0,a.jsx)(se.x,{fw:500,mb:5,children:t}),r.map(e=>(0,a.jsxs)(se.x,{dir:"ltr",fz:"sm",c:e.color,children:[e.name,": "," ",(0,a.jsxs)("span",{style:{marginRight:"5px"},children:[(0,a.jsx)(s7.e,{value:e.value,thousandSeparator:!0})," تومان"]})]},e.name))]}):null}let nv=function(e){let{opened:t,close:r,title:i,priceHistory:l}=e,s=(null==l?void 0:l.map(e=>({date:ny()(e.date,"YYYY-MM-DD").format("jYYYY/jMM/jDD"),"کمترین قیمت":e.minPrice,"بیشترین قیمت":e.maxPrice})))||[];return(0,a.jsx)(sp.u,{opened:t,size:"80%",title:`\u{646}\u{645}\u{648}\u{62F}\u{627}\u{631} \u{642}\u{6CC}\u{645}\u{62A} ${i}`,onClose:r,children:l&&0!==l.length?(0,a.jsx)(nb.w,{h:300,data:s,dataKey:"date",tooltipProps:{content:e=>{let{label:t,payload:r}=e;return(0,a.jsx)(nj,{label:t,payload:r})}},curveType:"linear",series:[{name:"کمترین قیمت",color:"green.6"},{name:"بیشترین قیمت",color:"red.6"}]}):(0,a.jsx)(si.M,{h:300,children:(0,a.jsxs)(l9.k,{direction:"column",align:"center",gap:"md",children:[(0,a.jsx)(sb.IconChartLine,{size:48,color:"gray"}),(0,a.jsx)(se.x,{size:"lg",c:"gray",ta:"center",children:"اطلاعاتی در این بخش برای محصول وجود ندارد"})]})})})},nC=e=>{let{showR:t,delay:r=1e3}=e,[i,l]=(0,p.useState)(t);return((0,p.useEffect)(()=>{let e=setTimeout(()=>{l(!0)},r);return()=>clearTimeout(e)},[r]),i)?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(st.a,{fixed:!0,zIndex:9998,color:"#000",backgroundOpacity:.5}),(0,a.jsx)(l9.k,{pos:"fixed",top:0,left:0,w:"100%",h:"100%",align:"center",justify:"center",style:{zIndex:0x38d7ea4c67fff},children:(0,a.jsx)(N.X,{p:"xl",radius:"md",withBorder:!0,style:{width:"auto",height:"auto",maxWidth:"500px"},children:(0,a.jsxs)(l9.k,{direction:"column",align:"center",justify:"center",children:[(0,a.jsx)("div",{className:"w-[400px] flex items-center justify-center",children:(0,a.jsx)(A.a,{size:"xl"})}),(0,a.jsx)(se.x,{mt:"md",children:"منتظر باشید ..."})]})})})]}):null};var nw=r(88596);let nk=function(e){var t;let{favorite:r,data:i}=e,s=(0,m.I0)(),n=(0,g.s0)(),o=(0,s$.q)(!1),d=(0,s$.q)(!1),[c,u]=(0,s$.q)(!1),[x,b]=(0,p.useState)(!1),{isVerified:f,loading:y,error:j,user:v}=(0,m.v9)(e=>e.auth),{isFavorite:C,addToFavoritesCache:w,removeFromFavoritesCache:k}=(()=>{let[e,t,r]=(0,l.fP)(["userFavorites"]),a=()=>{try{if(!e.userFavorites)return[];let t="string"==typeof e.userFavorites?JSON.parse(e.userFavorites):e.userFavorites;return Array.isArray(t)?t:[]}catch(e){return console.error("Error parsing favorites from cookies:",e),[]}},i=e=>{try{let r=new Date;r.setDate(r.getDate()+7);let a=Array.isArray(e)?e:[];t("userFavorites",JSON.stringify(a),{expires:r,path:"/",secure:!0,sameSite:"lax"})}catch(e){}};return{favorites:a(),isFavorite:e=>a().some(t=>String(t.id)===String(e)),updateFavoritesCache:i,addToFavoritesCache:e=>{try{let t=a();if(!t.some(t=>String(t.id)===String(e))){let r=[...t,{id:String(e)}];return i(r),r}return t}catch(e){return a()}},removeFromFavoritesCache:e=>{try{let t=a().filter(t=>String(t.id)!==String(e));return i(t),t}catch(e){return a()}},rollbackFavoriteAdd:e=>{try{let t=a().filter(t=>String(t.id)!==String(e));i(t)}catch(e){}},rollbackFavoriteRemove:e=>{try{let t=a();if(!t.some(t=>String(t.id)===String(e))){let r=[...t,{id:String(e)}];i(r)}}catch(e){}},clearFavoritesCache:()=>{try{r("userFavorites",{path:"/"})}catch(e){}}}})(),{addToFavoritesData:S,loadingAddToFavorites:I,errorAddToFavorites:N}=(0,m.v9)(e=>e.addToFavorites),{removeFromFavoritesData:D,loadingRemoveFromFavorites:A,errorRemoveFromFavorites:F}=(0,m.v9)(e=>e.removeFromFavorites),M=C(i.id),T=(null==i||null==(t=i.general)?void 0:t.categoryName)&&""!==i.general.categoryName.trim();return((0,p.useEffect)(()=>{let e=N&&void 0!==N.status&&!isNaN(Number(N.status));!N||0===Object.keys(N).length||!e||[400,401,403,404,405,406,408,409,410,411,412,413,414,415,416,417,422,429].includes(Number(N.status))||h.N9.show({title:(null==N?void 0:N.message)||"خطایی رخ داده است",color:"red",autoClose:!0}),s(ax()),s(aj())},[S,N,s]),(0,p.useEffect)(()=>{(null==N?void 0:N.status)&&sv(null==N?void 0:N.status,b,n),s(ax()),s(aj())},[N,s,n]),(0,p.useEffect)(()=>{if(S&&"ok"===S.state&&h.N9.show({title:(null==S?void 0:S.message)||"به علاقه‌مندی‌ها اضافه شد",color:"green",autoClose:!0}),S&&(null==S?void 0:S.state)==="error"){var e;k(i.id),h.N9.show({title:(null==S||null==(e=S.errors)?void 0:e.addToFavorites)||"خطا در افزودن به علاقه‌مندی‌ها",color:"red",autoClose:!0})}s(ax()),s(aj())},[S,i.id,k,s]),(0,p.useEffect)(()=>{let e=F&&void 0!==F.status&&!isNaN(Number(F.status));!F||0===Object.keys(F).length||!e||[400,401,403,404,405,406,408,409,410,411,412,413,414,415,416,417,422,429].includes(Number(F.status))||h.N9.show({title:(null==F?void 0:F.message)||"خطایی رخ داده است",color:"red",autoClose:!0}),s(ax()),s(aj())},[F,D,s]),(0,p.useEffect)(()=>{(null==F?void 0:F.status)&&sv(null==F?void 0:F.status,b,n),s(ax()),s(aj())},[F,s,n]),(0,p.useEffect)(()=>{if(D&&"ok"===D.state&&h.N9.show({title:(null==D?void 0:D.message)||"از علاقه‌مندی‌ها حذف شد",color:"green",autoClose:!0}),D&&(null==D?void 0:D.state)==="error"){var e;w(i.id),h.N9.show({title:(null==D||null==(e=D.errors)?void 0:e.removeFromFavorites)||"خطا در حذف از علاقه‌مندی‌ها",color:"red",autoClose:!0})}s(ax()),s(aj())},[D,i.id,w,s]),(0,p.useEffect)(()=>{s(er())},[s]),I||A)?(0,a.jsx)(nC,{showR:!0}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(sy,{opened:x,onClose:()=>b(!1),message:(null==N?void 0:N.message)||(null==F?void 0:F.message)}),(0,a.jsx)(sp.u,{opened:c,onClose:u.close,title:"ورود به حساب کاربری",centered:!0,size:"sm",children:(0,a.jsxs)(sw.K,{spacing:"lg",children:[(0,a.jsx)(se.x,{align:"center",size:"md",children:"لطفا ابتدا وارد حساب کاربری خود شوید"}),(0,a.jsx)(z.z,{fullWidth:!0,onClick:()=>{u.close(),n("/login")},color:"blue",children:"ورود به حساب کاربری"}),(0,a.jsx)(z.z,{fullWidth:!0,variant:"outline",onClick:u.close,children:"انصراف"})]})}),(0,a.jsxs)(l9.k,{direction:{base:"row",lg:"column"},justify:{base:"space-between",lg:"normal"},gap:"lg",children:[M?(0,a.jsx)(ng.u,{label:"حذف از علاقه‌مندی",position:"right",children:(0,a.jsx)(sB.A,{size:"md",variant:"transparent",color:"red",onClick:()=>(()=>{if(!v)return void u.open();k(i.id),s(af(i.id)),s(aj()),s(ax())})(),loading:A,children:(0,a.jsx)(sb.IconHeart,{})})}):(0,a.jsx)(ng.u,{label:"افزودن به علاقه‌مندی",position:"right",children:(0,a.jsx)(sB.A,{size:"md",variant:"transparent",onClick:()=>(()=>{if(!v)return void u.open();w(i.id),s(ap(i.id)),s(ax()),s(aj())})(),loading:I,children:(0,a.jsx)(sb.IconHeartOff,{})})}),T&&(0,a.jsx)(ng.u,{label:"مقایسه",position:"right",zIndex:9999,children:(0,a.jsx)(sB.A,{size:"md",variant:"transparent",onClick:()=>{n(`/compare/${i.general.categoryName}`)},color:"green",children:(0,a.jsx)(nw.QA0,{size:25})})}),T&&(0,a.jsx)(np,{id:i.id,category:i.general.categoryName,variant:"transparent"}),(0,a.jsx)(ng.u,{label:"اشتراک گذاری",position:"right",children:(0,a.jsx)(sB.A,{size:"md",variant:"transparent",onClick:o[1].toggle,children:(0,a.jsx)(sb.IconShare,{})})}),(0,a.jsx)(ng.u,{label:"نمودار قیمت",position:"right",children:(0,a.jsx)(sB.A,{size:"md",variant:"transparent",onClick:d[1].open,children:(0,a.jsx)(sb.IconTimeline,{})})})]}),(0,a.jsx)(nv,{title:i.general.title,opened:d[0],close:d[1].close,priceHistory:i.general.priceHistory}),(0,a.jsxs)(nx,{link:`${window.location.origin}/product/${i.id}`,opened:o[0],close:o[1].close,children:["این کالا را با دوستان خود به اشتراک بگذارید!"," "]})]})};var nS=r(16889);let nI=async e=>{let t=localStorage.getItem("user");try{let r=await fetch(et("/cart/update"),{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify(e)}),a=await r.json();if(!r.ok)throw Error(a.message||"Failed to update cart");let i=await fetch(et("/cart"),{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(!i.ok)throw Error("Failed to fetch cart data");let l=await i.json();return{message:"ok",cart:l.cart||[],total:l.cart?l.cart.reduce((e,t)=>e+t.price.discountedPrice*t.count,0):0}}catch(e){throw console.error("Update cart error:",e),e}},nz=async e=>{let t=localStorage.getItem("user");try{let r=await fetch(et("/cart/remove"),{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify(e)}),a=await r.json();if(!r.ok)throw Error(a.message||"Failed to remove from cart");let i=await fetch(et("/cart"),{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(!i.ok)throw Error("Failed to fetch cart data");let l=await i.json();return{message:"ok",cart:l.cart||[],total:l.cart?l.cart.reduce((e,t)=>e+t.price.discountedPrice*t.count,0):0}}catch(e){throw console.error("Remove from cart error:",e),e}},nN=async()=>{let e=localStorage.getItem("user");try{let t=await fetch(et("/cart"),{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!t.ok)throw localStorage.removeItem("user"),Error("Failed to fetch cart data");let r=await t.json();return{message:"ok",cart:r.cart||[],totalPrice:r.total||0}}catch(e){return console.error("Get cart error:",e),{message:"error",cart:[],totalPrice:0}}},nD=e=>{let{productId:t,seller:r,onChange:i,options:s,productName:n,productImages:o,item:d}=e,[c]=(0,l.fP)(["user"]),u=(0,m.I0)(),[g,h]=(0,p.useState)(void 0),[x,b]=(0,p.useState)(void 0),[f,y]=(0,p.useState)(void 0),[j,v]=(0,p.useState)(void 0),[C,w]=(0,p.useState)(void 0),[k,S]=(0,p.useState)(!0),[I,N]=(0,p.useState)(void 0),[D,A]=(0,p.useState)({cart:[],totalPrice:0}),[F,M]=(0,p.useState)(!0),[T,P]=(0,p.useState)(!1),{combinations:E=[]}=og()||{},{isVerified:_,loading:L,error:B,user:O}=(0,m.v9)(e=>e.auth),[R,W]=(0,p.useState)(!1),Z=(0,m.v9)(e=>{var t;return(null==(t=e.cart)?void 0:t.items)||[]}),U=async()=>{M(!0);try{let e=await nN();A(e),e.cart&&e.cart.length>0&&u(J([...e.cart]))}catch(e){console.error("Failed to load cart data:",e)}finally{M(!1)}};(0,p.useEffect)(()=>{U()},[]),null==s||s.reduce((e,t)=>("رنگ"===t.attribute_name&&(e.color=t.value),"جنس"===t.attribute_name&&(e.material=t.value),e),{color:"",material:""});let $=((e,t,r,a)=>{if(!e||!Array.isArray(e)||!t||!r||!a)return 0;let i=e.find(e=>e.productId===t&&e.seller.id===r&&e.combinationsID===a.id);return i?i.count:0})(Z,t,r,g),q=async e=>{if(!O||!_)return void W(!0);if(k){P(!0);try{let a=await nI({productId:t,seller:{id:r,label:C},count:Number(e),combinationsID:null==g?void 0:g.id});if(a.cart)u(J([...a.cart])),A(a);else throw Error("Failed to fetch cart data")}catch(e){console.error("Failed to update cart:",e)}finally{P(!1)}}},K=async e=>{if(!O||!_)return void W(!0);if(k){P(!0);try{let e=await nz({productId:t,seller:{id:r,label:C},combinationsID:null==g?void 0:g.id});if(e.cart)u(J([...e.cart])),A(e);else throw Error("Failed to fetch cart data")}catch(e){console.error("Failed to remove from cart:",e)}finally{P(!1)}}};return(0,p.useEffect)(()=>E&&0!==E.length?s&&0!==s.length?void h(Array.isArray(s)&&Array.isArray(E)&&0!==s.length&&E.find(e=>{let t=e.options;return s.length===t.length&&s.every(e=>t.some(t=>t.id===e.id&&t.value===e.value))})||null):void h(E[0]||null):void h(null),[s,E,t]),(0,p.useEffect)(()=>{if(!g||!r){S(!1),b(null),y(null),v(0),w(null),N(null);return}let e=((e,t)=>{if(!e||!e.suppliers||!t)return!1;let r=String(t),a=Number(t);return void 0!==e.suppliers.find(e=>e.id===t||e.id===r||e.id===a||String(e.id)===r||Number(e.id)===a)})(g,r);if(S(e),e){var t;let e=((e,t)=>{if(!e||!Array.isArray(e.suppliers))return null;let r=String(t),a=Number(t),i=e.suppliers.find(e=>e.id===t||e.id===r||e.id===a||String(e.id)===r||Number(e.id)===a);return i&&void 0!==i.maxOrder&&null!==i.maxOrder?i.maxOrder:null})(g,r),a=((e,t)=>{if(!e||!e.suppliers)return null;let r=String(t),a=Number(t),i=e.suppliers.find(e=>e.id===t||e.id===r||e.id===a||String(e.id)===r||Number(e.id)===a);return i&&void 0!==i.minOrder?i.minOrder:null})(g,r),i=((e,t)=>{if(!e||!e.suppliers)return 0;let r=String(t),a=Number(t),i=e.suppliers.find(e=>e.id===t||e.id===r||e.id===a||String(e.id)===r||Number(e.id)===a);return i&&null!==i.stock&&void 0!==i.stock?i.stock:0})(g,r),l=((e,t)=>{if(!e||!e.suppliers)return null;let r=String(t),a=Number(t),i=e.suppliers.find(e=>e.id===t||e.id===r||e.id===a||String(e.id)===r||Number(e.id)===a);return i?i.name:null})(g,r),s=String(r),n=Number(r),o=null==(t=g.suppliers)?void 0:t.find(e=>e.id===r||e.id===s||e.id===n||String(e.id)===s||Number(e.id)===n);b(e),y(a||1),v(i),w(l),N(o?o.price:null)}else b(null),y(null),v(0),w(null),N(null)},[g,r]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(sp.u,{opened:R,onClose:()=>W(!1),title:"ورود به حساب کاربری",centered:!0,children:(0,a.jsx)(se.x,{children:"لطفا وارد حساب کاربری شوید"})}),(0,a.jsx)(nS.f,{pos:"fixed",visible:T||F,zIndex:1e3,h:"100%",w:"100%",top:0,left:0}),n&&o&&r&&""!==r&&null!=r?s&&s.length>0&&!g?(0,a.jsx)(si.M,{children:(0,a.jsx)(se.x,{size:"sm",c:"orange",children:"ترکیب انتخابی موجود نیست"})}):g&&!k?(0,a.jsx)(si.M,{children:(0,a.jsx)(se.x,{size:"sm",c:"orange",children:"این تامین کننده برای ترکیب انتخابی موجود نیست"})}):(0,a.jsx)(a.Fragment,{children:$>0?(0,a.jsxs)(l9.k,{align:"center",gap:"4",children:[(0,a.jsx)(z.z,{p:0,px:4,h:15,variant:"transparent",size:"10px",onClick:()=>{null!=x&&void 0!==j?q(Math.min(x,j)):console.error("maxOrder or stock is missing",{maxOrder:x,stock:j})},children:"حداکثر"}),(0,a.jsx)(sB.A,{size:"md",radius:"999999",variant:"light",color:"green",onClick:()=>{if(!O||!_)return void W(!0);k&&$<Math.min(x||j,j)&&q(`${+$+1}`)},children:(0,a.jsx)(sb.IconPlus,{size:15})}),(0,a.jsx)(sK.I,{type:"number",w:35,styles:{input:{textAlign:"center"}},variant:"unstyled",value:$,readOnly:!0,px:0}),(0,a.jsx)(sB.A,{size:"md",radius:"999999",variant:"light",color:"red",onClick:()=>{if(!O||!_)return void W(!0);k&&($>f?q($-1):K(0))},children:(0,a.jsx)(sb.IconMinus,{size:15})})]}):(0,a.jsx)(z.z,{fullWidth:!0,leftSection:(0,a.jsx)(sb.IconBasket,{}),h:45,onClick:()=>{if(!O||!_)return void W(!0);k&&q(f)}})}):null]})},nA=e=>{let{children:t,others:r,fontSize:i}=e;return(0,a.jsxs)(l9.k,{align:"center",justify:"end",children:[(0,a.jsx)(s7.e,{className:"price_text",style:{fontWeight:"normal",fontSize:i||"14px"},value:+t,thousandSeparator:!0,...r}),(0,a.jsxs)("svg",{style:{width:"14px",height:"14px"},children:[(0,a.jsx)("symbol",{id:"toman",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 14 14",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M3.057 1.742L3.821 1l.78.75-.776.741-.768-.749zm3.23 2.48c0 .622-.16 1.111-.478 1.467-.201.221-.462.39-.783.505a3.251 3.251 0 01-1.083.163h-.555c-.421 0-.801-.074-1.139-.223a2.045 2.045 0 01-.9-.738A2.238 2.238 0 011 4.148c0-.059.001-.117.004-.176.03-.55.204-1.158.525-1.827l1.095.484c-.257.532-.397 1-.419 1.403-.002.04-.004.08-.004.12 0 .252.055.458.166.618a.887.887 0 00.5.354c.085.028.178.048.278.06.079.01.16.014.243.014h.555c.458 0 .769-.081.933-.244.14-.139.21-.383.21-.731V2.02h1.2v2.202zm5.433 3.184l-.72-.7.709-.706.735.707-.724.7zm-2.856.308c.542 0 .973.19 1.293.569.297.346.445.777.445 1.293v.364h.18v-.004h.41c.221 0 .377-.028.467-.084.093-.055.14-.14.14-.258v-.069c.004-.243.017-1.044 0-1.115L13 8.05v1.574a1.4 1.4 0 01-.287.863c-.306.405-.804.607-1.495.607h-.627c-.061.733-.434 1.257-1.117 1.573-.267.122-.58.21-.937.265a5.845 5.845 0 01-.914.067v-1.159c.612 0 1.072-.082 1.38-.247.25-.132.376-.298.376-.499h-.515c-.436 0-.807-.113-1.113-.339-.367-.273-.55-.667-.55-1.18 0-.488.122-.901.367-1.24.296-.415.728-.622 1.296-.622zm.533 2.226v-.364c0-.217-.048-.389-.143-.516a.464.464 0 00-.39-.187.478.478 0 00-.396.187.705.705 0 00-.136.449.65.65 0 00.003.067c.008.125.066.22.177.283.093.054.21.08.352.08h.533zM9.5 6.707l.72.7.724-.7L10.209 6l-.709.707zm-6.694 4.888h.03c.433-.01.745-.106.937-.29.024.012.065.035.12.068l.074.039.081.042c.135.073.261.133.379.18.345.146.67.22.977.22a1.216 1.216 0 00.87-.34c.3-.285.449-.714.449-1.286a2.19 2.19 0 00-.335-1.145c-.299-.457-.732-.685-1.3-.685-.502 0-.916.192-1.242.575-.113.132-.21.284-.294.456-.032.062-.06.125-.084.191a.504.504 0 00-.03.078 1.67 1.67 0 00-.022.06c-.103.309-.171.485-.205.53-.072.09-.214.14-.427.147-.123-.005-.209-.03-.256-.076-.057-.054-.085-.153-.085-.297V7l-1.201-.5v3.562c0 .261.048.496.143.703.071.158.168.296.29.413.123.118.266.211.43.28.198.084.42.13.665.136v.001h.036zm2.752-1.014a.778.778 0 00.044-.353.868.868 0 00-.165-.47c-.1-.134-.217-.201-.35-.201-.18 0-.33.103-.447.31-.042.071-.08.158-.114.262a2.434 2.434 0 00-.04.12l-.015.053-.015.046c.142.118.323.216.544.293.18.062.325.092.433.092.044 0 .086-.05.125-.152z",clipRule:"evenodd"})}),(0,a.jsx)("use",{href:"#toman"})]})]})};var nF=r(1401),nM=r.n(nF);let nT=e=>{let{shamsiDate:t}=e,{colors:r}=(0,sE.rZ)(),[i,l]=(0,p.useState)({days:0,hours:0,minutes:0,seconds:0});return(0,p.useEffect)(()=>{let e=new(nM())().toArray().slice(0,3),r=t.split("-").map(Number),a=()=>{let t=function(e,t){let r=new(nM())(e);return Math.floor((new(nM())(t).valueOf()-r.valueOf())/864e5)}(e,r),a=new Date;if(0===t){let e=new Date(a.getFullYear(),a.getMonth(),a.getDate(),23,59,59)-a;return{days:0,hours:Math.floor(e/36e5%24),minutes:Math.floor(e/6e4%60),seconds:Math.floor(e/1e3%60)}}let i=new Date(a.getFullYear(),a.getMonth(),a.getDate()+t,0,0,0)-a;return i<=0?{days:0,hours:0,minutes:0,seconds:0}:{days:t,hours:Math.floor(i/36e5%24),minutes:Math.floor(i/6e4%60),seconds:Math.floor(i/1e3%60)}};l(a());let i=setInterval(()=>l(a()),1e3);return()=>clearInterval(i)},[t]),(0,a.jsxs)(l9.k,{gap:"xs",align:"center",children:[(0,a.jsxs)(l9.k,{gap:4,dir:"ltr",children:[(0,a.jsx)(se.x,{fw:"bold",size:"sm",c:r.red[5],component:"span",children:String(i.days).padStart(2,"0")}),(0,a.jsx)(se.x,{fw:"bold",size:"sm",c:r.red[5],component:"span",children:":"}),(0,a.jsx)(se.x,{fw:"bold",size:"sm",c:r.red[5],component:"span",children:String(i.hours).padStart(2,"0")}),(0,a.jsx)(se.x,{fw:"bold",size:"sm",c:r.red[5],component:"span",children:":"}),(0,a.jsx)(se.x,{fw:"bold",size:"sm",c:r.red[5],component:"span",children:String(i.minutes).padStart(2,"0")}),(0,a.jsx)(se.x,{fw:"bold",size:"sm",c:r.red[5],component:"span",children:":"}),(0,a.jsx)(se.x,{fw:"bold",size:"sm",c:r.red[5],component:"span",children:String(i.seconds).padStart(2,"0")})]}),(0,a.jsx)(sb.IconClock12,{size:14,color:r.red[5]})]})},nP=function(){var e;let{supplier:t,product:r,options:i}=og(),l=(()=>{var e,a,i;if(null==r||null==(e=r.combinations)?void 0:e.length){let e=r.combinations[0],t=(null==(a=e.suppliers)?void 0:a.find(e=>e.selected))||(null==(i=e.suppliers)?void 0:i[0]);if(t)return t}return t&&t.selected?t:null})();if(!l)return(0,a.jsx)(a.Fragment,{});let{id:s,name:n,rating:o,payment_type:d,buy_type:c,price:u,stock:m,minOrder:p,maxOrder:h,special_offer:x}=l,b=(null==r?void 0:r.onChange)??(null==t?void 0:t.onChange)??(()=>{});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex gap-x-1 items-center text-zinc-600 text-sm pt-3 mb-4",children:[(0,a.jsx)(sb.IconCash,{size:20,stroke:1.3,className:"text-zinc-700"}),(0,a.jsx)("div",{children:"Cash"===d?"نقدی":"پیش فروش"})]}),(0,a.jsxs)("div",{className:"flex gap-x-1 items-center text-zinc-600 text-sm py-4",children:[(0,a.jsx)(sb.IconTruckDelivery,{size:20,stroke:1.3,className:"text-zinc-700"}),(0,a.jsxs)("div",{children:["فروش ","Wholesale"===c?"عمده":"تکی"]})]}),(0,a.jsxs)("div",{className:"flex flex-col justify-center py-4",children:[(0,a.jsxs)(l9.k,{align:"start",gap:"4px",children:[(0,a.jsx)(sb.IconBuildingStore,{size:20,stroke:1.3,className:"text-zinc-700"}),(0,a.jsxs)(l9.k,{direction:"column",children:[(0,a.jsx)(se.x,{size:"sm",className:"text-zinc-700",component:g.OL,to:`/seller/${s}`,children:n}),(0,a.jsxs)(se.x,{size:"xs",c:"gray",children:["رضایت :"," ",(0,a.jsx)(sx.C,{color:5===Math.round(+o)?"green":+o>=4?"lime":+o>=3?"yellow":+o>=2?"orange":"red",children:5===Math.round(+o)?"عالی":+o>=4?"خوب":+o>=3?"متوسط":+o>=2?"ضعیف":"خیلی ضعیف"})]})]})]}),(0,a.jsxs)(l9.k,{direction:"column",align:"end",children:[(0,a.jsx)(nA,{fontSize:"25px",children:null==u?void 0:u.discountedPrice}),(null==u?void 0:u.discountedPrice)&&(null==u?void 0:u.regularPrice)!==(null==u?void 0:u.discountedPrice)?(0,a.jsx)(sa.x,{component:"del",c:"gray",fz:"sm",children:(0,a.jsx)(s7.e,{value:u.regularPrice,thousandSeparator:!0,style:{fontSize:"18px"}})}):null]}),(0,a.jsx)("div",{className:"text-xs text-red-400",children:m>0?`\u{645}\u{648}\u{62C}\u{648}\u{62F}\u{6CC} \u{627}\u{646}\u{628}\u{627}\u{631} ${m} \u{639}\u{62F}\u{62F} \u{645}\u{6CC}\u{628}\u{627}\u{634}\u{62F}`:"ناموجود"})]}),(0,a.jsxs)(l9.k,{direction:"column",align:"start",gap:"xs",className:"py-4",children:[(0,a.jsxs)(l9.k,{gap:"sm",children:[(0,a.jsx)(se.x,{size:"13px",c:"gray",children:"حداقل سفارش"}),(0,a.jsxs)(se.x,{size:"13px",children:[p," عدد"]})]}),(0,a.jsxs)(l9.k,{gap:"sm",children:[(0,a.jsx)(se.x,{size:"13px",c:"gray",children:"حداکثر سفارش"}),(0,a.jsxs)(se.x,{size:"13px",children:[h," عدد"]})]})]}),(0,a.jsx)(nD,{onChange:b,min:p,max:h,fullWidth:!0,withButton:!0,productId:r.id,seller:s,options:i,productName:r.general.title,productImages:r.general.images,attributes:l,combinationsID:null==(e=r.combinations[0])?void 0:e.id}),(0,a.jsx)(sa.x,{mt:"sm",children:x?(0,a.jsxs)(l9.k,{align:"center",justify:"space-between",c:"red",children:[(0,a.jsx)(se.x,{fw:"bold",size:"sm",children:"فروش ویژه"}),(0,a.jsx)(nT,{shamsiDate:x})]}):null}),0===m&&(0,a.jsx)(se.x,{c:"red",size:"xs",children:"امکان ثبت سفارش وجود ندارد"})]})};var nE=r(96029),n_=r(95246);let nL=[{label:"رسیدن به قیمت خاص",value:"price_reach"},{label:"موجود شدن کالای فروشنده",value:"inventory_reach"},{label:"انتخاب نشده",value:"not_selected"}],nB={inventory_reach:"موجود شدن کالای فروشنده",price_reach:"رسیدن به قیمت خاص"},nO=[{label:"تمامی تامین کننده ها",value:"all"},{label:"انتخاب تامین کننده ها",value:"select"}],nR=()=>({alertType:"price_reach",price:1e5,inventory:1,supplierSelection:"all",selectedSuppliers:[],sms:!0,email:!1}),nW=function(e){var t;let{combinations:r,product:i,slug:l}=og()||{combinations:[]},s=(0,sq.a)(`(max-width: ${(0,S.em)(750)})`),[n,o]=(0,p.useState)(!1),[d,c]=(0,p.useState)(!1),[u,g]=(0,p.useState)(!1),[h,x]=(0,p.useState)(""),[b,f]=(0,p.useState)(!1),y=(0,m.v9)(e=>e.userAlertInfo),j=(0,m.v9)(e=>e.stockAlert),v=(0,m.I0)(),{user:C}=(0,m.v9)(e=>e.auth);(0,p.useEffect)(()=>{v(er())},[v]);let w=(0,p.useMemo)(()=>{if(!r||0===r.length)return[];let e=new Map;return r.forEach(t=>{t.suppliers.forEach(t=>{e.has(t.id)||e.set(t.id,t)})}),Array.from(e.values())},[r]),k=(0,sd.c)({initialValues:nR()}),I=nL.filter(e=>"not_selected"!==e.value),N=()=>({alertType:k.values.alertType||"price_reach",price:k.values.price||1e5,inventory:k.values.inventory||1,supplierSelection:k.values.supplierSelection||"all",selectedSuppliers:k.values.selectedSuppliers||[],sms:k.values.sms??!0,email:k.values.email??!1}),A=(e,t)=>{let r=nR();k.setValues({...r,sms:e,email:t})},M=async e=>{let{value:t}=e;if(!C)return void g(!0);if(!l)return;let r=N(),a=r.supplierSelection||"all",i={alertType:r.alertType,price:r.price,product_id:l,inventory:r.inventory,supplierSelection:"select"===a?"selected":a,selectedSuppliers:"all"===a?[]:r.selectedSuppliers,sms:r.sms,email:r.email};try{let e=await v(lD(i)).unwrap();if(e&&e.data){let t=e.data;v(eS({alertType:t.alertType,price:t.price,inventory:t.inventory,supplierSelection:t.supplierSelection,selectedSuppliers:t.selectedSuppliers,sms:t.sms,email:t.email,product_id:l})),x("تنظیمات با موفقیت ثبت شد"),c(!0)}}catch(e){console.error("Error saving alert:",e),console.error("Data sent:",i)}},T=async()=>{if(!C)return void g(!0);if(l)try{let e=await v(lA(l)).unwrap();e&&e.userStockAlert&&(v(eS({alertType:e.userStockAlert.alertType,price:e.userStockAlert.price,inventory:e.userStockAlert.inventory,supplierSelection:e.userStockAlert.supplierSelection,selectedSuppliers:e.userStockAlert.selectedSuppliers,sms:e.userStockAlert.sms,email:e.userStockAlert.email,product_id:l})),k.setValues(nR()),x("اطلاع رسانی با موفقیت حذف شد"),c(!0))}catch(e){console.error("Error removing alert:",e)}},P=async()=>{if(!C)return void g(!0);if(l)try{let e=await v(lN(l)).unwrap();if(e&&e.data){let t=e.data;v(eS({alertType:t.alertType,price:t.price,inventory:t.inventory,supplierSelection:t.supplierSelection,selectedSuppliers:t.selectedSuppliers,sms:t.sms,email:t.email,product_id:l}));let r={alertType:t.alertType||"price_reach",price:t.price||1e5,inventory:t.inventory||1,supplierSelection:t.supplierSelection||"all",selectedSuppliers:Array.isArray(t.selectedSuppliers)?t.selectedSuppliers:[],sms:t.sms??!0,email:t.email??!1};k.setValues(r),o(!0)}else o(!0)}catch(e){console.error("Error fetching previous settings:",e),o(!0)}},E=async()=>{if(l&&C&&!b)try{let e=await v(lN(l)).unwrap();if(e&&e.data){let t=e.data;v(eS({alertType:t.alertType,price:t.price,inventory:t.inventory,supplierSelection:t.supplierSelection,selectedSuppliers:t.selectedSuppliers,sms:t.sms,email:t.email,product_id:l}));let r={alertType:t.alertType||"price_reach",price:t.price||1e5,inventory:t.inventory||1,supplierSelection:t.supplierSelection||"all",selectedSuppliers:Array.isArray(t.selectedSuppliers)?t.selectedSuppliers:[],sms:t.sms??!0,email:t.email??!1};k.setValues(r)}else k.setValues(nR());f(!0)}catch(e){console.error("Error reading initial alert data:",e),k.setValues(nR()),f(!0)}};return((0,p.useEffect)(()=>{e.opened&&l&&C?E():e.opened&&!C&&(k.setValues(nR()),f(!0))},[e.opened,l,C]),(0,p.useEffect)(()=>{e.opened||(f(!1),k.setValues(nR()))},[e.opened]),l)?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(sp.u,{size:"md",fullScreen:s,title:"اطلاع رسانی قیمت و موجودی",onClose:e.close,opened:e.opened,styles:{body:{maxHeight:"65vh",overflowY:"auto"}},children:(0,a.jsxs)(sw.K,{spacing:"sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(D.D,{order:5,mb:"xs",children:"چطور به شما اطلاع دهیم؟"}),(0,a.jsxs)(sw.K,{spacing:"xs",children:[(0,a.jsx)(F.X,{size:"sm",label:`\u{67E}\u{6CC}\u{627}\u{645}\u{6A9} \u{628}\u{647} 09374039436`,checked:k.values.sms??!0,onChange:e=>{A(e.currentTarget.checked,k.values.email)},disabled:!C}),(0,a.jsx)(F.X,{size:"sm",label:`\u{627}\u{6CC}\u{645}\u{6CC}\u{644} \u{628}\u{647} coding.farhad@gmail.com`,checked:k.values.email??!1,onChange:e=>{let t=e.currentTarget.checked;A(k.values.sms,t)},disabled:!C})]})]}),(0,a.jsx)(sH.i,{size:"xs"}),(0,a.jsxs)("div",{children:[(0,a.jsx)(D.D,{order:5,mb:"xs",children:"نحوه گزارش"}),(0,a.jsx)(nE.P,{size:"sm",data:I,w:"200px",disabled:!C,...k.getInputProps("alertType")})]}),"price_reach"===k.values.alertType&&(0,a.jsx)(n_.Y,{size:"sm",label:"قیمت مد نظر (تومان)",value:k.values.price,onChange:e=>k.setFieldValue("price",e||1e5),thousandSeparator:!0,min:0,w:"200px",disabled:!C}),"inventory_reach"===k.values.alertType&&(0,a.jsx)(n_.Y,{size:"sm",label:"تعداد موجودی مد نظر",value:k.values.inventory,onChange:e=>k.setFieldValue("inventory",e||1),min:1,w:"200px",disabled:!C}),k.values.alertType&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(sH.i,{size:"xs"}),(0,a.jsxs)("div",{children:[(0,a.jsx)(D.D,{order:5,mb:"xs",children:"انتخاب تامین کننده"}),(0,a.jsx)(nE.P,{size:"sm",data:nO,value:k.values.supplierSelection||"all",onChange:e=>{let t=e&&("all"===e||"select"===e)?e:"all";N(),k.setFieldValue("supplierSelection",t),"all"===t?k.setFieldValue("selectedSuppliers",[]):k.setFieldValue("selectedSuppliers",w.map(e=>e.id))},w:"200px",mb:"xs",disabled:!C}),"select"===k.values.supplierSelection&&w.length>0&&(0,a.jsx)(sw.K,{spacing:"xs",children:w.map(e=>(0,a.jsx)(F.X,{size:"sm",label:(0,a.jsxs)(se.x,{size:"sm",children:[e.name," ",(0,a.jsxs)(se.x,{component:"span",size:"xs",c:"dimmed",children:["(ID: ",e.id,")"]})]}),checked:Array.isArray(k.values.selectedSuppliers)&&k.values.selectedSuppliers.includes(e.id),onChange:()=>(e=>{let t=N(),r=t.selectedSuppliers.includes(e)?t.selectedSuppliers.filter(t=>t!==e):[...t.selectedSuppliers,e];k.setFieldValue("selectedSuppliers",r)})(e.id),disabled:!C},e.id))})]})]}),(0,a.jsx)(sH.i,{}),(0,a.jsxs)(l9.k,{gap:"xs",wrap:"wrap",children:[(0,a.jsx)(z.z,{size:"sm",onClick:M,disabled:!C||!k.values.sms&&!k.values.email||!k.values.alertType||"not_selected"===k.values.alertType||""===k.values.alertType||"price_reach"===k.values.alertType&&(!k.values.price||""===k.values.price)||"inventory_reach"===k.values.alertType&&(!k.values.inventory||""===k.values.inventory),loading:j.setLoading,children:"ذخیره"}),(0,a.jsx)(z.z,{size:"sm",variant:"light",color:"red",onClick:T,loading:j.removeLoading,disabled:!C,children:"حذف"}),(0,a.jsx)(z.z,{size:"sm",variant:"outline",onClick:P,loading:j.getLoading,disabled:!C,children:"تنظیمات قبلی"})]}),!C&&(0,a.jsx)(se.x,{size:"sm",c:"orange",ta:"center",mt:"xs",children:"برای استفاده از اطلاع‌رسانی ابتدا وارد حساب کاربری خود شوید"})]})}),(0,a.jsx)(sp.u,{opened:n,onClose:()=>o(!1),title:"تنظیمات قبلی",centered:!0,size:"sm",children:(0,a.jsxs)(sw.K,{spacing:"xs",children:[(0,a.jsxs)(se.x,{size:"sm",children:[(0,a.jsx)("strong",{children:"نوع هشدار:"})," ",nB[y.alertType]||"مشخص نشده"]}),"price_reach"===y.alertType&&(0,a.jsxs)(se.x,{size:"sm",children:[(0,a.jsx)("strong",{children:"قیمت مد نظر:"})," ",null==(t=y.price)?void 0:t.toLocaleString()," تومان"]}),"inventory_reach"===y.alertType&&(0,a.jsxs)(se.x,{size:"sm",children:[(0,a.jsx)("strong",{children:"تعداد موجودی مد نظر:"})," ",y.inventory]}),(0,a.jsxs)(se.x,{size:"sm",children:[(0,a.jsx)("strong",{children:"روش اطلاع‌رسانی:"})," ",y.sms&&y.email?"پیامک و ایمیل":y.sms?"پیامک":y.email?"ایمیل":"انتخاب نشده"]}),(0,a.jsxs)(se.x,{size:"sm",children:[(0,a.jsx)("strong",{children:"تامین‌کننده‌ها:"})," ","all"===y.supplierSelection?"تمامی تامین‌کننده‌ها":Array.isArray(y.selectedSuppliers)&&y.selectedSuppliers.length>0?y.selectedSuppliers.join(", "):"هیچ تامین‌کننده‌ای انتخاب نشده"]}),(0,a.jsx)(z.z,{size:"sm",onClick:()=>o(!1),children:"بستن"})]})}),(0,a.jsx)(sp.u,{opened:u,onClose:()=>g(!1),title:"ورود به سایت",centered:!0,size:"xs",children:(0,a.jsxs)(sw.K,{align:"center",spacing:"sm",children:[(0,a.jsx)(se.x,{size:"xl",c:"blue",children:"\uD83D\uDD10"}),(0,a.jsx)(se.x,{size:"sm",ta:"center",fw:500,children:"ابتدا وارد سایت شوید"}),(0,a.jsx)(z.z,{size:"sm",onClick:()=>g(!1),variant:"filled",color:"blue",children:"تایید"})]})}),(0,a.jsx)(sp.u,{opened:d,onClose:()=>c(!1),title:"پیام موفقیت",centered:!0,size:"xs",children:(0,a.jsxs)(sw.K,{align:"center",spacing:"sm",children:[(0,a.jsx)(se.x,{size:"xl",c:"green",children:"✅"}),(0,a.jsx)(se.x,{size:"sm",ta:"center",c:"green",fw:500,children:h}),(0,a.jsx)(z.z,{size:"sm",onClick:()=>c(!1),variant:"filled",color:"green",children:"تایید"})]})})]}):null},nZ=function(){let[e,t]=(0,p.useState)(null),[r,i]=(0,p.useState)(!0),[l,s]=(0,p.useState)(!1);(0,m.v9)(e=>e.cart.items||[]);let n=(0,m.I0)(),o=(0,s$.q)(!1);return(0,p.useEffect)(()=>{(async()=>{i(!0);try{let e=localStorage.getItem("user"),r=await fetch(et("/cart"),{method:"GET",headers:new Headers({Authorization:`Bearer ${e}`,"Content-Type":"application/json"})});if(!r.ok)throw localStorage.removeItem("user"),Error("Failed to fetch cart data");let a=await r.json(),i={cart:a.cart||[],totalPrice:a.total||0};t(i),n(J([...i.cart]))}catch(e){console.error("Error fetching cart:",e),t({cart:[],totalPrice:0}),n(J([]))}finally{i(!1)}})()},[n]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"lg:mt-8 lg:mb-8"}),(0,a.jsx)("div",{className:"p-3 border rounded-xl mx-auto divide-y lg:block",children:(0,a.jsx)(nP,{})}),(0,a.jsx)(N.X,{shadow:"0",withBorder:!0,p:"xs",mt:"lg",children:(0,a.jsxs)(z.z,{fz:"13px",px:"0",rightSection:(0,a.jsx)(sb.IconArrowLeft,{stroke:1.4}),justify:"space-between",fullWidth:!0,variant:"transparent",h:"30",onClick:()=>{s(!0),o[1].open()},children:[(0,a.jsx)(sb.IconBell,{stroke:1.4,style:{marginLeft:"5px"}}),(0,a.jsx)("span",{children:"اطلاع رسانی قیمت و موجودی"})]})}),l&&(0,a.jsx)(nW,{opened:o[0],close:o[1].close})]})};var nU=r(22211);r(12847);var n$=r(86556);let nq=function(e){let{children:t,...r}=e,{primaryColor:i}=(0,sE.rZ)();return(0,a.jsxs)(sa.x,{...r,children:[(0,a.jsx)(D.D,{children:t}),(0,a.jsx)(sH.i,{mt:"xs",size:"md",w:"80",color:i})]})};var nK=r(88457),nV=r(6274);let nH=function(e){let{mini:t=!1,discountedPrice:r,regularPrice:i,discountPercent:l}=e;return(0,a.jsx)(l9.k,{direction:"column",align:"end",gap:t?15:5,children:r?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(l9.k,{gap:5,children:[(0,a.jsx)(se.x,{size:"xs",td:"line-through",c:"gray.6",children:(0,a.jsx)(s7.e,{thousandSeparator:!0,value:i})}),!t&&(0,a.jsxs)(sx.C,{display:"flex",style:{flexDirection:"row"},styles:{label:{display:"flex"},root:{paddingInline:5,borderBottomLeftRadius:0}},children:[l,(0,a.jsx)(sb.IconPercentage,{size:16,style:{marginRight:5}})]})]}),(0,a.jsx)(nA,{children:r})]}):(0,a.jsx)(nA,{children:i})})},nG=function(e){let{id:t,favoriteAdded:r,skeleton:i,title:l,slug:s,image:n,regularPrice:o,discountedPrice:d,discountPercent:c,refetchParent:u}=e,{colors:m}=(0,sE.rZ)(),{ref:h,width:x}=(0,nV.h)(),[b,f]=(0,p.useState)(!1),y=()=>{f(!0)};return(0,p.useEffect)(()=>{f(!1)},[n]),(0,a.jsx)(N.X,{ref:h,shadow:"sm",px:"25",pb:"lg",pt:"40",pos:"relative",display:"flex",style:{flexDirection:"column"},h:"100%",children:i?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(l9.k,{justify:"space-between",align:"center",mb:"lg",children:[(0,a.jsx)(nK.O,{h:40,w:40,circle:!0}),(0,a.jsx)(nK.O,{h:40,w:40,circle:!0})]}),(0,a.jsx)(nK.O,{w:"100%",h:"150px",radius:"md"}),(0,a.jsx)(nK.O,{h:"20",my:"lg"}),(0,a.jsxs)(l9.k,{justify:"space-between",align:"end",children:[(0,a.jsx)(nK.O,{w:"100",h:50,radius:"md"}),(0,a.jsxs)(l9.k,{direction:"column",align:"end",gap:6,children:[(0,a.jsxs)(l9.k,{gap:5,children:[(0,a.jsx)(nK.O,{w:40,h:20,radius:"sm"}),(0,a.jsx)(nK.O,{w:40,h:20,radius:"sm"})]}),(0,a.jsx)(nK.O,{h:20,w:60,radius:"sm"})]})]})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(sa.x,{component:t?g.OL:"div",to:t?`/product/${t}`:void 0,children:(()=>{if(!(n&&null!==n&&""!==n&&""!==n.trim()&&!b)){let e=["linear-gradient(135deg, #4CAF50 0%, #2E7D32 100%)","linear-gradient(135deg, #66BB6A 0%, #388E3C 100%)","linear-gradient(135deg, #43A047 0%, #1B5E20 100%)","linear-gradient(135deg, #81C784 0%, #4CAF50 100%)","linear-gradient(135deg, #A5D6A7 0%, #66BB6A 100%)","linear-gradient(135deg, #2E7D32 0%, #1B5E20 100%)","linear-gradient(135deg, #4CAF50 0%, #43A047 100%)","linear-gradient(135deg, #8BC34A 0%, #689F38 100%)"],r=e[Math.abs((l||t||"").toString().split("").reduce((e,t)=>(e=(e<<5)-e+t.charCodeAt(0))&e,0))%e.length];return(0,a.jsxs)(sa.x,{w:"100%",h:"150px",style:{background:r,borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",gap:"8px",position:"relative",overflow:"hidden",cursor:"pointer",transition:"transform 0.3s ease"},className:"hover:scale-105",children:[(0,a.jsx)(sa.x,{style:{position:"absolute",top:0,left:0,right:0,bottom:0,background:"url(\"data:image/svg+xml,%3Csvg width='40' height='40' viewBox='0 0 40 40' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='%23ffffff' fill-opacity='0.1'%3E%3Cpath d='M20 20c0-5.5-4.5-10-10-10s-10 4.5-10 10 4.5 10 10 10 10-4.5 10-10zm10 0c0-5.5-4.5-10-10-10s-10 4.5-10 10 4.5 10 10 10 10-4.5 10-10z'/%3E%3C/g%3E%3C/svg%3E\")",opacity:.3}}),(0,a.jsx)(sb.IconPackage,{size:48,color:"rgba(255, 255, 255, 0.8)",style:{zIndex:2}})]})}return(0,a.jsx)(sl.E,{className:"hover:scale-105 transition-transform duration-300",w:"100%",h:"150px",fit:"contain",src:n,alt:l||"محصول",onError:y,fallbackSrc:"",style:{borderRadius:"8px",backgroundColor:"#f8f9fa"}})})()}),(0,a.jsx)(sa.x,{my:"lg",children:(0,a.jsx)(se.x,{fw:"600",size:"sm",component:t?g.OL:"div",to:t?`/product/${t}`:void 0,style:{display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:2,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"normal",color:s?"inherit":"var(--mantine-color-dimmed)",textDecoration:"none",cursor:s?"pointer":"default"},children:l||"عنوان محصول"})}),(0,a.jsxs)(l9.k,{justify:"space-between",align:"end",mt:"auto",children:[t?(0,a.jsx)(z.z,{component:g.OL,to:`/product/${t}`,children:x<240?(0,a.jsx)(sb.IconEye,{size:14}):"مشاهده"}):(0,a.jsx)(z.z,{disabled:!0,variant:"light",color:"gray",children:x<240?(0,a.jsx)(sb.IconEye,{size:20}):"غیر قابل مشاهده"}),(0,a.jsx)(nH,{regularPrice:o,discountPercent:c,discountedPrice:d})]})]})})},nX=function(e){let{title:t,items:r=[],style:i}=e,l=(0,p.useRef)(null);if(!r||0===r.length)return(0,a.jsxs)(sa.x,{children:[(0,a.jsx)(sh.Z,{justify:"space-between",mb:"md",children:(0,a.jsx)(nq,{children:t||"محصولات"})}),(0,a.jsxs)(sa.x,{p:"xl",style:{background:"linear-gradient(135deg, #A5D6A7 0%, #81C784 100%)",borderRadius:"var(--mantine-radius-lg)",border:"1px solid rgba(255, 255, 255, 0.2)",position:"relative",overflow:"hidden",minHeight:"200px"},children:[(0,a.jsx)(sa.x,{style:{position:"absolute",top:0,left:0,right:0,bottom:0,background:"url(\"data:image/svg+xml,%3Csvg width='30' height='30' viewBox='0 0 30 30' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='%23ffffff' fill-opacity='0.08'%3E%3Ccircle cx='5' cy='5' r='2'/%3E%3Ccircle cx='15' cy='15' r='2'/%3E%3Ccircle cx='25' cy='25' r='2'/%3E%3C/g%3E%3C/svg%3E\")",opacity:.6}}),(0,a.jsxs)(si.M,{h:"100%",style:{flexDirection:"column",gap:"var(--mantine-spacing-md)"},children:[(0,a.jsx)(sb.IconPackage,{size:48,color:"rgba(255, 255, 255, 0.8)",style:{zIndex:2}}),(0,a.jsxs)(sa.x,{ta:"center",style:{zIndex:2},children:[(0,a.jsx)(se.x,{c:"white",fw:600,size:"lg",mb:"xs",style:{textShadow:"0 1px 3px rgba(0,0,0,0.3)"},children:"هیچ محصولی یافت نشد"}),(0,a.jsx)(se.x,{c:"rgba(255, 255, 255, 0.9)",fw:400,size:"sm",style:{textShadow:"0 1px 2px rgba(0,0,0,0.2)"},children:"در حال حاضر محصولی در این بخش موجود نیست"})]})]})]})]});let s=r.length>1;return(0,a.jsxs)(sa.x,{children:[(0,a.jsxs)(sh.Z,{justify:"space-between",mb:"md",children:[(0,a.jsx)(nq,{children:t||"محصولات"}),s&&(0,a.jsxs)(sh.Z,{children:[(0,a.jsx)(sB.A,{variant:"light",color:"gray",onClick:()=>{l.current&&l.current.swiper&&l.current.swiper.slidePrev()},style:{transition:"all 0.2s ease"},styles:{root:{"&:hover":{transform:"translateX(-2px)",backgroundColor:"var(--mantine-color-gray-1)"}}},children:(0,a.jsx)(sb.IconChevronRight,{size:18})}),(0,a.jsx)(sB.A,{variant:"light",color:"gray",onClick:()=>{l.current&&l.current.swiper&&l.current.swiper.slideNext()},style:{transition:"all 0.2s ease"},styles:{root:{"&:hover":{transform:"translateX(2px)",backgroundColor:"var(--mantine-color-gray-1)"}}},children:(0,a.jsx)(sb.IconChevronLeft,{size:18})})]})]}),(0,a.jsx)(nU.tq,{className:"swiper-products-related",spaceBetween:10,style:i,ref:l,modules:[n$.W_],loop:r.length>3,breakpoints:{320:{slidesPerView:1,spaceBetween:10},480:{slidesPerView:2,spaceBetween:10},768:{slidesPerView:3,spaceBetween:10},1024:{slidesPerView:4,spaceBetween:10},1200:{slidesPerView:5,spaceBetween:10}},children:r.map((e,t)=>(0,a.jsx)(nU.o5,{style:{height:"auto"},children:(0,a.jsx)(nG,{...e})},e.id||e.url||t))})]})};var nY=r(4335);let nJ=p.memo(function(e){let{slug:t,dataRelatedProducts:r}=e,[i,l]=(0,p.useState)(!1),[s,n]=(0,p.useState)(null),[o,d]=(0,p.useState)(null);(0,p.useEffect)(()=>{if(r&&Array.isArray(r)&&r.length>0){n(r),l(!1),d(null);return}t&&(async()=>{l(!0),d(null);try{let e=await fetch(`/product/related/${t}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok)throw Error(`HTTP error! status: ${e.status}`);let r=await e.json();n(Array.isArray(r)?r:[])}catch(e){d(e.message)}finally{l(!1)}})()},[t,r]);let c=p.useMemo(()=>s&&Array.isArray(s)?s.map(e=>({id:e.id,title:e.title,slug:e.slug,regularPrice:e.regularPrice,discountedPrice:e.discountedPrice,discountPercent:e.discountPercent,image:e.image})):[],[s]);return i?(0,a.jsx)("div",{className:"mt-10",children:(0,a.jsxs)("div",{className:"animate-pulse",children:[(0,a.jsx)("div",{className:"h-6 bg-gray-300 rounded w-32 mb-4"}),(0,a.jsx)("div",{className:"flex gap-4",children:[void 0,void 0,void 0,void 0].map((e,t)=>(0,a.jsx)("div",{className:"w-48 h-64 bg-gray-300 rounded"},t))})]})}):o||!c||0===c.length?null:(0,a.jsx)("div",{className:"mt-10",children:(0,a.jsx)(nX,{style:{marginTop:"20px"},items:c,title:"محصولات مرتبط"})})},(e,t)=>e.slug===t.slug&&(0,nY.w)(e.dataRelatedProducts,t.dataRelatedProducts));r(30941),r(33220),r(84099);let nQ=e=>{let[t,r]=(0,p.useState)(null),[i,l]=(0,p.useState)({}),[s,n]=(0,p.useState)({}),o=(0,p.useRef)(null),d="/uploads/default-product.jpg",c=(0,p.useCallback)(()=>{o.current&&o.current.swiper.slidePrev()},[]),u=(0,p.useCallback)(()=>{o.current&&o.current.swiper.slideNext()},[]),m=(0,p.useCallback)((e,t)=>{l(t=>({...t,[e]:!0}))},[]),g=(0,p.useCallback)((e,t)=>{n(t=>({...t,[e]:!0})),l(t=>{let r={...t};return delete r[e],r})},[]),h=e=>e&&e.startsWith("/")?e:e||d,x=e.slides&&Array.isArray(e.slides)&&e.slides.length>0?e.slides.filter(e=>null!=e&&""!==e&&"string"==typeof e&&""!==e.trim()):[],b=x.length>0,f=b&&x.every((t,r)=>i[e.slides.findIndex(e=>e===x[r])])&&Object.keys(i).length>=x.length,y=!b||f,j=y?[d]:x;return(0,a.jsxs)("div",{className:"w-full",children:[(0,a.jsxs)("div",{className:"relative",children:[j.length>1&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(sB.A,{variant:"filled",radius:"xl",size:"lg",onClick:c,style:{position:"absolute",left:"10px",top:"50%",transform:"translateY(-50%)",zIndex:10,backgroundColor:"rgba(0,0,0,0.5)",color:"white"},children:(0,a.jsx)(sb.IconChevronLeft,{size:18})}),(0,a.jsx)(sB.A,{variant:"filled",radius:"xl",size:"lg",onClick:u,style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",zIndex:10,backgroundColor:"rgba(0,0,0,0.5)",color:"white"},children:(0,a.jsx)(sb.IconChevronRight,{size:18})})]}),(0,a.jsx)(nU.tq,{ref:o,spaceBetween:10,navigation:!1,thumbs:{swiper:t&&!t.destroyed?t:null},modules:[n$.Rv,n$.o3,n$.W_],allowTouchMove:j.length>1,children:y?(0,a.jsx)(nU.o5,{children:(0,a.jsx)(()=>(0,a.jsxs)("div",{style:{width:"100%",height:"450px",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#f8f9fa",border:"2px dashed #dee2e6",borderRadius:"8px",flexDirection:"column",gap:"16px"},children:[(0,a.jsx)(sb.IconPhoto,{size:64,color:"#adb5bd"}),(0,a.jsx)(se.x,{size:"lg",color:"gray",weight:500,children:"تصویری وجود ندارد"}),(0,a.jsx)(se.x,{size:"sm",color:"gray",children:"تصویر محصول در اینجا نمایش داده می‌شود"})]}),{})},"default-slide"):j.map((t,r)=>{let l=e.slides?e.slides.findIndex(e=>e===t):r;return(0,a.jsx)(nU.o5,{children:i[l]?(0,a.jsxs)("div",{style:{width:"100%",height:"450px",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#f8f9fa",border:"2px dashed #dee2e6",borderRadius:"8px",flexDirection:"column",gap:"12px"},children:[(0,a.jsx)(sb.IconPhoto,{size:48,color:"#adb5bd"}),(0,a.jsx)(se.x,{size:"sm",color:"red",children:"تصویر یافت نشد"}),(0,a.jsx)(se.x,{size:"xs",color:"gray",style:{wordBreak:"break-all",textAlign:"center",maxWidth:"300px"},children:t}),(0,a.jsx)(se.x,{size:"xs",color:"gray",style:{textAlign:"center"},children:"فایل تصویر در این مسیر وجود ندارد"})]}):(0,a.jsx)("img",{src:h(t),alt:`Product image ${r+1}`,onError:()=>m(l,t),onLoad:()=>g(l,t),style:{width:"100%",height:"450px",objectFit:"contain",backgroundColor:"#f9f9f9",borderRadius:"8px"}})},`slide-${l}-${r}`)})})]}),b&&x.length>1&&!y&&(0,a.jsx)(nU.tq,{onSwiper:r,spaceBetween:10,slidesPerView:4,freeMode:!0,watchSlidesProgress:!0,modules:[n$.Rv,n$.W_,n$.o3],className:"imagesPreview",style:{marginTop:"10px"},children:x.map((t,r)=>{let l=e.slides.findIndex(e=>e===t);return(0,a.jsx)(nU.o5,{children:(0,a.jsx)("div",{style:{cursor:"pointer",border:"1px solid #ddd",borderRadius:"4px",overflow:"hidden",transition:"border-color 0.2s ease"},children:i[l]?(0,a.jsx)("div",{style:{width:"100%",height:"80px",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#f5f5f5",fontSize:"12px",color:"#999"},children:(0,a.jsx)(sb.IconPhoto,{size:24})}):(0,a.jsx)("img",{src:h(t),alt:`Thumbnail ${r+1}`,style:{width:"100%",height:"80px",objectFit:"cover"},onError:()=>m(l,t)})})},`thumb-${l}-${r}`)})})]})};var n0=r(85144);let n1=e=>{let{id:t,label:r,slug:i,children:l}=e,{options:s,setOptions:n}=og(),o=s.find(e=>+e.attribute_id==+t),d=o?o.value:null,c=(e,r)=>{n(s.map(a=>+a.attribute_id==+t?{...a,value:e,id:r}:a))};return(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{style:{fontWeight:"bold",marginBottom:"5px",display:"block"},children:r}),"color"===i?(0,a.jsx)(sh.Z,{children:l.map((e,t)=>(0,a.jsx)(n0.b,{color:e.value||"#CCC",onClick:e.selected?()=>c(e.value,e.id):void 0,style:{cursor:e.selected?"pointer":"not-allowed",border:d===e.value?"3px solid #3d3d3d":"none",opacity:e.selected?1:.5,filter:e.selected?"none":"grayscale(50%)"},title:e.selected?e.label:`${e.label} (\u{63A}\u{6CC}\u{631}\u{642}\u{627}\u{628}\u{644} \u{627}\u{646}\u{62A}\u{62E}\u{627}\u{628})`},t))}):(0,a.jsx)(nE.P,{data:l.map(e=>({value:e.value,label:e.label,disabled:!e.selected})),value:d,onChange:e=>{let t=l.find(t=>t.value===e);t&&t.selected&&c(e,t.id)},placeholder:"یک گزینه انتخاب کنید",w:{base:"100%",md:"50%"}})]})},n6=function(e){let{items:t}=e;return(0,a.jsx)(sw.K,{children:t.map((e,t)=>(0,a.jsx)(n1,{...e},t))})},n2=function(e){let{data:t}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"text-zinc-700 text-lg md:text-xl",children:t.general.title}),(0,a.jsx)("div",{className:"text-zinc-400 text-xs mt-4",children:t.general.english_title}),(0,a.jsx)(n6,{items:null==t?void 0:t.options})]})};var n4=r(95210),n3=r(59884);let n5=e=>{let{name:t,date:r,rating:i,commentText:l,status:s,seller:n,product:o,paper:d=!1}=e;return(0,a.jsx)(e=>{let{children:t}=e;return d?(0,a.jsx)(N.X,{children:t}):(0,a.jsx)(sa.x,{children:t})},{children:(0,a.jsxs)(l9.k,{justify:"start",children:[(0,a.jsx)(sW.q,{size:"lg",radius:"xl",me:"md"}),(0,a.jsxs)("div",{className:"w-full",children:[(0,a.jsxs)(l9.k,{justify:"space-between",align:"center",w:"100%",mb:"xs",children:[(0,a.jsxs)(l9.k,{align:"start",direction:"column",children:[(0,a.jsx)(se.x,{size:"sm",fw:"500",children:t}),(0,a.jsx)(se.x,{size:"xs",c:"gray",fw:"600",children:n})]}),(0,a.jsxs)(l9.k,{align:"end",direction:"column",children:[(0,a.jsx)(se.x,{size:"xs",c:"gray",children:r}),(0,a.jsx)(n4.i,{defaultValue:i,readOnly:!0})]})]}),("agreed"===s||"approved"===s)&&(0,a.jsx)(se.x,{size:"sm",c:"gray",children:l}),"pending"===s&&(0,a.jsx)(se.x,{size:"sm",c:"gray",children:"دیدگاه شما ارسال شده است و پس از بررسی نمایش داده خواهد شد."})]})]})})},n8=p.memo(n5,(e,t)=>!(0,nY.w)(e,t)),n7=e=>{var t,r;let{slug:i,opened:l}=e,{supplier:s,isCommentsLoaded:n}=og(),o=(0,m.I0)(),{productComments:d,productCommentsLoading:c,productCommentsError:u}=(0,m.v9)(e=>e.getProductComments),[g,h]=(0,p.useState)(null),[x,b]=(0,p.useState)(!1),[f,y]=(0,p.useState)(1);(0,p.useEffect)(()=>{!l||!i||x||n||c||(b(!0),o(r5({id:i,productId:i})))},[l,i,x,n,c,o]);let j=(0,p.useMemo)(()=>{var e;return(null==d||null==(e=d.data)?void 0:e.comments)?d.data.comments.filter(e=>"approved"===e.status||"agreed"===e.status):[]},[null==d||null==(t=d.data)?void 0:t.comments]),v=e=>{let t=e.supplierId;return!t||""===t||-1===t||Array.isArray(t)&&0===t.length?null:t},C=(0,p.useMemo)(()=>{if(0===j.length)return[{supplierId:null,supplierName:"همه تامین کنندگان",commentsCount:0,averageRating:0}];let e={};j.forEach(t=>{let r=v(t),a=r||"null";e[a]||(e[a]={supplierId:r,supplierName:t.supplierName||"N/A",comments:[],ratings:[]}),e[a].comments.push(t),t.rating&&t.rating>0&&e[a].ratings.push(t.rating)});let t=Object.values(e).map(e=>({supplierId:e.supplierId,supplierName:e.supplierName,commentsCount:e.comments.length,averageRating:e.ratings.length>0?e.ratings.reduce((e,t)=>e+t,0)/e.ratings.length:0})).filter(e=>e.commentsCount>0&&e.supplierName&&""!==e.supplierName&&"N/A"!==e.supplierName),r=j.map(e=>e.rating).filter(e=>e&&e>0),a={supplierId:null,supplierName:"همه تامین کنندگان",commentsCount:j.length,averageRating:r.length>0?r.reduce((e,t)=>e+t,0)/r.length:0};return t.length>0?[a,...t]:[a]},[j]),w=(0,p.useMemo)(()=>null===g?j:j.filter(e=>v(e)===g),[j,g]),k=(0,p.useMemo)(()=>{let e=(f-1)*15;return w.slice(e,e+15)},[w,f,15]);(0,p.useEffect)(()=>{y(1)},[g]);let S=(0,p.useCallback)((e,t)=>{h(e)},[]),I=!(null==d?void 0:d.data)&&!c;if(c)return(0,a.jsx)(N.X,{mt:"lg",px:"lg",py:"xl",children:(0,a.jsxs)(si.M,{children:[(0,a.jsx)(A.a,{size:"lg"}),(0,a.jsx)(se.x,{mt:"md",size:"sm",c:"gray",children:"در حال بارگزاری نظرات..."})]})});if(u)return(0,a.jsx)(N.X,{mt:"lg",px:"lg",py:"xl",children:(0,a.jsx)(s5,{children:"خطا در بارگذاری نظرات. لطفا دوباره تلاش کنید."})});if(I)return(0,a.jsx)(N.X,{mt:"lg",px:"lg",py:"xl",children:(0,a.jsx)(s5,{children:"اطلاعات نظرات در دسترس نیست"})});if(0===j.length)return(0,a.jsxs)(N.X,{mt:"lg",px:"lg",py:"xl",children:[(0,a.jsx)(nq,{size:"md",mb:"lg",children:"نظرات کاربران"}),(0,a.jsx)(s5,{children:"هنوز نظری برای این محصول ثبت نشده است"})]});let F=g?C.find(e=>e.supplierId===g):C[0],M=C.length>1;return(0,a.jsxs)(N.X,{mt:"lg",px:"lg",pos:"relative",children:[(0,a.jsx)(nS.f,{visible:c,zIndex:1e3}),(0,a.jsxs)(l9.k,{direction:"column",children:[(0,a.jsxs)(l9.k,{mt:"lg",w:"100%",justify:"space-between",align:"baseline",style:{borderBottom:"1px solid #cbd5e1"},pb:"lg",children:[(0,a.jsx)(nq,{size:"md",children:"نظرات کاربران"}),(0,a.jsxs)(l9.k,{align:"center",gap:"md",children:[(0,a.jsxs)(l9.k,{direction:"column",align:"end",children:[(0,a.jsx)(n4.i,{size:"md",mb:"xs",value:Math.min((null==F?void 0:F.averageRating)||0,5),readOnly:!0}),(0,a.jsxs)(se.x,{c:"gray",size:"sm",children:["بر اساس نظرات ",(null==F?void 0:F.commentsCount)||0," کاربر"]})]}),(0,a.jsx)(D.D,{size:"h2",c:"gray.7",children:Math.min((null==F?void 0:F.averageRating)||0,5).toFixed(1)})]})]}),M&&(0,a.jsx)(l9.k,{w:"100%",mt:"md",gap:"md",wrap:"wrap",justify:"flex-start",align:"center",style:{borderBottom:"1px solid #cbd5e1"},pb:"lg",children:C.map(e=>(0,a.jsx)(z.z,{variant:g===e.supplierId?"filled":"light",color:"blue",onClick:()=>S(e.supplierId,e.supplierName),disabled:0===e.commentsCount,size:"sm",children:(0,a.jsxs)(l9.k,{direction:"column",align:"center",gap:2,children:[(0,a.jsx)(se.x,{size:"sm",fw:500,children:e.supplierName}),(0,a.jsxs)(se.x,{size:"xs",opacity:.7,children:["(",e.commentsCount," نظر)"]})]})},e.supplierId||"all"))})]}),(0,a.jsx)(sw.K,{gap:"lg",mt:"xl",children:k.length>0?k.map((e,t)=>(0,a.jsx)(n8,{...e},e.commentId||`${e._id}-${t}`)):(0,a.jsx)(s5,{children:g?`\u{647}\u{6CC}\u{686} \u{646}\u{638}\u{631}\u{6CC} \u{628}\u{631}\u{627}\u{6CC} ${null==(r=C.find(e=>e.supplierId===g))?void 0:r.supplierName} \u{62B}\u{628}\u{62A} \u{646}\u{634}\u{62F}\u{647} \u{627}\u{633}\u{62A}`:"نظری برای نمایش وجود ندارد"})}),w.length>15&&(0,a.jsx)(si.M,{mt:"xl",children:(0,a.jsx)(n3.t,{total:Math.ceil(w.length/15),value:f,onChange:y,size:"md"})})]})};var n9=r(21934),oe=r(15063),ot=r(25373);let or=sc.Ry().shape({comment:sc.Z_().required("کامنت الزامی است.").min(5,"کامنت باید حداقل ۵ کاراکتر باشد.").max(500,"کامنت نمی‌تواند بیش از ۵۰۰ کاراکتر باشد."),supplier:sc.Z_().required("انتخاب تامین‌کننده الزامی است.")}),oa=e=>{var t,r,i,s,n,o;let{active:d}=e,{product:c}=og(),[u,{toggle:x}]=(0,s$.q)(!1),b=(0,m.I0)(),f=(0,g.s0)(),{submittedComment:y,submitLoading:j,submitError:v}=(0,m.v9)(e=>e.submitComments||{}),C=(0,sd.c)({initialValues:{comment:"",rating:0,supplier:""},validate:(0,ot.X)(or)}),[w]=(0,l.fP)(["user"]),[k,S]=(0,p.useState)([]),{user:I}=(0,m.v9)(e=>e.auth),[D,A]=(0,p.useState)(!1),F=(0,p.useRef)(null),M=(0,p.useRef)(null),[T,P]=(0,p.useState)(!1),E=(0,p.useMemo)(()=>{if(!(null==c?void 0:c.combinations))return[];let e=new Map;return c.combinations.forEach(t=>{var r;null==(r=t.suppliers)||r.forEach(t=>{e.has(t.id)||e.set(t.id,{value:t.id.toString(),label:t.name,psid:t.psid,shortName:t.shortName})})}),Array.from(e.values())},[null==c?void 0:c.combinations]);(0,p.useEffect)(()=>{b(er())},[b]);let _=async()=>{try{let r=localStorage.getItem("user"),a=await fetch(et("/purchasedproducts"),{method:"POST",headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"},body:JSON.stringify({userID:null==I?void 0:I.id,productId:null==c?void 0:c.id})}),i=await a.json();if(a.ok){var e,t;S((null==(t=i.users)||null==(e=t[0])?void 0:e.purchased_products)||[])}else console.error("Failed to get purchased products:",i)}catch(e){console.error("Error fetching purchased products:",e)}},L=(0,p.useMemo)(()=>{if(!k.length||!(null==c?void 0:c.id))return!1;let e=c.id;return k.some(t=>{let r=t.id||t.productId;return!!r&&(r===e||String(r)===String(e)||Number(r)===Number(e)||!!t.productId&&t.productId!==r&&(t.productId===e||String(t.productId)===String(e)||Number(t.productId)===Number(e))||!!t.slug&&t.slug===e||!!t.slug&&String(t.slug)===String(e))})},[k,null==c?void 0:c.id]);(0,p.useEffect)(()=>{d&&(null==I?void 0:I.id)&&(null==c?void 0:c.id)&&_()},[d,null==I?void 0:I.id,null==c?void 0:c.id]),(0,p.useEffect)(()=>{if(!y&&!v)return;let e=y?JSON.stringify(y):null,t=v?JSON.stringify(v):null;if((null==y?void 0:y.state)==="error"&&F.current!==e){F.current=e,P(!0),setTimeout(()=>{P(!1),b(iy())},4e3);return}if(v&&M.current!==t){M.current=t;let e=Number(v.status);if([400,422].includes(e)){P(!0),setTimeout(()=>{P(!1),b(iy())},4e3);return}if(e>=500&&e<600){h.N9.show({title:"خطای سرور",message:v.message||"مشکلی در سرور پیش آمده است. لطفاً دوباره تلاش کنید.",color:"red",autoClose:5e3}),setTimeout(()=>{b(iy())},3e3);return}if(401===e){A(!0),setTimeout(()=>{A(!1),b(iy()),f("/")},4e3);return}if(403===e){A(!0),setTimeout(()=>{A(!1),b(iy())},4e3);return}h.N9.show({title:v.message||"خطا در ارسال دیدگاه",color:"red",autoClose:!0})}(null==y?void 0:y.state)==="ok"&&F.current!==e&&(F.current=e,C.reset(),x(),h.N9.show({title:y.message||"دیدگاه شما با موفقیت ثبت شد",color:"green",autoClose:!0}),setTimeout(()=>{b(iy()),F.current=null,M.current=null},3e3))},[y,v,b,C,x,f]),(0,p.useEffect)(()=>{if(v){let e=setTimeout(()=>{b(ij()),M.current=null},5e3);return()=>clearTimeout(e)}},[v,b]);let B=async e=>{F.current=null,M.current=null;let t=(null==I?void 0:I.name)||(null==I?void 0:I.fullName)||(null==I?void 0:I.firstName)||(null==I?void 0:I.username)||"کاربر",r=E.find(t=>t.value===e.supplier),a={productId:null==c?void 0:c.id,commentText:e.comment,rating:e.rating.toString(),name:t,date:new Date().toLocaleDateString("fa-IR"),supplierId:e.supplier,supplierName:null==r?void 0:r.label};try{await b(ix(a)).unwrap(),b(r5({id:null==c?void 0:c.id}))}catch(e){}};return L?(0,a.jsxs)(N.X,{children:[(0,a.jsx)(sy,{opened:D,onClose:()=>A(!1),message:null==v?void 0:v.message}),(0,a.jsx)(sy,{opened:T,onClose:()=>P(!1),message:(null==y?void 0:y.state)==="error"?y.message||"خطا در ارسال دیدگاه":(null==v?void 0:v.message)||"خطا در ارسال دیدگاه"}),(0,a.jsx)(z.z,{h:"60",fullWidth:!0,variant:"light",leftSection:(0,a.jsx)(sb.IconMessage2,{}),onClick:x,children:"ثبت دیدگاه"}),(0,a.jsxs)(n9.U,{in:u,children:[(0,a.jsx)(nq,{my:"lg",children:"دیدگاه خود را بنویسید"}),(0,a.jsx)("form",{onSubmit:C.onSubmit(B),children:(0,a.jsxs)(sw.K,{children:[(0,a.jsxs)(l9.k,{direction:"column",children:[(0,a.jsxs)(l9.k,{children:[(0,a.jsx)(se.x,{me:"lg",size:"sm",fw:"500",children:"امتیاز شما"}),(0,a.jsx)(n4.i,{...C.getInputProps("rating")})]}),((null==y?void 0:y.state)==="error"&&(null==y||null==(t=y.error)?void 0:t.rating)||C.errors.rating)&&(0,a.jsx)(se.x,{color:"red",size:"sm",mt:4,children:(null==y||null==(r=y.error)?void 0:r.rating)||C.errors.rating})]}),(0,a.jsx)(nE.P,{label:"تامین‌کننده",placeholder:"تامین‌کننده مورد نظر را انتخاب کنید",data:E,withAsterisk:!0,searchable:!0,clearable:!0,...C.getInputProps("supplier"),error:((null==y?void 0:y.state)==="error"&&(null==y||null==(i=y.error)?void 0:i.supplier)||C.errors.supplier)&&((null==y||null==(s=y.error)?void 0:s.supplier)||C.errors.supplier)}),(0,a.jsx)(oe.g,{label:"دیدگاه شما",withAsterisk:!0,rows:5,placeholder:"دیدگاه خود را وارد کنید",...C.getInputProps("comment"),error:((null==y?void 0:y.state)==="error"&&(null==y||null==(n=y.error)?void 0:n.commentText)||C.errors.comment)&&((null==y||null==(o=y.error)?void 0:o.commentText)||C.errors.comment)}),(0,a.jsx)(z.z,{w:"max-content",type:"submit",loading:j,disabled:j,children:"ارسال"})]})})]})]}):null},oi=p.memo(e=>{let{items:t}=e;return t&&Array.isArray(t)&&0!==t.length?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(nq,{size:"lg",fw:600,mb:"xl",children:"مشخصات"}),(0,a.jsx)(sN.r,{children:t.map((e,t)=>e&&e.label&&e.value?(0,a.jsxs)(p.Fragment,{children:[(0,a.jsx)(sN.r.Col,{span:4,children:(0,a.jsx)(N.X,{w:"100%",p:"md",className:"rounded-lg lg:w-4/12",children:(0,a.jsx)(se.x,{size:"sm",fw:600,children:e.label})})}),(0,a.jsx)(sD.$,{span:8,children:(0,a.jsx)(N.X,{w:"100%",p:"md",className:"rounded-lg lg:w-4/6",children:(0,a.jsx)(se.x,{size:"sm",children:e.value})})})]},t):null)})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(nq,{size:"lg",fw:600,mb:"xl",children:"مشخصات"}),(0,a.jsx)(se.x,{size:"sm",c:"dimmed",children:"مشخصاتی برای نمایش وجود ندارد"})]})},(e,t)=>e.items===t.items),ol=(0,p.memo)(function(e){let{data:t,slug:r}=e,[i,l]=p.useState("desc");return(0,a.jsxs)(s1.m,{mt:"xl",variant:"pills",value:i,onChange:l,styles:{panel:{paddingTop:20}},children:[(0,a.jsx)(N.X,{children:(0,a.jsxs)(s1.m.List,{children:[(0,a.jsx)(s1.m.Tab,{value:"desc",children:"توضیحات"}),t.general.specifications&&(0,a.jsx)(s1.m.Tab,{value:"feat",children:"مشخصات"}),(0,a.jsx)(s1.m.Tab,{value:"comm",children:"نظرات"})]})}),(0,a.jsx)(s1.m.Panel,{value:"desc",children:(0,a.jsx)(N.X,{p:"xl",children:(0,a.jsx)("div",{className:"prose-sm leading-8",dangerouslySetInnerHTML:{__html:t.general.description}})})}),(0,a.jsx)(s1.m.Panel,{value:"feat",children:(0,a.jsx)(oi,{items:t.general.specifications||[]})}),(0,a.jsxs)(s1.m.Panel,{value:"comm",children:[(0,a.jsx)(oa,{active:"comm"===i}),(0,a.jsx)(n7,{slug:r,opened:"comm"===i})]})]})},(e,t)=>e.data.id===t.data.id),os=async e=>{let t=localStorage.getItem("user");try{let r=await fetch(et("/cart/update"),{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify(e)}),a=await r.json();if(!r.ok)throw Error(a.message||"Failed to update cart");let i=await fetch(et("/cart"),{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(!i.ok)throw Error("Failed to fetch cart data");let l=await i.json();return{message:"ok",cart:l.cart||[],total:l.cart?l.cart.reduce((e,t)=>e+t.price.discountedPrice*t.count,0):0}}catch(e){throw console.error("Update cart error:",e),e}},on=async e=>{let t=localStorage.getItem("user");try{let r=await fetch(et("/cart/remove"),{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify(e)}),a=await r.json();if(!r.ok)throw Error(a.message||"Failed to remove from cart");let i=await fetch(et("/cart"),{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(!i.ok)throw Error("Failed to fetch cart data");let l=await i.json();return{message:"ok",cart:l.cart||[],total:l.cart?l.cart.reduce((e,t)=>e+t.price.discountedPrice*t.count,0):0}}catch(e){throw console.error("Remove from cart error:",e),e}},oo=async()=>{let e=localStorage.getItem("user");try{let t=await fetch(et("/cart"),{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!t.ok)throw localStorage.removeItem("user"),Error("Failed to fetch cart data");let r=await t.json();return{message:"ok",cart:r.cart||[],totalPrice:r.total||0}}catch(e){return console.error("Get cart error:",e),{message:"error",cart:[],totalPrice:0}}},od=e=>{let{productId:t,seller:r,onChange:i,options:s,productName:n,productImages:o,item:d}=e,[c]=(0,l.fP)(["user"]),u=(0,m.I0)(),[g,h]=(0,p.useState)(void 0),[x,b]=(0,p.useState)(void 0),[f,y]=(0,p.useState)(void 0),[j,v]=(0,p.useState)(void 0),[C,w]=(0,p.useState)(void 0),[k,S]=(0,p.useState)(void 0),[I,N]=(0,p.useState)(!0),[D,A]=(0,p.useState)(void 0),[F,M]=(0,p.useState)({cart:[],totalPrice:0}),[T,P]=(0,p.useState)(!0),[E,_]=(0,p.useState)(!1),{isVerified:L,loading:B,error:O,user:R}=(0,m.v9)(e=>e.auth),[W,Z]=(0,p.useState)(!1),{combinations:U}=og(),$=(0,m.v9)(e=>{var t;return(null==(t=e.cart)?void 0:t.items)||[]}),q=async()=>{P(!0);try{let e=await oo();M(e),e.cart&&e.cart.length>0&&u(J([...e.cart]))}catch(e){console.error("Failed to load cart data:",e)}finally{P(!1)}};(0,p.useEffect)(()=>{q()},[]),null==s||s.reduce((e,t)=>("رنگ"===t.attribute_name&&(e.color=t.value),"جنس"===t.attribute_name&&(e.material=t.value),e),{color:"",material:""});let K=((e,t,r,a)=>{if(!e||!Array.isArray(e)||!t||!r||!a)return 0;let i=e.find(e=>e.productId===t&&e.seller.id===r&&e.combinationsID===a.id);return i?i.count:0})($,t,g,f),V=async e=>{let{value:r,item:a}=e;if(!R||!L)return void Z(!0);if(!I||!a)return;let i=a.id,l=a.name;h(i),b(l),_(!0);try{let e=await os({productId:t,seller:{id:i,label:l},count:Number(r),combinationsID:null==f?void 0:f.id});if(e.cart)u(J([...e.cart])),M(e);else throw Error("Failed to fetch cart data")}catch(e){console.error("Failed to update cart:",e)}finally{_(!1)}},H=async e=>{let{value:r,item:a}=e;if(!R||!L)return void Z(!0);if(I&&a){_(!0);try{let e=await on({productId:t,seller:{id:a.id,label:a.name},combinationsID:null==f?void 0:f.id});e.cart&&(u(J([...e.cart])),M(e))}catch(e){console.error("Failed to remove from cart:",e)}finally{_(!1)}}};(0,p.useEffect)(()=>{(null==d?void 0:d.id)&&h(d.id)},[null==d?void 0:d.id]),(0,p.useEffect)(()=>{if(!s||!U)return void y(null);y(((e,t,r)=>{if(!Array.isArray(t)||!Array.isArray(r))return null;let a=JSON.stringify([...t].sort((e,t)=>e.id-t.id));return r.find(e=>JSON.stringify([...e.options].sort((e,t)=>e.id-t.id))===a)||null})(0,s,U))},[s,U,t,r,D]),(0,p.useEffect)(()=>{var e;if(!f)return void A(void 0);let t=null==(e=f.suppliers)?void 0:e.find(e=>e.id===r);A(t?t.price:void 0)},[f,r]),(0,p.useEffect)(()=>{if(!f||!d){N(!1),v(null),w(null),S(0);return}let e=!!f&&!!f.suppliers&&!!d&&void 0!==f.suppliers.find(e=>e.id===d.id);if(N(e),e){let e=((e,t)=>{if(!e||!e.suppliers)return null;let r=e.suppliers.find(e=>e.id===t);return r&&void 0!==r.maxOrder?r.maxOrder:null})(f,d.id),t=((e,t)=>{if(!e||!e.suppliers)return null;let r=e.suppliers.find(e=>e.id===t);return r&&void 0!==r.minOrder?r.minOrder:null})(f,d.id),r=((e,t)=>{if(!e||!e.suppliers)return null;let r=e.suppliers.find(e=>e.id===t);if(!r||void 0===r.maxOrder)return null;let a=r.stock;return null==a?0:a})(f,d.id);v(e),w(t||1),S(r)}else v(null),w(null),S(0)},[f,d]);let G=!n||void 0!==o&&!(o&&Array.isArray(o)&&0!==o.length&&o.filter(e=>!!e&&""!==e&&null!==e&&("string"!=typeof e||""!==e.trim())).length>0)||!s||!U;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(sp.u,{opened:W,onClose:()=>Z(!1),title:"ورود به حساب کاربری",centered:!0,children:(0,a.jsx)(se.x,{children:"لطفا وارد حساب کاربری شوید"})}),(0,a.jsx)(nS.f,{pos:"fixed",visible:E||T,zIndex:1e3,h:"100%",w:"100%",top:0,left:0}),G?null:f&&I?(0,a.jsx)(a.Fragment,{children:K>0?(0,a.jsxs)(l9.k,{align:"center",gap:"4",children:[(0,a.jsx)(z.z,{p:0,px:4,h:15,variant:"transparent",size:"10px",onClick:()=>{j&&d?V({value:Math.min(j,k),item:d}):console.error("Max order or item is missing")},children:"حداکثر"}),(0,a.jsx)(sB.A,{size:"md",radius:"999999",variant:"light",color:"green",onClick:()=>{if(!R||!L)return void Z(!0);I&&(!d||K>=Math.min(j,k)||V({value:K+1,item:d}))},children:(0,a.jsx)(sb.IconPlus,{size:15})}),(0,a.jsx)(sK.I,{type:"number",w:35,styles:{input:{textAlign:"center"}},variant:"unstyled",value:K,readOnly:!0,px:0}),(0,a.jsx)(sB.A,{size:"md",radius:"999999",variant:"light",color:"red",onClick:()=>{if(!R||!L)return void Z(!0);I&&(K>C?V({value:K-1,item:d}):K===C&&H({value:0,item:d}))},children:(0,a.jsx)(sb.IconMinus,{size:15})})]}):(0,a.jsx)(z.z,{fullWidth:!0,leftSection:(0,a.jsx)(sb.IconBasket,{}),h:45,onClick:()=>{if(!R||!L)return void Z(!0);I&&d&&V({value:Math.min(C||1,k||1,j||1),item:d})},children:"افزودن به سبد خرید"})}):(0,a.jsx)(si.M,{children:(0,a.jsx)(se.x,{size:"sm",c:"orange",children:"تامین کننده ای وجود ندارد"})})]})},oc=e=>{var t;let{item:r,index:i}=e,{supplier:l,product:s,options:n}=og(),[o,d]=(0,p.useState)(void 0);return(0,a.jsx)(sa.x,{children:(0,a.jsxs)(sN.r,{align:"center",children:[(0,a.jsx)(sD.$,{span:{lg:3},children:(0,a.jsxs)(l9.k,{align:"center",gap:"md",children:[(0,a.jsx)(sb.IconBuildingStore,{}),(0,a.jsxs)(l9.k,{direction:"column",children:[(0,a.jsx)(se.x,{size:"sm",component:g.OL,to:`/seller/${r.id}`,children:r.name}),(0,a.jsxs)(l9.k,{gap:"xs",children:[(0,a.jsx)(se.x,{size:"xs",c:"gray",children:"امتیاز"}),(0,a.jsx)(n4.i,{value:parseFloat(r.rating),readOnly:!0,size:"xs"})]}),(0,a.jsx)("div",{className:"text-xs text-red-400",children:r.stock>0?`\u{645}\u{648}\u{62C}\u{648}\u{62F}\u{6CC} \u{627}\u{646}\u{628}\u{627}\u{631} ${r.stock} \u{639}\u{62F}\u{62F} \u{645}\u{6CC}\u{628}\u{627}\u{634}\u{62F}`:"ناموجود"})]})]})}),(0,a.jsx)(sD.$,{span:{lg:3},children:(0,a.jsxs)(l9.k,{direction:"column",gap:"xs",children:[(0,a.jsxs)(l9.k,{gap:"xs",children:[(0,a.jsx)(sb.IconCash,{size:20}),(0,a.jsx)(se.x,{size:"sm",c:"gray",children:"Cash"===r.payment_type?"نقدی":r.payment_type?r.payment_type:"نقدی"})]}),(0,a.jsxs)(l9.k,{gap:"xs",children:[(0,a.jsx)(sb.IconTruckDelivery,{size:20}),(0,a.jsxs)(se.x,{size:"sm",c:"gray",children:["ارسال: ",r.delivery&&r.delivery.length>0?r.delivery.map(e=>e.locationLabel).join("، "):r.deliveryTime?r.deliveryTime.label:"اطلاعات ارسال موجود نیست"]})]})]})}),(0,a.jsx)(sD.$,{span:{lg:3},children:(0,a.jsxs)(l9.k,{gap:"sm",align:"center",direction:"column",children:[(0,a.jsxs)(l9.k,{gap:"xs",children:[(0,a.jsx)(sb.IconTruckDelivery,{size:20}),(0,a.jsxs)(se.x,{size:"sm",c:"gray",children:["فروش ","Wholesale"===r.buy_type?"عمده":r.buy_type?r.buy_type:"تکی"]})]}),(0,a.jsxs)(l9.k,{align:"end",direction:"column",gap:"xs",children:[(0,a.jsxs)(l9.k,{gap:"4px",align:"center",children:[(0,a.jsx)(se.x,{size:"sm",c:"gray",children:"حداقل سفارش:"}),(0,a.jsx)(se.x,{size:"sm",c:"gray",children:r.minOrder})]}),(0,a.jsxs)(l9.k,{gap:"4px",align:"center",children:[(0,a.jsx)(se.x,{size:"sm",c:"gray",children:"حداکثر سفارش:"}),(0,a.jsx)(se.x,{size:"sm",c:"gray",children:r.maxOrder})]})]})]})}),(0,a.jsx)(sD.$,{span:{lg:3},children:(0,a.jsxs)(l9.k,{align:"start",justify:"end",gap:"lg",children:[r.price.discountPercent&&(0,a.jsxs)(sx.C,{display:"flex",style:{flexDirection:"row"},styles:{label:{display:"flex"},root:{paddingInline:5,borderBottomLeftRadius:0}},children:[r.price.discountPercent,(0,a.jsx)(sb.IconPercentage,{size:16,style:{marginRight:5}})]}),(0,a.jsxs)(l9.k,{direction:"column",align:"end",children:[(0,a.jsx)(nA,{children:r.price.discountedPrice||r.price.regularPrice}),r.price.discountedPrice&&r.price.discountedPrice!==r.price.regularPrice?(0,a.jsx)(sa.x,{component:"del",c:"gray",fz:"sm",children:(0,a.jsx)(s7.e,{value:r.price.regularPrice,thousandSeparator:!0})}):null]}),(0,a.jsxs)(l9.k,{align:"end",direction:"column",gap:"xs",children:[(0,a.jsx)(od,{item:r,fullWidth:!0,withButton:!0,productId:null==s?void 0:s.id,seller:r.id,options:n,productName:null==s?void 0:s.general.title,productImages:null==s||null==(t=s.general.images)?void 0:t[0],min:r.minOrder,max:r.maxOrder}),r.special_offer?(0,a.jsx)(nT,{shamsiDate:r.special_offer}):null]})]})})]})},i)},ou=function(e){let{items:t}=e,[r,{open:i,close:l,toggle:s}]=(0,s$.q)(!1);return(0,a.jsxs)(N.X,{my:50,p:"xl",children:[(0,a.jsx)(nq,{children:"فروشندگان این کالا"}),(0,a.jsx)(sw.K,{mt:"xl",gap:"40",children:t.slice(0,2).map((e,t)=>(0,a.jsx)(oc,{item:e,index:t},t))}),(0,a.jsx)(n9.U,{in:r,children:(0,a.jsx)(sw.K,{gap:"40",mt:"40",children:t.slice(2,t.length).map((e,t)=>(0,a.jsx)(oc,{item:e,index:t+2},t+2))})}),t.length>2?(0,a.jsx)(si.M,{children:(0,a.jsxs)(z.z,{radius:999,variant:"light",mt:"xl",onClick:()=>s(),children:["مشاهده ",r?"کمتر":"بیشتر"," فروشگاه ها"]})}):null]})},om=(0,p.createContext)(),og=()=>(0,p.useContext)(om);var op=r(12554);let oh=async e=>{let t=localStorage.getItem("user");try{let r=await fetch(et("/cart/update"),{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify(e)}),a=await r.json();if(!r.ok)throw Error(a.message||"Failed to update cart");let i=await fetch(et("/cart"),{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(!i.ok)throw Error("Failed to fetch cart data");let l=await i.json();return{message:"ok",cart:l.cart||[],total:l.total||0}}catch(e){throw console.error("Update cart error:",e),e}},ox=async e=>{let t=localStorage.getItem("user");try{let r=await fetch(et("/cart/remove"),{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify(e)}),a=await r.json();if(!r.ok)throw Error(a.message||"Failed to remove from cart");return{message:"ok",cart:a.cart||[],total:a.total||0}}catch(e){throw console.error("Remove from cart error:",e),e}},ob=e=>{let{productId:t,seller:r,combinationsID:i,removeFun:s,onRemoveComplete:n,productImage:o,attributes:d,poductName:c,price:u,max:g,min:h}=e,x="string"==typeof t?t:String(t||""),[b]=(0,l.fP)(["user"]),f=(0,m.I0)(),[y,j]=(0,p.useState)(!1),v=(0,p.useRef)(!1),C=(0,m.v9)(e=>{var t;return(null==(t=e.cart)?void 0:t.items)||[]}),w=(e,t,r,a)=>{let i=e=>String(e).trim(),l=e=>parseInt(e),s=i(t),n=(null==r?void 0:r.id)||r,o=l(a),d=e.find(e=>{var t;let r=i(e.productId),a=(null==(t=e.seller)?void 0:t.id)||e.seller_id,d=l(e.combinationsID);return r===s&&a===n&&d===o});return d?d.count:0},k=w(C,t,r,i),[S,I]=(0,p.useState)(k);(0,p.useEffect)(()=>{I(w(C,t,r,i))},[C,t,r,i]);let N=Math.min(g||1/0,e.stock||1/0),D=async e=>{let{value:a}=e;j(!0);try{let e=await oh({productId:t,seller:r,count:Number(a),combinationsID:i});(null==e?void 0:e.cart)&&f(J([...e.cart]))}catch(e){console.error("Update failed:",e),I(w(C,t,r,i))}finally{j(!1)}},A=async()=>{if(!y&&!v.current){v.current=!0,j(!0);try{let e=await ox({productId:t,seller:r,combinationsID:i});(null==e?void 0:e.cart)!==void 0&&(f(J([...e.cart])),I(0),s&&"function"==typeof s&&s(),n&&"function"==typeof n&&n())}catch(e){console.error("Remove failed:",e)}finally{j(!1),v.current=!1}}},F=S>0&&!x.toLowerCase().includes("subscription");return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(nS.f,{pos:"fixed",visible:y,zIndex:1e3,h:"100%",w:"100%",top:0,left:0}),F?(0,a.jsxs)(l9.k,{align:"center",gap:"4",children:[(0,a.jsx)(z.z,{p:0,px:4,h:15,variant:"transparent",size:"10px",onClick:()=>{N&&!y&&(I(N),D({value:N}))},disabled:y,children:"حداکثر"}),(0,a.jsx)(sB.A,{size:"md",radius:"999999",variant:"light",color:"green",onClick:()=>{if(S>=N||y)return;let e=S+1;I(e),D({value:e})},disabled:y||S>=N,children:(0,a.jsx)(sb.IconPlus,{size:15})}),(0,a.jsx)(sK.I,{type:"number",w:35,styles:{input:{textAlign:"center"}},variant:"unstyled",value:S,readOnly:!0,px:0}),S>h?(0,a.jsx)(sB.A,{size:"md",radius:"999999",variant:"light",color:"red",onClick:()=>{if(!y)if(S>h){let e=S-1;I(e),D({value:e})}else(S===h||1===S)&&A()},disabled:y,children:(0,a.jsx)(sb.IconMinus,{size:15})}):(0,a.jsx)(sB.A,{radius:"999999",size:"md",variant:"light",color:"red",onClick:A,disabled:y,children:(0,a.jsx)(sb.IconTrash,{size:15})})]}):(0,a.jsx)(z.z,{fullWidth:!0,leftSection:(0,a.jsx)(sb.IconBasket,{}),h:45,onClick:()=>D({value:h||1}),disabled:y,children:"افزودن"})]})},of=e=>{var t,r,i,l;let s=(0,m.v9)(e=>e.cart.items||[]),[n,o]=(0,p.useState)(!1),[d,c]=(0,p.useState)(!0),u=String(e.productId),g=s.some(t=>{var r,a;return String(t.productId)===String(e.productId)&&parseInt(t.combinationsID)===parseInt(e.combinationsID)&&((null==(r=t.seller)?void 0:r.id)||t.seller_id)===((null==(a=e.seller)?void 0:a.id)||e.seller_id)});(0,p.useEffect)(()=>{c(g)},[g]);let{primaryColor:h}=(0,sE.rZ)(),x=(0,m.I0)(),b=async()=>{e.onRemoveStart&&e.onRemoveStart()},f=async(e,t,r)=>{let a=localStorage.getItem("user");try{let i=await fetch(et("/cart/remove"),{method:"POST",headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"},body:JSON.stringify({productId:e,seller:t,combinationsID:r})});if(!i.ok){let e=await i.json().catch(()=>({}));throw Error((null==e?void 0:e.message)||"Failed to remove item from cart")}return await i.json()}catch(e){throw console.error("Error removing item from cart:",e),e}},y=async()=>{let e=localStorage.getItem("user");if(e)try{let t=await fetch(et("/cart"),{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!t.ok)throw Error("Failed to fetch cart data");let r=await t.json();if("ok"===r.message&&Array.isArray(r.cart))return r.cart;return[]}catch(e){return console.error("Error fetching cart:",e),null}},j=async()=>{if(!n&&g){o(!0),e.onRemoveStart&&e.onRemoveStart();try{let t=await f(e.productId,e.seller,e.combinationsID);if((null==t?void 0:t.message)==="ok"){if(Array.isArray(t.cart))x(J(t.cart));else{let e=await y();null!==e&&x(J(e))}c(!1)}else throw Error("Remove operation failed")}catch(e){console.error("Failed to remove item from cart:",e);try{let e=await y();null!==e&&x(J(e))}catch(e){console.error("Failed to fetch cart data after remove error:",e)}}finally{o(!1)}}};return d&&g?(0,a.jsx)(N.X,{p:"xl",style:{opacity:n?.5:1,transition:"opacity 0.3s ease, transform 0.3s ease",transform:n?"scale(0.95)":"scale(1)"},children:(0,a.jsxs)(l9.k,{justify:"space-between",gap:"xl",children:[(0,a.jsx)(sa.x,{w:"120",h:"120",pos:"relative",children:(0,a.jsx)(sl.E,{w:"100",h:"120",fit:"contain",src:e.image})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)(l9.k,{justify:"space-between",gap:"md",direction:"column",children:[(0,a.jsxs)(l9.k,{direction:"column",gap:"md",children:[(0,a.jsx)(D.D,{size:"md",children:e.name}),!!(l=e.attributes)&&(Array.isArray(l)?0!==l.length&&l.some(e=>e&&""!==e):""!==l)&&(0,a.jsx)(l9.k,{gap:"xs",wrap:"wrap",children:null==(t=e.attributes)?void 0:t.map((e,t)=>{var r;return(0,a.jsxs)(l9.k,{gap:"xs",children:[e.color&&""!==e.color&&(0,a.jsx)(sx.C,{variant:"light",color:"dark",size:"xs",children:(0,a.jsx)("span",{style:{color:(r=e.color)&&""!==r?r.startsWith("#")?r:ne[r.toLowerCase()]||ne[r]||r:null},children:"⬤"})}),e.material&&""!==e.material&&(0,a.jsx)(sx.C,{variant:"light",color:"dark",size:"xs",children:(0,a.jsx)(se.x,{size:"xs",children:e.material})}),e.warranty&&""!==e.warranty&&(0,a.jsx)(sx.C,{variant:"light",color:"blue",size:"xs",children:(0,a.jsx)(se.x,{size:"xs",children:e.warranty})})]},t)})}),(0,a.jsxs)(l9.k,{c:h,align:"center",gap:"xs",children:[(0,a.jsx)(sb.IconUser,{size:12}),(0,a.jsx)(se.x,{size:"xs",component:"span",children:(null==(r=e.seller)?void 0:r.label)||(null==(i=e.seller)?void 0:i.name)})]})]}),(0,a.jsx)(l9.k,{gap:"5",children:(0,a.jsx)(sB.A,{color:"red",variant:"light",size:"lg",onClick:j,loading:n,disabled:n,children:(0,a.jsx)(sb.IconTrash,{})})})]}),(0,a.jsx)(l9.k,{justify:"space-between",mt:"lg",children:(0,a.jsx)(ob,{fullWidth:!0,withButton:!0,productId:u,seller:e.seller,stock:e.stock,combinationsID:e.combinationsID,removeFun:()=>{c(!1)},onRemoveComplete:b,count:e.count,productImage:e.image,attributes:e.attributes,poductName:e.name,price:e.price,max:e.max,min:e.min})})]})]})}):null},oy=e=>{let{children:t,submit:r,prev:i}=e,l=(0,m.v9)(e=>e.cart.items||[]);Array.isArray(l)||(l=[]);let s=l.reduce((e,t)=>e+t.price.regularPrice*t.count,0);(0,m.I0)();let n=l.reduce((e,t)=>e+(t.price.regularPrice-t.price.discountedPrice)*t.count,0),o=s-n;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(D.D,{fw:"600",c:"gray.8",mb:"sm",children:"خلاصه فاکتور"}),(0,a.jsxs)(N.X,{py:"xl",pos:"relative",children:[(0,a.jsxs)(sw.K,{gap:"lg",children:[(0,a.jsxs)(l9.k,{justify:"space-between",children:[(0,a.jsx)(se.x,{size:"sm",c:"gray",children:"مجموع سبد خرید"}),(0,a.jsx)(se.x,{fw:"500",children:null==s?void 0:s.toLocaleString()})]}),(0,a.jsxs)(l9.k,{justify:"space-between",children:[(0,a.jsx)(se.x,{size:"sm",c:"gray",children:"تخفیف ها"}),(0,a.jsx)(se.x,{fw:"500",children:null==n?void 0:n.toLocaleString()})]})]}),(0,a.jsx)(sH.i,{my:"lg"}),(0,a.jsxs)(l9.k,{justify:"space-between",children:[(0,a.jsx)(se.x,{size:"sm",c:"gray",children:"مجموع"}),(0,a.jsx)(se.x,{fw:"500",children:null==o?void 0:o.toLocaleString()})]})]}),(0,a.jsxs)(sN.r,{mt:"md",children:[i&&(0,a.jsx)(sD.$,{span:{lg:6},children:(0,a.jsx)(z.z,{fullWidth:!0,h:"45",variant:"light",color:"gray",justify:"space-between",leftSection:(0,a.jsx)(sb.IconArrowRight,{size:16}),...i,children:"قبلی"})}),0!==l.length?(0,a.jsx)(sD.$,{span:{lg:i?6:12},children:(0,a.jsx)(z.z,{fullWidth:!0,h:"45",...r,children:t})}):null]})]})},oj=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"تصویر در دسترس نیست",t=`
  <svg viewBox="0 0 400 260" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="${e}">
    <defs>
      <radialGradient id="rad" cx="30%" cy="20%" r="90%">
        <stop offset="0%" stop-color="#eef2ff"/>
        <stop offset="60%" stop-color="#f8fafc"/>
        <stop offset="100%" stop-color="#ffffff"/>
      </radialGradient>
      <linearGradient id="lin" x1="0%" y1="0%" x2="100%" y2="100%">
        <stop offset="0%" stop-color="#c7d2fe"/>
        <stop offset="100%" stop-color="#94a3b8"/>
      </linearGradient>
      <pattern id="pat" width="24" height="24" patternUnits="userSpaceOnUse">
        <path d="M0 24 L24 0" stroke="#eef2ff" stroke-width="1"/>
      </pattern>
    </defs>
    <rect x="0" y="0" width="400" height="260" fill="url(#rad)"/>
    <rect x="0" y="0" width="400" height="260" fill="url(#pat)" opacity="0.35"/>
    <g transform="translate(200 120)">
      <rect x="-72" y="-56" width="144" height="112" rx="16" fill="#ffffff" stroke="rgba(0,0,0,0.06)"/>
      <rect x="-64" y="-48" width="128" height="96" rx="12" fill="url(#lin)" opacity="0.15"/>
      <path d="M-52 28 L-16 -8 L8 10 L28 -10 L52 28 Z" fill="url(#lin)" opacity="0.55"/>
      <circle cx="-30" cy="-18" r="10" fill="url(#lin)" opacity="0.75"/>
    </g>
    <g opacity="0.35" fill="url(#lin)">
      <circle cx="340" cy="44" r="3"/>
      <circle cx="360" cy="62" r="2"/>
      <circle cx="44" cy="180" r="3"/>
      <circle cx="70" cy="200" r="2"/>
    </g>
    <text x="200" y="224" text-anchor="middle" font-family="system-ui,-apple-system,Segoe UI,Roboto" font-size="16" fill="#64748b">${e}</text>
  </svg>`;return`data:image/svg+xml;utf8,${encodeURIComponent(t)}`}(),ov=e=>{var t,r,i,l;let{onRemoveStart:s,...n}=e,o=(e=>{let[t,r]=(0,p.useState)(oj);return(0,p.useEffect)(()=>{if((e=>{if(!e||"string"!=typeof e)return!0;let t=e.trim();if(!t||'[""]'===t||"[]"===t)return!0;let r=t.toLowerCase();return"null"===r||"undefined"===r})(e))return void r(oj);let t=!1,a=new Image;return a.onload=()=>{t||r(e)},a.onerror=()=>{t||r(oj)},a.src=e,()=>{t=!0}},[e]),t})((r=n).items&&Array.isArray(r.items)&&r.items.length>0&&(null==(l=r.items[0])?void 0:l.image)?r.items[0].image:r.image?r.image:(null==(i=r.product)?void 0:i.image)?r.product.image:r.img?r.img:null),d=n.items&&Array.isArray(n.items)&&n.items.length>0?n.items[0].name||n.items[0].title||"محصول":n.name?n.name:n.title?n.title:(null==(t=n.product)?void 0:t.name)?n.product.name:"محصول";return(0,a.jsx)(of,{...n,name:d,image:o,onRemoveStart:s,ImageComponent:()=>(0,a.jsx)("img",{src:o,alt:d,style:{width:"100%",height:200,objectFit:"cover",borderRadius:12,display:"block"},loading:"lazy"})})},oC=()=>(0,a.jsx)(I.W,{size:"lg",py:"xl",children:(0,a.jsx)(N.X,{p:"xl",radius:"xl",shadow:"sm",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",border:"none"},children:(0,a.jsx)(si.M,{h:"40vh",children:(0,a.jsxs)(sw.K,{align:"center",gap:"xl",children:[(0,a.jsxs)(sa.x,{style:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center"},children:[(0,a.jsx)(A.a,{size:"xl",color:"white",style:{filter:"drop-shadow(0 4px 8px rgba(0,0,0,0.2))"}}),(0,a.jsx)(sb.IconSparkles,{size:16,color:"white",style:{position:"absolute",top:-10,right:-10,animation:"sparkle 1.5s ease-in-out infinite"}})]}),(0,a.jsx)(se.x,{size:"lg",c:"white",fw:500,style:{textShadow:"0 2px 4px rgba(0,0,0,0.2)",textAlign:"center"},children:"در حال بارگذاری سبد خرید شما..."})]})})})}),ow=()=>(0,a.jsx)(I.W,{size:"sm",py:"xl",children:(0,a.jsx)(N.X,{p:"xl",radius:"xl",shadow:"md",style:{border:"1px solid #fecaca"},children:(0,a.jsx)(si.M,{children:(0,a.jsxs)(sw.K,{align:"center",gap:"xl",children:[(0,a.jsx)(sZ.k,{size:80,radius:"xl",style:{background:"linear-gradient(135deg, #ff6b6b 0%, #ee5a52 100%)",boxShadow:"0 8px 32px rgba(255, 107, 107, 0.3)"},children:(0,a.jsx)(sb.IconAlertCircle,{size:40})}),(0,a.jsxs)(sa.x,{ta:"center",children:[(0,a.jsx)(D.D,{order:3,mb:"sm",c:"red.7",children:"خطا در احراز هویت"}),(0,a.jsx)(se.x,{c:"dimmed",size:"sm",children:"برای ادامه لطفا مجدداً وارد شوید"})]}),(0,a.jsx)(z.z,{component:g.OL,to:"/login",size:"lg",radius:"xl",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",border:"none"},children:"ورود مجدد"})]})})})}),ok=e=>{let{onRetry:t}=e;return(0,a.jsx)(I.W,{size:"sm",py:"xl",children:(0,a.jsx)(N.X,{p:"xl",radius:"xl",shadow:"md",style:{border:"1px solid #fed7aa"},children:(0,a.jsx)(si.M,{children:(0,a.jsxs)(sw.K,{align:"center",gap:"xl",children:[(0,a.jsx)(sZ.k,{size:80,radius:"xl",style:{background:"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)",boxShadow:"0 8px 32px rgba(245, 158, 11, 0.3)"},children:(0,a.jsx)(sb.IconAlertCircle,{size:40})}),(0,a.jsxs)(sa.x,{ta:"center",children:[(0,a.jsx)(D.D,{order:3,mb:"sm",c:"orange.7",children:"خطا در بارگذاری سبد خرید"}),(0,a.jsx)(se.x,{c:"dimmed",size:"sm",children:"لطفا مجدداً تلاش کنید"})]}),(0,a.jsx)(z.z,{onClick:t,size:"lg",radius:"xl",style:{background:"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)",border:"none"},children:"تلاش مجدد"})]})})})})},oS=()=>(0,a.jsx)(I.W,{size:"lg",py:"xl",children:(0,a.jsx)(N.X,{p:"xl",radius:"xl",shadow:"sm",style:{background:"linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%)",border:"1px solid #e2e8f0"},children:(0,a.jsx)(si.M,{py:"xl",children:(0,a.jsxs)(sw.K,{align:"center",gap:"xl",children:[(0,a.jsxs)(sa.x,{style:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center"},children:[(0,a.jsx)(sZ.k,{size:120,radius:"xl",style:{background:"linear-gradient(135deg, #e2e8f0 0%, #cbd5e1 100%)",boxShadow:"0 12px 48px rgba(148, 163, 184, 0.2)",animation:"float 3s ease-in-out infinite"},children:(0,a.jsx)(sb.IconShoppingCartOff,{size:60,color:"#64748b"})}),(0,a.jsx)(sb.IconSparkles,{size:20,color:"#94a3b8",style:{position:"absolute",top:10,right:10,animation:"sparkle 2s ease-in-out infinite"}})]}),(0,a.jsxs)(sa.x,{ta:"center",maw:400,children:[(0,a.jsx)(D.D,{order:2,mb:"sm",style:{background:"linear-gradient(135deg, #64748b 0%, #475569 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:"سبد خرید خالی است"}),(0,a.jsx)(se.x,{c:"dimmed",mb:"xl",children:"هنوز هیچ محصولی به سبد خرید اضافه نکرده‌اید"}),(0,a.jsx)(z.z,{component:g.OL,to:"/products",size:"lg",radius:"xl",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",border:"none"},children:"مشاهده محصولات"})]})]})})})}),oI=e=>{let{active:t=0}=e;return(0,a.jsxs)(op.v,{mb:"xl",active:1,children:[(0,a.jsx)(op.v.Step,{label:"سبد خرید",icon:(0,a.jsx)(sb.IconShoppingCart,{})}),(0,a.jsx)(op.v.Step,{label:"اطلاعات خریدار",icon:(0,a.jsx)(sb.IconUserCheck,{})}),(0,a.jsx)(op.v.Step,{label:"انتخاب روش پرداخت",icon:(0,a.jsx)(sb.IconWallet,{})}),(0,a.jsx)(op.v.Step,{label:"پرداخت نهایی",icon:(0,a.jsx)(sb.IconCircleCheck,{})})]})};var oz=r(83970),oN=JSON.parse('[{"name":"آذربايجان شرقی","cities":[{"name":"تبريز","latitude":"38.50","longitude":"46.180"},{"name":"مراغه","latitude":"37.2335","longitude":"46.1439"},{"name":"ميانه","latitude":"37.230","longitude":"47.450"},{"name":"شبستر","latitude":"38.1048","longitude":"45.429"},{"name":"مرند","latitude":"38.260","longitude":"45.470"},{"name":"جلفا","latitude":"38.5622","longitude":"45.3732"},{"name":"سراب","latitude":"37.5629","longitude":"47.3210"},{"name":"هاديشهر","latitude":"38.510","longitude":"45.400"},{"name":"بناب","latitude":"38.260","longitude":"45.550"},{"name":"تسوج","latitude":"38.1854","longitude":"45.2136"},{"name":"اهر","latitude":"38.2839","longitude":"47.412"},{"name":"هريس","latitude":"38.1445","longitude":"47.659"},{"name":"هشترود","latitude":"37.2849","longitude":"47.257"},{"name":"ملكان","latitude":"37.839","longitude":"46.612"},{"name":"بستان آباد","latitude":"37.5044","longitude":"46.4951"},{"name":"ورزقان","latitude":"38.3048","longitude":"46.3931"},{"name":"اسكو","latitude":"37.5458","longitude":"46.724"},{"name":"ممقان","latitude":"37.5045","longitude":"45.5819"},{"name":"صوفیان","latitude":"45.98","longitude":"38.276"},{"name":"ایلخچی","latitude":"45.98","longitude":"37.939"},{"name":"خسروشهر","latitude":"46.051","longitude":"37.951"},{"name":"باسمنج","latitude":"46.492","longitude":"37.984"},{"name":"سهند","latitude":"37.5640","longitude":"46.74"}]},{"name":"آذربايجان غربی","cities":[{"name":"اروميه","latitude":"37.320","longitude":"45.40"},{"name":"نقده","latitude":"36.5719","longitude":"45.2332"},{"name":"ماكو","latitude":"39.1734","longitude":"44.3040"},{"name":"تكاب","latitude":"36.2353","longitude":"47.76"},{"name":"خوي","latitude":"38.330","longitude":"44.570"},{"name":"مهاباد","latitude":"36.450","longitude":"45.430"},{"name":"سر دشت","latitude":"30.200","longitude":"50.130"},{"name":"چالدران","latitude":"39.358","longitude":"44.2312"},{"name":"بوكان","latitude":"36.3115","longitude":"46.1226"},{"name":"مياندوآب","latitude":"36.586","longitude":"46.612"},{"name":"سلماس","latitude":"38.120","longitude":"44.460"},{"name":"شاهين دژ","latitude":"36.400","longitude":"46.340"},{"name":"پيرانشهر","latitude":"36.4146","longitude":"45.831"},{"name":"اشنويه","latitude":"37.30","longitude":"45.70"},{"name":"پلدشت","latitude":"39.2026","longitude":"45.357"}]},{"name":"اردبيل","cities":[{"name":"اردبيل","latitude":"38.140","longitude":"48.170"},{"name":"پارس آباد","latitude":"39.3827","longitude":"47.5423"},{"name":"خلخال","latitude":"37.3732","longitude":"48.3124"},{"name":"مشگين شهر","latitude":"38.240","longitude":"47.390"},{"name":"نمين","latitude":"38.250","longitude":"48.290"},{"name":"نير","latitude":"37.159","longitude":"47.5954"},{"name":"گرمي","latitude":"39.116","longitude":"48.449"}]},{"name":"اصفهان","cities":[{"name":"اصفهان","latitude":"32.390","longitude":"51.400"},{"name":"فلاورجان","latitude":"32.3332","longitude":"51.3037"},{"name":"گلپايگان","latitude":"33.270","longitude":"50.170"},{"name":"دهاقان","latitude":"31.560","longitude":"51.390"},{"name":"نطنز","latitude":"33.3049","longitude":"51.5455"},{"name":"تيران","latitude":"32.420","longitude":"51.90"},{"name":"كاشان","latitude":"33.590","longitude":"51.350"},{"name":"اردستان","latitude":"33.2228","longitude":"52.2157"},{"name":"سميرم","latitude":"31.250","longitude":"51.340"},{"name":"درچه","latitude":"32.3647","longitude":"51.3311"},{"name":"کوهپایه","latitude":"32.436","longitude":"52.2618"},{"name":"مباركه","latitude":"29.540","longitude":"54.270"},{"name":"شهرضا","latitude":"31.5952","longitude":"51.5129"},{"name":"خميني شهر","latitude":"32.410","longitude":"51.320"},{"name":"نجف آباد","latitude":"32.380","longitude":"51.230"},{"name":"زرين شهر","latitude":"32.2346","longitude":"51.2248"},{"name":"آران و بيدگل","latitude":"34.338","longitude":"51.2847"},{"name":"باغ بهادران","latitude":"51.19","longitude":"32.376"},{"name":"خوانسار","latitude":"33.130","longitude":"50.190"},{"name":"علويجه","latitude":"33.321","longitude":"51.51"},{"name":"عسگران","latitude":"32.520","longitude":"50.510"},{"name":"حاجي آباد","latitude":"33.3622","longitude":"59.5957"},{"name":"تودشک","latitude":"32.4339","longitude":"52.388"},{"name":"ورزنه","latitude":"32.2458","longitude":"52.3813"}]},{"name":"ايلام","cities":[{"name":"ايلام","latitude":"33.380","longitude":"46.250"},{"name":"مهران","latitude":"33.70","longitude":"46.100"},{"name":"دهلران","latitude":"32.410","longitude":"47.160"},{"name":"آبدانان","latitude":"32.5930","longitude":"47.2512"},{"name":"دره شهر","latitude":"33.823","longitude":"47.2233"},{"name":"ايوان","latitude":"33.502","longitude":"46.1833"},{"name":"سرابله","latitude":"33.4611","longitude":"46.3332"}]},{"name":"بوشهر","cities":[{"name":"بوشهر","latitude":"28.590","longitude":"50.500"},{"name":"دير","latitude":"27.510","longitude":"51.590"},{"name":"كنگان","latitude":"27.500","longitude":"52.40"},{"name":"گناوه","latitude":"29.340","longitude":"50.310"},{"name":"خورموج","latitude":"51.38","longitude":"28.655"},{"name":"اهرم","latitude":"28.530","longitude":"51.160"},{"name":"برازجان","latitude":"29.160","longitude":"51.120"},{"name":"جم","latitude":"27.490","longitude":"52.200"},{"name":"کاکی","latitude":"28.200","longitude":"51.310"},{"name":"عسلویه","latitude":"27.2835","longitude":"52.3650"}]},{"name":"تهران","cities":[{"name":"تهران","latitude":"35.410","longitude":"51.240"},{"name":"ورامين","latitude":"35.200","longitude":"51.380"},{"name":"فيروزكوه","latitude":"35.450","longitude":"52.460"},{"name":"ري","latitude":"35.358","longitude":"51.269"},{"name":"دماوند","latitude":"35.430","longitude":"52.40"},{"name":"اسلامشهر","latitude":"51.232","longitude":"35.552"},{"name":"رودهن","latitude":"35.4412","longitude":"51.5441"},{"name":"لواسان","latitude":"51.783","longitude":"35.825"},{"name":"بومهن","latitude":"35.4347","longitude":"51.5143"},{"name":"تجريش","latitude":"35.4816","longitude":"51.2532"},{"name":"فشم","latitude":"51.526","longitude":"35.931"},{"name":"كهريزك","latitude":"35.3103","longitude":"51.2135"},{"name":"پاكدشت","latitude":"35.2854","longitude":"51.4049"},{"name":"چهاردانگه","latitude":"51.309","longitude":"35.604"},{"name":"شريف آباد","latitude":"35.2539","longitude":"51.4707"},{"name":"قرچك","latitude":"35.2610","longitude":"51.3420"},{"name":"باقرشهر","latitude":"35.3157","longitude":"51.2409"},{"name":"شهريار","latitude":"35.3927","longitude":"51.335"},{"name":"رباط كريم","latitude":"35.2843","longitude":"51.449"},{"name":"قدس","latitude":"35.4317","longitude":"51.632"},{"name":"ملارد","latitude":"35.3927","longitude":"50.5835"}]},{"name":"چهارمحال بختیاری","cities":[{"name":"شهركرد","latitude":"32.190","longitude":"50.510"},{"name":"فارسان","latitude":"32.1527","longitude":"50.3341"},{"name":"بروجن","latitude":"31.580","longitude":"51.170"},{"name":"چلگرد","latitude":"50.138","longitude":"32.462"},{"name":"اردل","latitude":"31.5958","longitude":"50.3935"},{"name":"لردگان","latitude":"31.310","longitude":"50.500"}]},{"name":"خراسان جنوبی","cities":[{"name":"قائن","latitude":"33.430","longitude":"59.60"},{"name":"فردوس","latitude":"34.00","longitude":"58.90"},{"name":"بيرجند","latitude":"32.5216","longitude":"59.1315"},{"name":"نهبندان","latitude":"31.320","longitude":"60.20"},{"name":"سربيشه","latitude":"32.3432","longitude":"59.4755"}]},{"name":"خراسان رضوی","cities":[{"name":"مشهد","latitude":"36.170","longitude":"59.350"},{"name":"نيشابور","latitude":"36.130","longitude":"58.490"},{"name":"سبزوار","latitude":"36.130","longitude":"57.400"},{"name":"كاشمر","latitude":"35.144","longitude":"58.2738"},{"name":"گناباد","latitude":"34.2141","longitude":"58.4157"},{"name":"طبس","latitude":"33.370","longitude":"56.540"},{"name":"تربت حيدريه","latitude":"35.1627","longitude":"59.139"},{"name":"خواف","latitude":"34.320","longitude":"60.50"},{"name":"تربت جام","latitude":"35.160","longitude":"60.360"},{"name":"تايباد","latitude":"34.440","longitude":"60.470"},{"name":"قوچان","latitude":"37.40","longitude":"58.320"},{"name":"سرخس","latitude":"36.320","longitude":"61.100"},{"name":"فريمان","latitude":"35.460","longitude":"59.490"},{"name":"چناران","latitude":"59.121","longitude":"36.642"},{"name":"درگز","latitude":"37.2640","longitude":"59.628"},{"name":"طرقبه","latitude":"36.1837","longitude":"59.2225"}]},{"name":"خراسان شمالی","cities":[{"name":"بجنورد","latitude":"37.2835","longitude":"57.1954"},{"name":"اسفراين","latitude":"37.436","longitude":"57.3035"},{"name":"جاجرم","latitude":"36.573","longitude":"56.2244"},{"name":"شيروان","latitude":"33.340","longitude":"46.520"},{"name":"آشخانه","latitude":"37.3352","longitude":"56.556"}]},{"name":"خوزستان","cities":[{"name":"اهواز","latitude":"31.190","longitude":"48.410"},{"name":"ايرانشهر","latitude":"27.150","longitude":"60.410"},{"name":"شوش","latitude":"32.120","longitude":"48.150"},{"name":"آبادان","latitude":"30.2024","longitude":"48.1814"},{"name":"خرمشهر","latitude":"30.2539","longitude":"48.118"},{"name":"مسجد سليمان","latitude":"31.590","longitude":"49.180"},{"name":"ايذه","latitude":"31.500","longitude":"49.520"},{"name":"شوشتر","latitude":"32.30","longitude":"48.510"},{"name":"انديمشك","latitude":"32.270","longitude":"48.200"},{"name":"سوسنگرد","latitude":"31.400","longitude":"48.60"},{"name":"هويزه","latitude":"31.2740","longitude":"48.428"},{"name":"دزفول","latitude":"32.2255","longitude":"48.2411"},{"name":"شادگان","latitude":"30.390","longitude":"48.400"},{"name":"بندر ماهشهر","latitude":"30.340","longitude":"49.100"},{"name":"بندر امام خميني","latitude":"30.250","longitude":"49.20"},{"name":"بهبهان","latitude":"30.360","longitude":"50.150"},{"name":"رامهرمز","latitude":"31.170","longitude":"49.360"},{"name":"باغ ملك","latitude":"31.310","longitude":"49.530"},{"name":"هنديجان","latitude":"30.140","longitude":"49.430"},{"name":"لالي","latitude":"32.1947","longitude":"49.538"},{"name":"رامشیر","latitude":"30.5335","longitude":"49.2425"},{"name":"حمیدیه","latitude":"31.290","longitude":"48.260"},{"name":"ملاثانی","latitude":"31.356","longitude":"48.5310"},{"name":"شادگان","latitude":"30.390","longitude":"48.400"}]},{"name":"زنجان","cities":[{"name":"زنجان","latitude":"36.400","longitude":"48.290"},{"name":"ابهر","latitude":"36.80","longitude":"49.130"},{"name":"خدابنده","latitude":"36.00","longitude":"48.30"},{"name":"ماهنشان","latitude":"36.4440","longitude":"47.4022"},{"name":"خرمدره","latitude":"36.1240","longitude":"49.1147"},{"name":"آب بر","latitude":"36.550","longitude":"48.580"},{"name":"قيدار","latitude":"36.717","longitude":"48.3528"}]},{"name":"سمنان","cities":[{"name":"سمنان","latitude":"35.340","longitude":"53.230"},{"name":"شاهرود","latitude":"36.250","longitude":"55.00"},{"name":"گرمسار","latitude":"35.150","longitude":"52.200"},{"name":"ايوانكي","latitude":"35.210","longitude":"52.40"},{"name":"دامغان","latitude":"36.90","longitude":"54.220"},{"name":"بسطام","latitude":"36.293","longitude":"54.5956"}]},{"name":"سيستان و بلوچستان","cities":[{"name":"زاهدان","latitude":"29.320","longitude":"60.540"},{"name":"چابهار","latitude":"60.634","longitude":"25.296"},{"name":"خاش","latitude":"28.130","longitude":"61.130"},{"name":"سراوان","latitude":"27.2214","longitude":"62.203"},{"name":"زابل","latitude":"31.00","longitude":"61.320"},{"name":"سرباز","latitude":"26.400","longitude":"61.200"},{"name":"ايرانشهر","latitude":"27.150","longitude":"60.410"},{"name":"ميرجاوه","latitude":"29.10","longitude":"61.300"}]},{"name":"فارس","cities":[{"name":"شيراز","latitude":"29.360","longitude":"52.310"},{"name":"اقليد","latitude":"30.530","longitude":"52.410"},{"name":"داراب","latitude":"28.450","longitude":"54.330"},{"name":"فسا","latitude":"28.550","longitude":"53.390"},{"name":"مرودشت","latitude":"52.802","longitude":"29.874"},{"name":"آباده","latitude":"31.60","longitude":"52.400"},{"name":"كازرون","latitude":"29.350","longitude":"51.400"},{"name":"سپيدان","latitude":"30.1432","longitude":"51.5938"},{"name":"لار","latitude":"27.420","longitude":"54.190"},{"name":"فيروز آباد","latitude":"26.170","longitude":"61.250"},{"name":"جهرم","latitude":"28.290","longitude":"53.320"},{"name":"استهبان","latitude":"29.80","longitude":"54.20"},{"name":"لامرد","latitude":"27.300","longitude":"53.200"},{"name":"مهر","latitude":"27.330","longitude":"52.530"},{"name":"حاجي آباد","latitude":"33.3622","longitude":"59.5957"},{"name":"اردكان","latitude":"32.200","longitude":"53.590"},{"name":"صفاشهر","latitude":"30.3446","longitude":"53.84"},{"name":"ارسنجان","latitude":"29.550","longitude":"53.1743"},{"name":"سوريان","latitude":"30.2749","longitude":"53.2648"},{"name":"فراشبند","latitude":"28.530","longitude":"52.70"},{"name":"سروستان","latitude":"29.160","longitude":"53.130"},{"name":"زرقان","latitude":"29.4628","longitude":"52.4329"},{"name":"کوار","latitude":"29.1217","longitude":"52.4124"},{"name":"بوانات","latitude":"30.2915","longitude":"53.3534"},{"name":"خرامه","latitude":"53.321","longitude":"29.501"},{"name":"خنج","latitude":"27.530","longitude":"53.260"}]},{"name":"قزوين","cities":[{"name":"قزوين","latitude":"36.167","longitude":"50.010"},{"name":"تاكستان","latitude":"36.20","longitude":"49.400"},{"name":"آبيك","latitude":"36.30","longitude":"50.310"},{"name":"بوئين زهرا","latitude":"35.466","longitude":"50.331"}]},{"name":"قم","cities":[{"name":"قم","latitude":"34.380","longitude":"50.530"}]},{"name":"کرج","cities":[{"name":"طالقان","latitude":"36.100","longitude":"50.445"},{"name":"نظرآباد","latitude":"50.608","longitude":"35.956"},{"name":"اشتهارد","latitude":"35.430","longitude":"50.220"},{"name":"هشتگرد","latitude":"35.5742","longitude":"50.4048"},{"name":"كرج","latitude":"35.490","longitude":"50.580"},{"name":"ماهدشت","latitude":"50.813","longitude":"35.727"}]},{"name":"كردستان","cities":[{"name":"سنندج","latitude":"35.180","longitude":"47.10"},{"name":"بانه","latitude":"35.590","longitude":"45.540"},{"name":"بيجار","latitude":"35.520","longitude":"47.390"},{"name":"سقز","latitude":"36.140","longitude":"46.150"},{"name":"قروه","latitude":"35.90","longitude":"47.480"},{"name":"مريوان","latitude":"35.310","longitude":"46.100"},{"name":"صلوات آباد","latitude":"35.160","longitude":"47.70"},{"name":"حسن آباد","latitude":"35.222","longitude":"51.1412"}]},{"name":"كرمان","cities":[{"name":"كرمان","latitude":"30.160","longitude":"57.40"},{"name":"راور","latitude":"31.150","longitude":"56.510"},{"name":"انار","latitude":"30.550","longitude":"55.150"},{"name":"کوهبنان","latitude":"31.250","longitude":"56.170"},{"name":"رفسنجان","latitude":"30.250","longitude":"56.00"},{"name":"بافت","latitude":"29.120","longitude":"56.360"},{"name":"سيرجان","latitude":"29.270","longitude":"55.400"},{"name":"كهنوج","latitude":"27.5653","longitude":"57.4155"},{"name":"زرند","latitude":"30.500","longitude":"56.350"},{"name":"بم","latitude":"29.70","longitude":"58.200"},{"name":"جيرفت","latitude":"28.400","longitude":"57.440"},{"name":"بردسير","latitude":"29.5541","longitude":"56.3427"}]},{"name":"كرمانشاه","cities":[{"name":"كرمانشاه","latitude":"34.180","longitude":"47.30"},{"name":"اسلام آباد غرب","latitude":"46.528","longitude":"34.111"},{"name":"كنگاور","latitude":"34.290","longitude":"47.550"},{"name":"سنقر","latitude":"34.470","longitude":"47.360"},{"name":"قصر شيرين","latitude":"34.310","longitude":"45.350"},{"name":"هرسين","latitude":"34.160","longitude":"47.350"},{"name":"صحنه","latitude":"34.290","longitude":"47.410"},{"name":"پاوه","latitude":"35.30","longitude":"46.220"},{"name":"جوانرود","latitude":"34.4823","longitude":"46.3023"}]},{"name":"كهكيلويه و بويراحمد","cities":[{"name":"ياسوج","latitude":"30.390","longitude":"51.350"},{"name":"گچساران","latitude":"30.2128","longitude":"50.4757"},{"name":"دوگنبدان","latitude":"50.792","longitude":"30.357"},{"name":"سي سخت","latitude":"30.520","longitude":"51.270"},{"name":"دهدشت","latitude":"30.4741","longitude":"50.3352"}]},{"name":"گلستان","cities":[{"name":"گرگان","latitude":"36.500","longitude":"54.250"},{"name":"آق قلا","latitude":"37.10","longitude":"54.2757"},{"name":"گنبد كاووس","latitude":"37.150","longitude":"55.100"},{"name":"علي آباد كتول","latitude":"36.5429","longitude":"54.5148"},{"name":"كردكوی","latitude":"36.4748","longitude":"54.655"},{"name":"كلاله","latitude":"37.2251","longitude":"55.2930"},{"name":"آزاد شهر","latitude":"37.50","longitude":"55.100"},{"name":"راميان","latitude":"37.024","longitude":"55.835"}]},{"name":"گيلان","cities":[{"name":"رشت","latitude":"37.160","longitude":"49.350"},{"name":"منجيل","latitude":"36.440","longitude":"49.250"},{"name":"لنگرود","latitude":"37.120","longitude":"50.90"},{"name":"تالش","latitude":"37.484","longitude":"48.5428"},{"name":"آستارا","latitude":"38.2518","longitude":"48.5221"},{"name":"ماسوله","latitude":"48.99","longitude":"37.156"},{"name":"رودبار","latitude":"36.4920","longitude":"49.2533"},{"name":"فومن","latitude":"37.150","longitude":"49.190"},{"name":"صومعه سرا","latitude":"37.180","longitude":"49.180"},{"name":"هشتپر","latitude":"48.907","longitude":"37.797"},{"name":"ماسال","latitude":"37.2249","longitude":"49.633"},{"name":"شفت","latitude":"37.90","longitude":"49.240"},{"name":"املش","latitude":"37.520","longitude":"50.1114"},{"name":"لاهیجان","latitude":"37.130","longitude":"50.00"}]},{"name":"لرستان","cities":[{"name":"خرم آباد","latitude":"33.290","longitude":"48.210"},{"name":"ماهشهر","latitude":"49.18","longitude":"30.546"},{"name":"دزفول","latitude":"32.2255","longitude":"48.2411"},{"name":"بروجرد","latitude":"33.550","longitude":"48.480"},{"name":"دورود","latitude":"33.2940","longitude":"49.425"},{"name":"اليگودرز","latitude":"33.230","longitude":"49.420"},{"name":"ازنا","latitude":"33.2713","longitude":"49.279"},{"name":"نور آباد","latitude":"47.972","longitude":"34.074"},{"name":"كوهدشت","latitude":"33.320","longitude":"47.360"},{"name":"الشتر","latitude":"33.522","longitude":"48.1546"}]},{"name":"مازندران","cities":[{"name":"ساري","latitude":"36.330","longitude":"53.30"},{"name":"آمل","latitude":"36.280","longitude":"52.220"},{"name":"بابل","latitude":"36.330","longitude":"52.410"},{"name":"بابلسر","latitude":"36.420","longitude":"52.390"},{"name":"بهشهر","latitude":"36.420","longitude":"53.330"},{"name":"تنكابن","latitude":"36.490","longitude":"50.530"},{"name":"جويبار","latitude":"36.380","longitude":"52.550"},{"name":"چالوس","latitude":"36.390","longitude":"51.250"},{"name":"رامسر","latitude":"37.5426","longitude":"50.3944"},{"name":"قائم شهر","latitude":"52.859","longitude":"36.466"},{"name":"نكا","latitude":"36.390","longitude":"53.180"},{"name":"نور","latitude":"36.3410","longitude":"52.049"},{"name":"بلده","latitude":"36.120","longitude":"51.490"},{"name":"نوشهر","latitude":"36.390","longitude":"51.300"},{"name":"محمود آباد","latitude":"52.278","longitude":"36.634"}]},{"name":"مرکزی","cities":[{"name":"اراك","latitude":"34.50","longitude":"49.410"},{"name":"آشتيان","latitude":"34.320","longitude":"50.00"},{"name":"تفرش","latitude":"34.4139","longitude":"50.055"},{"name":"خمين","latitude":"33.380","longitude":"50.40"},{"name":"دليجان","latitude":"33.590","longitude":"50.410"},{"name":"ساوه","latitude":"35.117","longitude":"50.2124"},{"name":"محلات","latitude":"33.540","longitude":"50.280"},{"name":"شازند","latitude":"33.5616","longitude":"49.250"}]},{"name":"هرمزگان","cities":[{"name":"بندرعباس","latitude":"56.266","longitude":"27.18"},{"name":"قشم","latitude":"26.580","longitude":"56.170"},{"name":"كيش","latitude":"26.320","longitude":"53.580"},{"name":"بندر لنگه","latitude":"26.340","longitude":"54.520"},{"name":"بستك","latitude":"27.160","longitude":"54.260"},{"name":"حاجي آباد","latitude":"33.3622","longitude":"59.5957"},{"name":"دهبارز","latitude":"27.2540","longitude":"57.126"},{"name":"ميناب","latitude":"27.70","longitude":"57.60"},{"name":"بندر جاسك","latitude":"25.3839","longitude":"57.4624"},{"name":"بندر خمیر","latitude":"26.570","longitude":"55.350"},{"name":"قشم","latitude":"26.580","longitude":"56.170"}]},{"name":"همدان","cities":[{"name":"همدان","latitude":"34.470","longitude":"48.300"},{"name":"ملاير","latitude":"34.180","longitude":"48.490"},{"name":"نهاوند","latitude":"34.130","longitude":"48.210"},{"name":"رزن","latitude":"49.033","longitude":"35.39"},{"name":"اسدآباد","latitude":"48.123","longitude":"34.783"},{"name":"بهار","latitude":"34.5425","longitude":"48.2622"}]},{"name":"يزد","cities":[{"name":"يزد","latitude":"31.530","longitude":"54.210"},{"name":"تفت","latitude":"31.450","longitude":"54.120"},{"name":"اردكان","latitude":"32.200","longitude":"53.590"},{"name":"ابركوه","latitude":"31.741","longitude":"53.1652"},{"name":"ميبد","latitude":"32.140","longitude":"54.10"},{"name":"طبس","latitude":"33.370","longitude":"56.540"},{"name":"بافق","latitude":"31.360","longitude":"55.240"},{"name":"مهريز","latitude":"31.359","longitude":"54.2520"},{"name":"اشكذر","latitude":"31.5938","longitude":"54.1220"},{"name":"هرات","latitude":"30.40","longitude":"54.220"},{"name":"خضرآباد","latitude":"53.953","longitude":"31.866"},{"name":"زارچ","latitude":"54.26","longitude":"31.979"}]}]');let oD=sc.Ry().shape({name:sc.Z_().required("نام الزامی است"),family:sc.Z_().required("نام خانوادگی الزامی است"),mobile:sc.Z_().matches(/^(\d{4})\s?(\d{3})\s?(\d{4})$/,"فرمت شماره موبایل صحیح نیست").required("شماره موبایل الزامی است"),postalCode:sc.Z_().matches(/^[0-9]{10}$/,"کد پستی باید 10 رقم باشد").required("کد پستی الزامی است"),nationalCode:sc.Z_().matches(/^[0-9]{10}$/,"کد ملی باید 10 رقم باشد").required("کد ملی الزامی است"),province:sc.Z_().required("استان الزامی است"),city:sc.Z_().required("شهر الزامی است"),address:sc.Z_().required("آدرس الزامی است"),socialNumber:sc.Z_().matches(/^(\d{4})\s?(\d{3})\s?(\d{4})$/,"فرمت شماره موبایل صحیح نیست").required("شماره موبایل الزامی است")}),oA=oN.map(e=>({label:e.name,value:e.name}));var oF=r(83163);let oM=e=>(0,a.jsxs)(op.v,{mb:"xl",active:e.active,children:[(0,a.jsx)(op.v.Step,{label:"سبد خرید",icon:(0,a.jsx)(sb.IconShoppingCart,{})}),(0,a.jsx)(op.v.Step,{label:"اطلاعات خریدار",icon:(0,a.jsx)(sb.IconUserCheck,{})}),(0,a.jsx)(op.v.Step,{label:"انتخاب روش پرداخت",icon:(0,a.jsx)(sb.IconWallet,{})}),(0,a.jsx)(op.v.Step,{label:"پرداخت نهایی",icon:(0,a.jsx)(sb.IconShoppingCart,{})})]}),oT=e=>{var t,r;let{children:i,prev:l,gateway:s}=e,n=(0,m.I0)(),{orderfinalreceipt:o,loadingfinalreceipt:d,errorfinalreceipt:c}=(0,m.v9)(e=>e.cartfinalreceipt),u=(0,g.s0)(),x=e=>{if(!(null==o?void 0:o.orderTracking))return null;let t=o.orderTracking.find(t=>t.supplierId===e);return t?t.orderId:null},b=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;n(ej({paymentMethod:s})),n(en());let t=null,r=[];e&&(null==o?void 0:o.sellers)&&(t=o.sellers.find(t=>t.seller.id===e),(null==o?void 0:o.orderTracking)&&(r=o.orderTracking.filter(t=>t.supplierId===e))),u("/payment-info",{state:{gateway:s,sellerId:e,sellerData:t,orderTracking:r}})},f=async e=>{var t;let r=x(e);if(!r)return void h.N9.show({title:"خطا",message:"شناسه سفارش یافت نشد!",color:"red"});let a=await n(a9({vatRequested:!0,orderId:r}));(null==a||null==(t=a.payload)?void 0:t.status)==="OK"?h.N9.show({title:"پیام سیستم",message:"درخواست فاکتور با موفقیت ثبت شد",color:"green"}):h.N9.show({title:"خطا",message:"مشکلی در ثبت درخواست فاکتور پیش آمد!",color:"red"}),n(en())},y=async e=>{var t;let r=x(e);if(!r)return void h.N9.show({title:"خطا",message:"شناسه سفارش یافت نشد!",color:"red"});let a=await n(a9({vatRequested:!1,orderId:r}));(null==a||null==(t=a.payload)?void 0:t.status)==="OK"?h.N9.show({title:"پیام سیستم",message:"درخواست حذف فاکتور با موفقیت ثبت شد",color:"green"}):h.N9.show({title:"خطا",message:"مشکلی در ثبت درخواست حذف فاکتور پیش آمد!",color:"red"}),n(en())};return((0,p.useEffect)(()=>{n(en())},[n]),c)?(0,a.jsx)(se.x,{color:"red",children:c}):(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(sN.r,{mt:"md",gutter:"lg",children:[(null==o||null==(t=o.sellers)?void 0:t.length)>0?o.sellers.map(e=>(0,a.jsx)(sD.$,{span:12,children:(0,a.jsxs)(N.X,{p:"md",shadow:"xs",fullWidth:!0,children:[(0,a.jsxs)(l9.k,{justify:"space-between",align:"center",mb:"md",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)(D.D,{order:3,children:["فروشنده: ",e.seller.label," (ID: ",e.seller.id,")"]}),(0,a.jsxs)(se.x,{size:"sm",c:"gray",children:["مجموع قیمت از این فروشنده: ",e.priceApplyEachSeller," تومان"]})]}),(0,a.jsx)(z.z,{onClick:()=>b(e.seller.id),h:"40",style:{minWidth:"80px"},children:i})]}),(0,a.jsx)(sH.i,{my:"sm"}),(0,a.jsxs)(sw.K,{children:[e.items.map((e,t)=>{var r;return(0,a.jsxs)(N.X,{p:"sm",fullWidth:!0,children:[(0,a.jsx)(l9.k,{justify:"space-between",align:"center",children:(0,a.jsxs)(sw.K,{gap:"xs",children:[(0,a.jsx)(se.x,{size:"sm",fw:"600",children:e.item.name}),!(null==(r=e.item.productId)?void 0:r.includes("subscription"))&&(e=>{let t=e.item.attributes;if(!t||!Array.isArray(t)||0===t.length)return null;let r=new Map;if(t.forEach(e=>{Object.entries(e).forEach(e=>{let[t,a]=e;null!=a&&""!==a&&r.set(t,a)})}),0===r.size)return null;let i={material:"جنس",جنس:"جنس",color:"رنگ",رنگ:"رنگ",size:"سایز",سایز:"سایز"};return(0,a.jsx)(se.x,{size:"xs",c:"gray",children:Array.from(r.entries()).map((e,t)=>{let l,[s,n]=e,o=i[s]||s,d="color"===s||"رنگ"===s;return l="object"==typeof n?n.name||JSON.stringify(n):n,(0,a.jsxs)("span",{children:[o,": ",d?(0,a.jsx)("span",{style:{color:l},children:"⬤"}):l,t<r.size-1&&" | "]},s)})})})(e)]})}),(0,a.jsxs)(l9.k,{justify:"space-between",align:"center",mt:"xs",children:[(0,a.jsx)(se.x,{size:"sm",c:"gray",children:"قیمت:"}),(0,a.jsx)(se.x,{size:"sm",fw:"bold",children:e.item.priceWithVat.discountedPriceWithVat?`${e.item.priceWithVat.discountedPriceWithVat} \u{62A}\u{648}\u{645}\u{627}\u{646}`:`${e.item.priceWithVat.regularPriceWithVat} \u{62A}\u{648}\u{645}\u{627}\u{646}`})]})]},t)}),(0,a.jsx)(l9.k,{children:(0,a.jsx)(sD.$,{children:e.vatRequested?(0,a.jsx)(z.z,{onClick:()=>y(e.seller.id),h:35,w:"120px",color:"green",leftSection:(0,a.jsx)(sb.IconCheck,{size:14}),style:{fontSize:10,fontWeight:700,minWidth:110},children:"حذف فاکتور"}):(0,a.jsx)(z.z,{onClick:()=>f(e.seller.id),h:35,w:"100px",color:"blue",style:{fontSize:8,fontWeight:700,minWidth:90},children:"درخواست فاکتور"})})})]})]})},e.seller.id)):(0,a.jsx)(se.x,{children:"هیچ آیتمی موجود نیست"}),(null==o||null==(r=o.sellers)?void 0:r.length)>0&&(0,a.jsxs)(sD.$,{span:12,children:[(0,a.jsx)(D.D,{fw:"600",c:"gray.8",mb:"sm",children:"خلاصه فاکتور"}),(0,a.jsxs)(N.X,{py:"xl",pos:"relative",fullWidth:!0,children:[(0,a.jsxs)(sw.K,{gap:"lg",children:[(0,a.jsxs)(l9.k,{direction:"row",justify:"space-between",children:[(0,a.jsx)(se.x,{size:"sm",c:"gray",children:"مجموع سبد خرید"}),(0,a.jsxs)(se.x,{size:"sm",fw:"bold",children:[null==o?void 0:o.totalPriceApply," تومان"]})]}),(0,a.jsxs)(l9.k,{direction:"row",justify:"space-between",children:[(0,a.jsx)(se.x,{size:"sm",c:"gray",children:"مجموع سبد خرید (با اعمال کد تخفیف)"}),(0,a.jsxs)(se.x,{size:"sm",fw:"bold",children:[null==o?void 0:o.totalPriceToPay," تومان"]})]})]}),(0,a.jsx)(sH.i,{my:"lg"})]})]})]})})},oP=(0,_.hg)("cart/updateFinalReceiptDeleteDiscountCode",async(e,t)=>{let{discountCode:r}=e,{rejectWithValue:a}=t,i=localStorage.getItem("user");try{let e=await fetch(et("/cart/removeDiscount"),{method:"POST",headers:{"Content-Type":"application/json"},headers:new Headers({Authorization:`Bearer ${i}`,"Content-Type":"application/json"}),body:JSON.stringify({discountCode:r})});if(!e.ok){let t=await e.json().catch(()=>({})),r={status:e.status,message:(null==t?void 0:t.message)||eu(e.status)};return a(r)}return await e.json()}catch(e){return console.error("Network error:",e),a("Network error or server not responding")}}),oE=e=>{let{size:t=30,color:r="var(--mantine-color-gray-6)"}=e;return(0,a.jsxs)("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("rect",{x:"2",y:"5",width:"20",height:"14",rx:"2",stroke:r,strokeWidth:"2"}),(0,a.jsx)("line",{x1:"2",y1:"10",x2:"22",y2:"10",stroke:r,strokeWidth:"2"}),(0,a.jsx)("circle",{cx:"7",cy:"15",r:"1",fill:r}),(0,a.jsx)("circle",{cx:"11",cy:"15",r:"1",fill:r})]})},o_=e=>{var t;let{src:r,alt:i,size:l=30,style:s={},onError:n}=e,[o,d]=(0,p.useState)(!1),[c,u]=(0,p.useState)(!0);return!(!(!(t=r)||"string"!=typeof t||""===t.trim()||"null"===t||"undefined"===t||Array.isArray(t)&&(0===t.length||1===t.length&&(""===t[0]||!t[0])))&&1)||o?(0,a.jsx)(oE,{size:l}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("img",{src:r,alt:i||"Payment method",style:{width:l,height:l,display:c||o?"none":"block",...s},onLoad:()=>{u(!1),d(!1)},onError:e=>{d(!0),u(!1),n&&n(e)}}),c&&!o&&(0,a.jsx)("div",{style:{width:l,height:l,backgroundColor:"#f0f0f0",borderRadius:"4px",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,a.jsx)("div",{style:{fontSize:"10px",color:"#999"},children:"..."})})]})},oL=e=>{var t,r,i,l,s,n,o,d;let{isDiscountApplied:c,setIsDiscountApplied:u,gateway:x}=e,b=(0,m.I0)(),{orderfinalreceipt:f}=(0,m.v9)(e=>e.cartfinalreceipt),y=(0,g.s0)(),{cartfinalreceiptDiscount:j=[],totalfinalreceiptDiscount:v,loadingUpdateDiscount:C,errorUpdateDiscount:w}=(0,m.v9)(e=>e.cartFinalReceiptUpdateDiscount),{cartfinalreceiptDiscountDelete:k=[],totalfinalreceiptDiscountDelete:S,loadingUpdateDiscountDelete:I,errorUpdateDiscountDelete:A}=(0,m.v9)(e=>e.cartFinalReceiptUpdateDiscountDelete),[F,M]=(0,p.useState)(!1),[T,P]=(0,p.useState)(!1),[E,_]=(0,p.useState)({}),L=(0,sd.c)({initialValues:{code:""},validate:{code:e=>e.length<2?"کد تخفیف را وارد کنید":null}});(0,p.useEffect)(()=>{if(j&&j.state){M(!0);let e=setTimeout(()=>{M(!1)},2e3);return()=>clearTimeout(e)}},[j]),(0,p.useEffect)(()=>{let e=w&&void 0!==w.status&&!isNaN(Number(w.status));w&&0===Object.keys(w).length||!e||[400,401,403,404,405,406,408,409,410,411,412,413,414,415,416,417,422,429].includes(Number(w.status))||(_({}),L.setErrors({}),h.N9.show({title:(null==w?void 0:w.message)||"خطایی رخ داده است",color:"red",autoClose:!0}))},[j,w]),(0,p.useEffect)(()=>{(null==w?void 0:w.status)&&sv(w.status,P,y)},[w]),(0,p.useEffect)(()=>{if(k&&k.state){M(!0);let e=setTimeout(()=>{M(!1)},2e3);return()=>clearTimeout(e)}},[k]),(0,p.useEffect)(()=>{let e=A&&void 0!==A.status&&!isNaN(Number(A.status));A&&0===Object.keys(A).length||!e||[400,401,403,404,405,406,408,409,410,411,412,413,414,415,416,417,422,429].includes(Number(A.status))||(L.setErrors({}),h.N9.show({title:(null==A?void 0:A.message)||"خطایی رخ داده است",color:"red",autoClose:!0}))},[k,A]),(0,p.useEffect)(()=>{(null==A?void 0:A.status)&&sv(A.status,P,y)},[A]);let B=async e=>{try{var t;let r=await b(em({discountCode:e.code,paymentMethod:x}));(null==r||null==(t=r.payload)?void 0:t.status)==="OK"?(u(!0),h.N9.show({title:"پیام سیستم",message:"کد تخفیف و روش پرداخت اعمال شد!",color:"green"})):h.N9.show({title:"خطا",message:"مشکلی در اعمال کد تخفیف پیش آمد!",color:"red"}),b(en())}catch(e){h.N9.show({title:"خطا",message:"مشکلی در اتصال به سرور پیش آمد!",color:"red"})}},O=async()=>{try{var e;let t=await b(oP({discountCode:f.cartDiscounts.discountCode.code}));(null==t||null==(e=t.payload)?void 0:e.status)==="OK"?h.N9.show({title:"پیام سیستم",message:"کد تخفیف حذف شد!",color:"green"}):h.N9.show({title:"خطا",message:"مشکلی در حذف کد تخفیف پیش آمد!",color:"red"}),b(en())}catch(e){h.N9.show({title:"خطا",message:"مشکلی در اتصال به سرور پیش آمد!",color:"red"})}};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(sy,{opened:T,onClose:()=>P(!1),message:(null==w?void 0:w.message)||(null==A?void 0:A.message)}),(0,a.jsx)(D.D,{fw:"600",c:"gray.8",mt:"xl",mb:"sm",children:"کد تخفیف"}),(0,a.jsxs)(N.X,{children:[(0,a.jsx)("form",{onSubmit:L.onSubmit(e=>B(e)),children:(0,a.jsxs)(l9.k,{align:"end",gap:"sm",w:{lg:"50%"},children:[(0,a.jsx)(ss.o,{w:"100%",label:"وارد کردن کد تخفیف",placeholder:"اینجا بنویسید",...L.getInputProps("code"),disabled:c,error:(null==j?void 0:j.state)==="error"&&(null==j||null==(t=j.errors)?void 0:t.code)||L.errors.code||(null==k?void 0:k.state)==="error"&&(null==k||null==(r=k.errors)?void 0:r.code)?(0,a.jsxs)("div",{children:[(null==j?void 0:j.state)==="error"&&(null==j||null==(i=j.errors)?void 0:i.code)&&(0,a.jsx)("div",{children:null==j||null==(l=j.errors)?void 0:l.code}),L.errors.code&&(0,a.jsx)("div",{children:L.errors.code}),(null==k?void 0:k.state)==="error"&&(null==k||null==(s=k.errors)?void 0:s.code)&&(0,a.jsx)("div",{children:null==k||null==(n=k.errors)?void 0:n.code})]}):null}),(0,a.jsx)(z.z,{w:"70",type:"submit",disabled:c,loading:C,children:"ثبت"})]})}),(null==f||null==(d=f.cartDiscounts)||null==(o=d.discountCode)?void 0:o.code)&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(se.x,{mt:"sm",c:"green",children:["کد تخفیف اعمال شده: ",f.cartDiscounts.discountCode.code]}),(0,a.jsx)(z.z,{mt:"sm",color:"red",onClick:O,loading:I,children:"حذف کد"})]})]})]})},oB=function(e){let t=(0,sE.rZ)();return(0,a.jsx)(sa.x,{p:"md",component:g.OL,to:e.url,className:"hover:text-brand-500",bg:e.activeItem?t.primaryColor:"white",style:{borderRadius:"0.375rem",color:e.activeItem?"white":""},children:(0,a.jsxs)(l9.k,{justify:"space-between",align:"center",children:[(0,a.jsxs)(l9.k,{align:"center",gap:"sm",children:[e.icon,(0,a.jsx)(se.x,{size:"sm",fw:"600",children:e.label})]}),(0,a.jsx)(sb.IconChevronLeft,{size:16})]})})};var oO=r(58069);let oR=[{label:"پیشخوان",url:"/account",icon:(0,a.jsx)(sb.IconLayout,{size:16}),links:"/"},{label:"سفارش ها",url:"/account/orders",icon:(0,a.jsx)(sb.IconBasket,{size:16}),links:"orders"},{label:"کیف پول",url:"/account/wallet",icon:(0,a.jsx)(oO.xiu,{size:16}),links:"wallet"},{label:"جزئیات حساب",url:"/account/edit-account",icon:(0,a.jsx)(sb.IconUser,{size:16}),links:"edit-account"},{label:"پیام ها",url:"/account/notifications",icon:(0,a.jsx)(sb.IconBell,{size:16}),links:"notifications"},{label:"تیکت ها",url:"/account/tickets",icon:(0,a.jsx)(sb.IconMessage2,{size:16}),links:"tickets"},{label:"علاقه‌مندی ها",url:"/account/favorites",icon:(0,a.jsx)(sb.IconHeart,{size:16}),links:"favorites"},{label:"خروج",url:"/logout",icon:(0,a.jsx)(sb.IconLogout,{size:16}),links:"logout"}];var oW=r(24117);let oZ=function(e){let{id:t,favoriteAdded:r,skeleton:i,title:l,image:s,price:n,refetchParent:o}=e,{colors:d}=(0,sE.rZ)(),{ref:c,width:u}=(0,nV.h)(),m=e=>!(!e||null===e||""===e||Array.isArray(e)&&(0===e.length||""===e[0]));return(0,a.jsx)(N.X,{ref:c,shadow:"sm",px:"25",pb:"lg",pt:"40",pos:"relative",display:"flex",style:{flexDirection:"column"},h:"100%",children:i?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(l9.k,{justify:"space-between",align:"center",mb:"lg",children:[(0,a.jsx)(nK.O,{h:40,w:40,circle:!0}),(0,a.jsx)(nK.O,{h:40,w:40,circle:!0})]}),(0,a.jsx)(nK.O,{w:"100%",h:"150px"}),(0,a.jsx)(nK.O,{h:"20",my:"lg"}),(0,a.jsxs)(l9.k,{justify:"space-between",align:"end",children:[(0,a.jsx)(nK.O,{w:"100",h:50}),(0,a.jsxs)(l9.k,{direction:"column",align:"end",gap:6,children:[(0,a.jsxs)(l9.k,{gap:5,children:[(0,a.jsx)(nK.O,{w:40,h:20}),(0,a.jsx)(nK.O,{w:40,h:20})]}),(0,a.jsx)(nK.O,{h:20,w:60})]})]})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(sa.x,{component:g.OL,to:`/product/${t}`,children:[m(s)?(0,a.jsx)(sl.E,{className:"hover:scale-105 transition-transform duration-300",w:"100%",h:"150px",fit:"contain",src:s,fallbackSrc:null,onError:e=>{e.target.style.display="none",e.target.nextSibling.style.display="flex"}}):null,(0,a.jsx)(sa.x,{style:{display:m(s)?"none":"flex",justifyContent:"center",alignItems:"center",height:"150px",width:"100%"},children:(0,a.jsx)(e=>{let{size:t=150}=e;return(0,a.jsxs)("svg",{width:t,height:t,viewBox:"0 0 200 200",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("rect",{width:"200",height:"200",fill:"#f8f9fa",rx:"8"}),(0,a.jsx)("rect",{x:"50",y:"50",width:"100",height:"100",fill:"#e9ecef",rx:"4"}),(0,a.jsx)("circle",{cx:"75",cy:"75",r:"8",fill:"#dee2e6"}),(0,a.jsx)("path",{d:"M60 120L80 100L100 120L120 100L140 120V140H60V120Z",fill:"#dee2e6"}),(0,a.jsx)("text",{x:"100",y:"170",textAnchor:"middle",fontSize:"12",fill:"#6c757d",fontFamily:"system-ui",children:"تصویر پیش‌فرض"})]})},{})})]}),(0,a.jsx)(sa.x,{my:"lg",children:(0,a.jsx)(se.x,{fw:"600",size:"sm",component:g.OL,to:`/product/${t}`,style:{display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:2,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"normal"},children:l})}),(0,a.jsxs)(l9.k,{justify:"space-between",align:"end",mt:"auto",children:[(0,a.jsx)(z.z,{component:g.OL,to:`/product/${t}`,children:u<240?(0,a.jsx)(sb.IconEye,{size:20}):"مشاهده محصول"}),(0,a.jsx)(nH,{regularPrice:null==n?void 0:n.regularPrice,discountedPrice:null==n?void 0:n.discountedPrice})]})]})})};function oU(e){var t;let r=(e=>{switch(e){case"paid":return{color:"green",text:"پرداخت شده"};case"prepaid":return{color:"blue",text:"پیش‌پرداخت شده"};case"selfprepaid":return{color:"orange",text:"مبلغ اولیه پرداخت شده"};default:return{color:"red",text:"پرداخت نشده"}}})(e.isPaid),i=(e=>{switch(e){case"processing":return{color:"blue",text:"در حال پردازش"};case"completed":return{color:"green",text:"تکمیل شده"};case"cancelled":return{color:"red",text:"لغو شده"};case"pending":return{color:"yellow",text:"در انتظار"};default:return{color:"gray",text:e||"نامشخص"}}})(e.status);return(0,a.jsxs)(oW.i.Tr,{children:[(0,a.jsx)(oW.i.Td,{children:(0,a.jsx)(se.x,{size:"sm",truncate:!0,style:{maxWidth:150},children:(t=e.orderId)?String(t).replace("order_",""):"نامشخص"})}),(0,a.jsx)(oW.i.Td,{children:(0,a.jsx)(se.x,{size:"sm",children:new Date(e.createdAt).toLocaleDateString("fa-IR",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})})}),(0,a.jsx)(oW.i.Td,{children:(0,a.jsx)(sx.C,{color:r.color,variant:"light",size:"sm",children:r.text})}),(0,a.jsx)(oW.i.Td,{children:(0,a.jsx)(sx.C,{color:i.color,variant:"light",size:"sm",children:i.text})}),(0,a.jsx)(oW.i.Td,{children:(0,a.jsxs)(se.x,{size:"sm",fw:500,children:[(0,a.jsx)(s7.e,{value:e.totalPrice||0,thousandSeparator:!0})," ","تومان"]})}),(0,a.jsx)(oW.i.Td,{children:(0,a.jsx)(se.x,{size:"sm",c:e.totalDiscount>0?"red":"dimmed",children:e.totalDiscount>0?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s7.e,{value:e.totalDiscount,thousandSeparator:!0})," ","تومان"]}):"بدون تخفیف"})}),(0,a.jsx)(oW.i.Td,{children:(0,a.jsx)(sx.C,{variant:"outline",size:"sm",children:(e=>{switch(e){case"cash":return"نقدی";case"card":return"کارتی";case"online":return"آنلاین";default:return e||"نامشخص"}})(e.paymentMethod)})}),(0,a.jsx)(oW.i.Td,{ta:"end",children:(0,a.jsx)(z.z,{radius:"md",component:g.OL,to:`/account/orders/${e.orderId}`,size:"sm",variant:"light",children:"مشاهده"})})]})}var o$=r(6853),oq=r(44098),oK=r.n(oq),oV=r(73357),oH=r(832);let oG=[{label:"فروردین",value:1},{label:"اردیبهشت",value:2},{label:"خرداد",value:3},{label:"تیر",value:4},{label:"مرداد",value:5},{label:"شهریور",value:6},{label:"مهر",value:7},{label:"آبان",value:8},{label:"آذر",value:9},{label:"دی",value:10},{label:"بهمن",value:11},{label:"اسفند",value:12}],oX=e=>{let{animationProps:t,handleYearClick:r,handleYearRangeChange:i,yearRange:l,selectedYear:s}=e;return(0,a.jsxs)(oH.E.div,{...t,className:"mb-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"انتخاب سال"}),(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)(sB.A,{radius:999,onClick:()=>i("next"),children:(0,a.jsx)(sb.IconChevronRight,{className:"w-5 h-5"})}),(0,a.jsxs)("div",{className:"flex-1 text-center font-semibold",dir:"ltr",children:[l[0]," - ",l[l.length-1]]}),(0,a.jsx)(sB.A,{radius:999,onClick:()=>i("prev"),children:(0,a.jsx)(sb.IconChevronLeft,{className:"w-5 h-5"})})]}),(0,a.jsx)("div",{className:"grid grid-cols-3 gap-2",children:l.map(e=>(0,a.jsx)(z.z,{variant:s===e?"filled":"light",onClick:()=>r(e),children:e},e))})]},"year")},oY=e=>{let{animationProps:t,handleMonthClick:r,selectedMonth:i,jalaliMonths:l}=e;return(0,a.jsxs)(oH.E.div,{...t,className:"mb-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"انتخاب ماه"}),(0,a.jsx)("div",{className:"grid grid-cols-3 gap-2",children:l.map(e=>(0,a.jsx)(z.z,{onClick:()=>r(e.value),variant:i===e.value?"filled":"light",children:e.label},e.value))})]},"month")},oJ=e=>{let{animationProps:t,handleDayClick:r,selectedDay:i,daysInMonth:l}=e;return(0,a.jsxs)(oH.E.div,{...t,className:"mb-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"انتخاب روز"}),(0,a.jsx)("div",{className:"grid grid-cols-6 gap-2",children:Array.from({length:l},(e,t)=>t+1).map(e=>(0,a.jsx)(z.z,{variant:i===e?"filled":"light",onClick:()=>r(e),children:e},e))})]},"day")},oQ=function(e){let{children:t,...r}=e,[i,{open:l,close:s}]=(0,s$.q)(!1),[n,o]=(0,p.useState)(null),[d,c]=(0,p.useState)(null),[u,m]=(0,p.useState)(null),[g,h]=(0,p.useState)([]),[x,b]=(0,p.useState)("year");(0,p.useEffect)(()=>{var e;let t=oK().toJalaali(new Date),[a,i,l]=(null==(e=r.value)?void 0:e.split("/").map(Number))||[];o(a),c(i),m(l),f(a||t.jy)},[r.value]),(0,p.useEffect)(()=>{n&&f(n)},[n]);let f=e=>{h(Array.from({length:9},(t,r)=>e-4+r))},y={initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},transition:{type:"spring",stiffness:300,damping:30}},j=(e,t,a)=>{let i=void 0!==e?e:n,l=void 0!==t?t:d,s=void 0!==a?a:u;r.onChange&&r.onChange(`${i||"_"}/${l||"_"}/${s||"_"}`)};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(ss.o,{...r,readOnly:!0,onClick:()=>l(),value:`${n||"_"}/${d||"_"}/${u||"_"}`}),(0,a.jsxs)(sp.u,{opened:i,onClose:s,centered:!0,children:["month"===x?(0,a.jsxs)("button",{onClick:()=>b("year"),className:"flex items-center text-gray-600 hover:text-black transition-colors mb-2",children:[(0,a.jsx)(sb.IconArrowRight,{className:"w-4 h-4 ml-1"}),"انتخاب سال"]}):"day"===x?(0,a.jsxs)("button",{onClick:()=>b("month"),className:"flex items-center text-gray-600 hover:text-black transition-colors mb-2",children:[(0,a.jsx)(sb.IconArrowRight,{className:"w-4 h-4 ml-1"}),"انتخاب ماه"]}):null,(0,a.jsxs)(oV.M,{mode:"wait",children:["year"===x&&(0,a.jsx)(oX,{animationProps:y,handleYearClick:e=>{o(e),b("month"),j(e,void 0,void 0)},handleYearRangeChange:e=>{let t=g[4];f("prev"===e?t-9:t+9)},yearRange:g,selectedYear:n}),"month"===x&&(0,a.jsx)(oY,{animationProps:y,handleMonthClick:e=>{c(e),b("day"),j(void 0,e,void 0)},selectedMonth:d,jalaliMonths:oG}),"day"===x&&(0,a.jsx)(oJ,{animationProps:y,handleDayClick:e=>{m(e),j(void 0,void 0,e),s()},selectedDay:u,daysInMonth:oK().jalaaliMonthLength(n,d)})]})]})]})},o0=sc.Ry().shape({name:sc.Z_().required("نام الزامی است"),family:sc.Z_().required("نام خانوادگی الزامی است"),email:sc.Z_().email("فرمت ایمیل صحیح نیست").required("ایمیل الزامی است"),nationalCode:sc.Z_().matches(/^[0-9]{10}$/,"کد ملی باید 10 رقم باشد").required("کد ملی الزامی است"),birthday:sc.Z_().required("تاریخ تولد الزامی است")});function o1(e){return(0,a.jsxs)(oW.i.Tr,{children:[(0,a.jsx)(oW.i.Td,{children:(0,a.jsx)(se.x,{size:"sm",c:"blue",ta:"right",component:g.OL,to:`/account/tickets/single/${e.ticketId}`,children:e.ticketId})}),(0,a.jsx)(oW.i.Td,{children:(0,a.jsx)(se.x,{size:"sm",lineClamp:2,children:e.ticketTitle})}),(0,a.jsx)(oW.i.Td,{children:(0,a.jsx)(sx.C,{color:"gray",size:"sm",component:g.OL,to:`/account/tickets/single/${e.ticketId}`,children:e.teamName})}),(0,a.jsx)(oW.i.Td,{children:"closed"===e.ticketStatus?"بسته شده":"پاسخ داده نشده"}),(0,a.jsx)(oW.i.Td,{children:e.updatedAt}),(0,a.jsx)(oW.i.Td,{children:(0,a.jsx)(z.z,{size:"xs",component:g.OL,to:`/account/tickets/single/${e.ticketId}`,radius:999,children:"مشاهده"})})]})}let o6=function(e){let{label:t,value:r,size:i="sm"}=e;return(0,a.jsxs)(l9.k,{gap:3,align:"center",children:[(0,a.jsx)(se.x,{size:i,c:"gray.7",children:t}),(0,a.jsx)(se.x,{size:i,children:r})]})},o2=function(e){let{sender:t,item:r,date:i,body:l,you:s}=e,{shadows:n}=(0,sE.rZ)();return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(sa.x,{style:{borderRadius:"10px",boxShadow:n.xs},className:`${s?"bg-white":"bg-gray-100"}`,p:"md",children:[(0,a.jsxs)(l9.k,{justify:"space-between",children:[(0,a.jsxs)(l9.k,{align:"center",children:[(0,a.jsx)(sb.IconUser,{size:16}),(0,a.jsx)(se.x,{size:"sm",children:t})]}),(0,a.jsx)(se.x,{size:"sm",c:"gray",children:i})]}),(0,a.jsx)(sH.i,{my:"lg"}),(0,a.jsx)(sa.x,{c:"gray.7",fz:"sm",lh:"2",dangerouslySetInnerHTML:{__html:l}}),r.file&&(0,a.jsx)(se.x,{component:"a",href:r.file,mb:"lg",target:"_blank",rel:"noopener noreferrer",color:"blue",size:"sm",mt:"md",ml:"user"===r.sender.role?"auto":"0",children:"\uD83D\uDCCE مشاهده فایل پیوست"})]})})},o4=`data:image/svg+xml;base64,${btoa(`
<svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
  <rect width="100" height="100" fill="#f8f9fa" stroke="#dee2e6" stroke-width="2" rx="8"/>
  <circle cx="35" cy="35" r="8" fill="#6c757d"/>
  <path d="M20 70 L35 55 L50 70 L65 55 L80 70 V80 H20 V70Z" fill="#6c757d"/>
  <rect x="55" y="25" width="25" height="4" fill="#6c757d" rx="2"/>
  <rect x="55" y="35" width="20" height="3" fill="#adb5bd" rx="1.5"/>
  <rect x="55" y="42" width="15" height="3" fill="#adb5bd" rx="1.5"/>
</svg>
`)}`,o3=e=>!(!e||Array.isArray(e)&&(0===e.length||""===e[0]))&&("string"!=typeof e||""!==e.trim()&&"null"!==e&&"undefined"!==e),o5=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!o3(e))return o4;let r=Array.isArray(e)?e[0]:e;return r.startsWith("http://")||r.startsWith("https://")||r.startsWith("data:")?r:`${t}${r.startsWith("/")?r:"/"+r}`},o8=e=>{let{src:t,alt:r="تصویر",className:i,style:l,onError:s,...n}=e,[o,d]=(0,p.useState)(o5(t)),[c,u]=(0,p.useState)(!1);return(0,p.useEffect)(()=>{d(o5(t)),u(!1)},[t]),(0,a.jsx)("img",{src:o,alt:r,className:i,style:l,onError:e=>{!c&&(u(!0),d(o4),s&&s(e))},...n})},o7=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},[r,a]=(0,p.useState)(null),[i,l]=(0,p.useState)(null);return(0,p.useEffect)(()=>{if(!e)return void a(null);try{let r=Function("React","props","SafeImage","getSafeImageUrl","validateImagePath","DEFAULT_IMAGE_SVG",`
        // React hooks are available through React object
        const { useState, useEffect, useMemo, useCallback } = React;
        
        // Image handling utilities available in component scope
        const defaultImage = DEFAULT_IMAGE_SVG;
        
        ${e}
        
        return Component;
        `)(p,t,o8,o5,o3,o4);a(()=>r),l(null)}catch(e){l(e.message),a(null)}},[e,t]),{component:r,error:i}},o9=()=>{let e=new CustomEvent("refreshNotificationCount");window.dispatchEvent(e)},de=e=>{let{size:t=100,color:r="#C1C2C5"}=e;return(0,a.jsxs)("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",stroke:r,strokeWidth:"1.5",fill:"none"}),(0,a.jsx)("circle",{cx:"8.5",cy:"8.5",r:"1.5",fill:r}),(0,a.jsx)("path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",stroke:r,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,a.jsx)("path",{d:"m14 10 7 7",stroke:r,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})},dt=function(e){let{id:t,skeleton:r,title:i,image:l,price:s}=e,{colors:n}=(0,sE.rZ)(),{ref:o,width:d}=(0,nV.h)(),[c,u]=(0,p.useState)(!1),[m,h]=(0,p.useState)(!1),x=!(!(!l||""===l||Array.isArray(l)&&(0===l.length||""===l[0]))&&1)||c;return(0,p.useEffect)(()=>{u(!1),h(!1)},[l]),(0,a.jsx)(N.X,{ref:o,shadow:"sm",px:"25",pb:"lg",pt:"40",pos:"relative",display:"flex",style:{flexDirection:"column"},h:"100%",children:r?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(l9.k,{justify:"space-between",align:"center",mb:"lg",children:[(0,a.jsx)(nK.O,{h:40,w:40,circle:!0}),(0,a.jsx)(nK.O,{h:40,w:40,circle:!0})]}),(0,a.jsx)(nK.O,{w:"100%",h:"150px"}),(0,a.jsx)(nK.O,{h:"20",my:"lg"}),(0,a.jsxs)(l9.k,{justify:"space-between",align:"end",children:[(0,a.jsx)(nK.O,{w:"100",h:50}),(0,a.jsxs)(l9.k,{direction:"column",align:"end",gap:6,children:[(0,a.jsxs)(l9.k,{gap:5,children:[(0,a.jsx)(nK.O,{w:40,h:20}),(0,a.jsx)(nK.O,{w:40,h:20})]}),(0,a.jsx)(nK.O,{h:20,w:60})]})]})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(sa.x,{component:g.OL,to:`/product/${t}`,children:x?(0,a.jsx)(l9.k,{justify:"center",align:"center",w:"100%",h:"150px",style:{backgroundColor:"#f8f9fa",borderRadius:"8px",border:`1px solid ${n.gray[3]}`},className:"hover:scale-105 transition-transform duration-300",children:(0,a.jsx)(de,{size:80,color:n.gray[4]})}):(0,a.jsx)(sl.E,{className:"hover:scale-105 transition-transform duration-300",w:"100%",h:"150px",fit:"contain",src:Array.isArray(l)?l[0]:l,onError:()=>u(!0),onLoad:()=>h(!0),style:{opacity:m?1:.7,transition:"opacity 0.3s ease"},fallbackSrc:null})}),(0,a.jsx)(sa.x,{my:"lg",children:(0,a.jsx)(se.x,{fw:"600",size:"sm",component:g.OL,to:`/product/${t}`,style:{display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:2,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"normal"},children:i})}),(0,a.jsxs)(l9.k,{justify:"space-between",align:"end",mt:"auto",children:[(0,a.jsx)(z.z,{component:g.OL,to:`/product/${t}`,children:d<240?(0,a.jsx)(sb.IconEye,{size:20}):"مشاهده محصول"}),(0,a.jsx)(nH,{regularPrice:s.regularPrice,discountPercent:s.discountPercent,discountedPrice:s.discountedPrice})]})]})})};var dr=r(75544);let da=function(e){let{children:t,title:r}=e,[i,{open:l,close:s,toggle:n}]=(0,s$.q)(!1);return(0,a.jsxs)(N.X,{py:"sm",children:[(0,a.jsx)(z.z,{justify:"space-between",fullWidth:!0,rightSection:(0,a.jsx)(sb.IconChevronLeft,{size:18,style:{transition:"0.1s",rotate:i?"-90deg":""}}),size:"md",px:0,variant:"transparent",onClick:n,children:r}),(0,a.jsx)(n9.U,{in:i,children:t})]})};var di=r(3017);let dl=function(){return(0,a.jsxs)("svg",{style:{width:"14px",height:"14px"},children:[(0,a.jsx)("symbol",{id:"toman",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 14 14",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M3.057 1.742L3.821 1l.78.75-.776.741-.768-.749zm3.23 2.48c0 .622-.16 1.111-.478 1.467-.201.221-.462.39-.783.505a3.251 3.251 0 01-1.083.163h-.555c-.421 0-.801-.074-1.139-.223a2.045 2.045 0 01-.9-.738A2.238 2.238 0 011 4.148c0-.059.001-.117.004-.176.03-.55.204-1.158.525-1.827l1.095.484c-.257.532-.397 1-.419 1.403-.002.04-.004.08-.004.12 0 .252.055.458.166.618a.887.887 0 00.5.354c.085.028.178.048.278.06.079.01.16.014.243.014h.555c.458 0 .769-.081.933-.244.14-.139.21-.383.21-.731V2.02h1.2v2.202zm5.433 3.184l-.72-.7.709-.706.735.707-.724.7zm-2.856.308c.542 0 .973.19 1.293.569.297.346.445.777.445 1.293v.364h.18v-.004h.41c.221 0 .377-.028.467-.084.093-.055.14-.14.14-.258v-.069c.004-.243.017-1.044 0-1.115L13 8.05v1.574a1.4 1.4 0 01-.287.863c-.306.405-.804.607-1.495.607h-.627c-.061.733-.434 1.257-1.117 1.573-.267.122-.58.21-.937.265a5.845 5.845 0 01-.914.067v-1.159c.612 0 1.072-.082 1.38-.247.25-.132.376-.298.376-.499h-.515c-.436 0-.807-.113-1.113-.339-.367-.273-.55-.667-.55-1.18 0-.488.122-.901.367-1.24.296-.415.728-.622 1.296-.622zm.533 2.226v-.364c0-.217-.048-.389-.143-.516a.464.464 0 00-.39-.187.478.478 0 00-.396.187.705.705 0 00-.136.449.65.65 0 00.003.067c.008.125.066.22.177.283.093.054.21.08.352.08h.533zM9.5 6.707l.72.7.724-.7L10.209 6l-.709.707zm-6.694 4.888h.03c.433-.01.745-.106.937-.29.024.012.065.035.12.068l.074.039.081.042c.135.073.261.133.379.18.345.146.67.22.977.22a1.216 1.216 0 00.87-.34c.3-.285.449-.714.449-1.286a2.19 2.19 0 00-.335-1.145c-.299-.457-.732-.685-1.3-.685-.502 0-.916.192-1.242.575-.113.132-.21.284-.294.456-.032.062-.06.125-.084.191a.504.504 0 00-.03.078 1.67 1.67 0 00-.022.06c-.103.309-.171.485-.205.53-.072.09-.214.14-.427.147-.123-.005-.209-.03-.256-.076-.057-.054-.085-.153-.085-.297V7l-1.201-.5v3.562c0 .261.048.496.143.703.071.158.168.296.29.413.123.118.266.211.43.28.198.084.42.13.665.136v.001h.036zm2.752-1.014a.778.778 0 00.044-.353.868.868 0 00-.165-.47c-.1-.134-.217-.201-.35-.201-.18 0-.33.103-.447.31-.042.071-.08.158-.114.262a2.434 2.434 0 00-.04.12l-.015.053-.015.046c.142.118.323.216.544.293.18.062.325.092.433.092.044 0 .086-.05.125-.152z",clipRule:"evenodd"})}),(0,a.jsx)("use",{href:"#toman"})]})},ds=function(e){let{priceRange:t,onPriceChange:r,data:i}=e,{categoryData:l,loadingCategoryData:s,errorCategoryData:n}=(0,m.v9)(e=>e.categoryData),o=(null==t?void 0:t.max)||2e7,d=(null==t?void 0:t.min)||0,[c,u]=(0,p.useState)([1,2]);return(0,p.useEffect)(()=>{l.userPriceSet&&u([l.userPriceSet.min,l.userPriceSet.max])},[l]),(0,a.jsx)(da,{title:"قیمت",children:(0,a.jsxs)(sw.K,{children:[(0,a.jsx)(n_.Y,{hideControls:!0,dir:"ltr",leftSection:(0,a.jsx)("span",{style:{fontSize:"14px"},children:"از"}),rightSection:(0,a.jsx)(dl,{}),value:c[0]??d,styles:{input:{paddingLeft:"24px",direction:"ltr",textAlign:"start"}},thousandSeparator:!0,onChange:e=>u([e||d,c[1]])}),(0,a.jsx)(n_.Y,{hideControls:!0,dir:"ltr",leftSection:(0,a.jsx)("span",{style:{fontSize:"14px"},children:"تا"}),rightSection:(0,a.jsx)(dl,{}),value:c[1]??o,styles:{input:{paddingLeft:"24px",direction:"ltr",textAlign:"start"}},thousandSeparator:!0,onChange:e=>u([c[0],e||o])}),(0,a.jsx)(di.U,{value:[c[0]??d,c[1]??o],min:d,step:5e5,max:o,label:e=>`${e.toLocaleString()} \u{62A}\u{648}\u{645}\u{627}\u{646}`,onChange:u}),(0,a.jsx)(z.z,{h:35,size:"xs",radius:99999,w:"max-content",onClick:()=>{r({min:c[0],max:c[1]})},children:"          فیلتر قیمت"})]})})},dn=p.memo(e=>{let{isFetching:t,data:r,slug:i,changeFilters:l,getCategoryData:s,form:n,handleDynamicChange:o,setSearch:d,setPage:c,filterDisclosure:u}=e,g=(null==r?void 0:r.filters)||[],p=(0,m.I0)(),h=e=>{d(e.target.value),c(1)},x=e=>{n.setFieldValue("price",e),c(1)},b=(e,t,r)=>{let a=n.values.dynamic[e]||[];o(e,r?[...a,t]:a.filter(e=>e!==t))};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(N.X,{h:83,display:"flex",style:{alignItems:"center"},children:(0,a.jsx)(ss.o,{w:"100%",variant:"filled",styles:{input:{height:45}},rightSection:(0,a.jsx)(sb.IconSearch,{size:18}),placeholder:"جستجو محصول",onChange:h})}),(0,a.jsx)(ds,{priceRange:null==r?void 0:r.price,data:r??r,priceSliderMin:100,priceSliderMax:2e5,onPriceChange:x}),g.map((e,t)=>(0,a.jsx)(da,{title:e.title,children:(0,a.jsx)(sw.K,{mt:"xs",children:e.options.map(t=>{var r;return(0,a.jsx)(F.X,{label:t.label,checked:null==(r=n.values.dynamic[e.key])?void 0:r.includes(t.value),onChange:r=>b(e.key,t.value,r.target.checked)},t.value)})})},t)),(0,a.jsx)(sU.d,{opened:u[0],onClose:u[1].close,title:"فیلترها",size:"100%",position:"right",children:(0,a.jsxs)(sw.K,{children:[(0,a.jsx)(N.X,{h:83,display:"flex",style:{alignItems:"center"},children:(0,a.jsx)(ss.o,{w:"100%",variant:"filled",styles:{input:{height:45}},rightSection:(0,a.jsx)(sb.IconSearch,{size:18}),placeholder:"جستجو محصول",onChange:h})}),(0,a.jsx)(ds,{priceRange:null==r?void 0:r.price,data:r??r,priceSliderMin:100,priceSliderMax:2e5,onPriceChange:x}),g.map((e,t)=>(0,a.jsx)(da,{title:e.title,children:(0,a.jsx)(sw.K,{mt:"xs",children:e.options.map(t=>{var r;return(0,a.jsx)(F.X,{label:t.label,checked:null==(r=n.values.dynamic[e.key])?void 0:r.includes(t.value),onChange:r=>b(e.key,t.value,r.target.checked)},t.value)})})},t)),(0,a.jsx)(z.z,{h:35,size:"xs",radius:99999,w:"max-content",onClick:()=>{p(s({slug:i,filters:l}))},children:"فیلتر"})]})})]})}),dd=function(e){let{id:t,favoriteAdded:r,skeleton:i,title:l,slug:s,image:n,regularPrice:o,discountedPrice:d,discountPercent:c,refetchParent:u,onSelectProduct:p}=e,h=(0,m.v9)(e=>e.compare.items).some(e=>e.items.includes(t)),{colors:x}=(0,sE.rZ)(),{ref:b,width:f}=(0,nV.h)();return(0,a.jsxs)(N.X,{ref:b,shadow:"sm",px:"25",pb:"lg",pt:"40",pos:"relative",display:"flex",style:{flexDirection:"column"},h:"100%",children:[i?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(l9.k,{justify:"space-between",align:"center",mb:"lg",children:[(0,a.jsx)(nK.O,{h:40,w:40,circle:!0}),(0,a.jsx)(nK.O,{h:40,w:40,circle:!0})]}),(0,a.jsx)(nK.O,{w:"100%",h:"150px"}),(0,a.jsx)(nK.O,{h:"20",my:"lg"}),(0,a.jsxs)(l9.k,{justify:"space-between",align:"end",children:[(0,a.jsx)(nK.O,{w:"100",h:50}),(0,a.jsxs)(l9.k,{direction:"column",align:"end",gap:6,children:[(0,a.jsxs)(l9.k,{gap:5,children:[(0,a.jsx)(nK.O,{w:40,h:20}),(0,a.jsx)(nK.O,{w:40,h:20})]}),(0,a.jsx)(nK.O,{h:20,w:60})]})]})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(sa.x,{component:g.OL,to:`/product/${s}`,children:(0,a.jsx)(sl.E,{className:"hover:scale-105 transition-transform duration-300",w:"100%",h:"150px",fit:"contain",src:n})}),(0,a.jsx)(sa.x,{my:"lg",children:(0,a.jsx)(se.x,{fw:"600",size:"sm",component:g.OL,to:`/product/${s}`,style:{display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:2,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"normal"},children:l})}),(0,a.jsxs)(l9.k,{justify:"space-between",align:"end",mt:"auto",children:[(0,a.jsx)(z.z,{component:g.OL,to:`/product/${s}`,children:f<240?(0,a.jsx)(sb.IconEye,{size:20}):"مشاهده محصول"}),(0,a.jsx)(nH,{regularPrice:o,discountPercent:c,discountedPrice:d})]})]}),(0,a.jsx)(z.z,{mt:"md",onClick:()=>p(t),color:h?"red":"blue",children:h?"حذف":"افزودن به مقایسه"})]})},dc=p.memo(e=>{let{products:t,onSelectProduct:r}=e;return(0,a.jsx)(sz.M,{cols:{base:1,xs:2,sm:3,md:3,lg:4},mb:"xl",mt:"15",children:null==t?void 0:t.map((e,t)=>(0,a.jsx)(dd,{onSelectProduct:r,...e},t))})},(e,t)=>(0,m.wU)(e,t)),du=[{label:"جدیدترین",value:"newest"},{label:"ارزان‌ترین",value:"lowest_price"},{label:"گران‌ترین",value:"highest_price"},{label:"پرفروش‌ترین",value:"best_selling"}],dm=function(e){let{enabled:t,url:r="/seller/123/products",slug:i,onSelectProduct:l}=e,{slug:s}=(0,g.UO)(),n=i||s,o=(0,m.I0)(),{categoryData:d,loadingCategoryData:c}=(0,m.v9)(e=>e.categoryData),[u,h]=(0,p.useState)(1),[x,b]=(0,p.useState)("newest"),[f,y]=(0,p.useState)(""),[j]=(0,sX.c)(f,600),v=(0,s$.q)(!1),C=(0,sd.c)({initialValues:{price:{min:0,max:0},dynamic:{}}}),w=(0,p.useCallback)(e=>{let t={price_min:C.values.price.min,price_max:C.values.price.max,...C.values.dynamic,limit:20,page:u,sort:e??x,s:j};return{filters:t,query:sg().stringify(t,{addQueryPrefix:!0,arrayFormat:"comma"})}},[C.values,u,x,j]),k=w().query;(0,p.useEffect)(()=>{n&&o(aI({slug:n,filters:w().filters}))},[o,n,k]),(0,p.useEffect)(()=>{d&&C.setDirty("price",null==d?void 0:d.price)},[c]);let S=(0,p.useCallback)(e=>{b(e),h(1),o(aI({slug:n,filters:w(e).filters}))},[n,w,o]),I=(0,p.useCallback)((e,t)=>{C.setFieldValue(`dynamic.${e}`,t),h(1)},[C]);return c?(0,a.jsx)(nC,{showR:!0}):(0,a.jsx)(sa.x,{pos:"relative",children:d&&(0,a.jsxs)(sN.r,{children:[(0,a.jsxs)(sD.$,{span:{md:3},children:[(0,a.jsx)(sw.K,{visibleFrom:"md",children:(0,a.jsx)(dn,{data:d,form:C,slug:n,changeFilters:w().filters,getCategoryData:aI,setSearch:y,handleDynamicChange:I,setPage:h,filterDisclosure:v})}),(0,a.jsx)(z.z,{hiddenFrom:"md",leftSection:(0,a.jsx)(sb.IconFilter,{size:18}),onClick:v[1].open,children:"فیلتر ها"})]}),(0,a.jsxs)(sD.$,{span:{md:9},children:[(0,a.jsx)(N.X,{py:"md",children:(0,a.jsxs)(l9.k,{w:"100%",gap:"lg",align:"center",justify:{base:"space-between",xs:"initial"},children:[(0,a.jsxs)(l9.k,{align:"center",gap:"xs",c:"gray.7",children:[(0,a.jsx)(sb.IconSortDescending,{size:16}),(0,a.jsx)(se.x,{size:"sm",children:"مرتب سازی بر اساس:"})]}),(0,a.jsx)(dr.s,{visibleFrom:"md",withItemsBorders:!1,styles:{root:{padding:"10px 0"},control:{margin:"0 10px"}},data:du,value:x,onChange:e=>S(e)}),(0,a.jsx)(nE.P,{w:"150",hiddenFrom:"md",data:du,value:x,onChange:e=>S(e)})]})}),(0,a.jsx)(dc,{onSelectProduct:l,products:null==d?void 0:d.products}),(0,a.jsx)(si.M,{children:(0,a.jsx)(n3.t,{total:20,value:u,onChange:h})})]})]})})},dg=function(e){let{toggleShareModal:t,name:r,rating:i,province:l,userComments:s,image:n,others:o}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(l9.k,{justify:{base:"center",xs:"space-between",lg:"space-between"},align:"center",children:[(0,a.jsxs)(l9.k,{direction:{base:"column",xs:"row"},align:"center",gap:"sm",children:[(0,a.jsx)(sW.q,{size:"xl",src:n}),(0,a.jsxs)(l9.k,{direction:"column",align:{base:"center",md:"start"},gap:"xs",children:[(0,a.jsx)(D.D,{children:r}),(0,a.jsx)(se.x,{size:"sm",c:"gray",children:l}),(0,a.jsxs)(l9.k,{align:"center",gap:"5",c:"blue",children:[(0,a.jsx)(sb.IconCircleCheckFilled,{size:14}),(0,a.jsx)(se.x,{size:"xs",children:"تایید شده"})]}),(0,a.jsx)(n4.i,{size:"md",mb:"xs",value:i,readOnly:!0,hiddenFrom:"xs"}),(0,a.jsxs)(l9.k,{align:"center",hiddenFrom:"xs",children:[(0,a.jsxs)(se.x,{c:"gray",size:"sm",children:["بر اساس نظرات ",s," کاربر"]}),(0,a.jsx)(sH.i,{orientation:"vertical",mx:"md"}),(0,a.jsx)(D.D,{size:25,c:"gray.7",children:i})]}),(0,a.jsx)(z.z,{size:"xs",leftSection:(0,a.jsx)(sb.IconShare,{size:16}),variant:"light",onClick:t,hiddenFrom:"xs",children:"اشتراک گذاری"})]})]}),(0,a.jsxs)(l9.k,{direction:{base:"column"},align:"end",gap:"sm",visibleFrom:"xs",children:[(0,a.jsxs)(l9.k,{align:"align",children:[(0,a.jsxs)(l9.k,{direction:"column",align:"end",children:[(0,a.jsx)(n4.i,{size:"md",mb:"xs",value:i,readOnly:!0}),(0,a.jsxs)(se.x,{c:"gray",size:"sm",children:["بر اساس نظرات ",s," کاربر"]})]}),(0,a.jsx)(sH.i,{orientation:"vertical",mx:"md",visibleFrom:"xs"}),(0,a.jsx)(D.D,{size:35,c:"gray.7",visibleFrom:"xs",children:i})]}),(0,a.jsx)(z.z,{size:"xs",leftSection:(0,a.jsx)(sb.IconShare,{size:16}),variant:"light",onClick:t,children:"اشتراک گذاری"})]})]}),(0,a.jsx)(sh.Z,{mt:"lg",children:o.map((e,t)=>(0,a.jsxs)(p.Fragment,{children:[(0,a.jsx)(o6,{label:`${e.label} : `,value:e.value}),t!==o.length-1&&(0,a.jsx)(sH.i,{orientation:"vertical"})]},t))})]})};var dp=r(90553),dh=r(26720);let dx=`<h1>\u{62F}\u{631}\u{628}\u{627}\u{631}\u{647} \u{645}\u{627}</h1> <center><img src="https://www.digikala.com/brand/full-horizontal.svg" alt="\u{644}\u{648}\u{6AF}\u{648}\u{6CC} \u{634}\u{631}\u{6A9}\u{62A}"></center> <p> \u{634}\u{631}\u{6A9}\u{62A} <strong>\u{641}\u{646}\u{627}\u{648}\u{631}\u{627}\u{646} \u{622}\u{631}\u{6CC}\u{627}</strong> \u{6CC}\u{6A9}\u{6CC} \u{627}\u{632} \u{67E}\u{6CC}\u{634}\u{631}\u{648}\u{62A}\u{631}\u{6CC}\u{646} \u{648}\u{627}\u{631}\u{62F}\u{6A9}\u{646}\u{646}\u{62F}\u{6AF}\u{627}\u{646} \u{645}\u{62D}\u{635}\u{648}\u{644}\u{627}\u{62A} \u{6A9}\u{627}\u{645}\u{67E}\u{6CC}\u{648}\u{62A}\u{631}\u{6CC} \u{62F}\u{631} \u{627}\u{6CC}\u{631}\u{627}\u{646} \u{627}\u{633}\u{62A}. \u{645}\u{627} \u{628}\u{627} \u{628}\u{6CC}\u{634} \u{627}\u{632} \u{6CC}\u{6A9} \u{62F}\u{647}\u{647} \u{62A}\u{62C}\u{631}\u{628}\u{647} \u{62F}\u{631} \u{632}\u{645}\u{6CC}\u{646}\u{647} \u{62A}\u{623}\u{645}\u{6CC}\u{646} \u{627}\u{646}\u{648}\u{627}\u{639} \u{62A}\u{62C}\u{647}\u{6CC}\u{632}\u{627}\u{62A} \u{633}\u{62E}\u{62A}\u{200C}\u{627}\u{641}\u{632}\u{627}\u{631}\u{6CC}\u{60C} \u{646}\u{631}\u{645}\u{200C}\u{627}\u{641}\u{632}\u{627}\u{631}\u{6CC} \u{648} \u{644}\u{648}\u{627}\u{632}\u{645} \u{62C}\u{627}\u{646}\u{628}\u{6CC} \u{6A9}\u{627}\u{645}\u{67E}\u{6CC}\u{648}\u{62A}\u{631}\u{60C} \u{62F}\u{631} \u{62A}\u{644}\u{627}\u{634} \u{647}\u{633}\u{62A}\u{6CC}\u{645} \u{62A}\u{627} \u{62C}\u{62F}\u{6CC}\u{62F}\u{62A}\u{631}\u{6CC}\u{646} \u{648} \u{67E}\u{6CC}\u{634}\u{631}\u{641}\u{62A}\u{647}\u{200C}\u{62A}\u{631}\u{6CC}\u{646} \u{645}\u{62D}\u{635}\u{648}\u{644}\u{627}\u{62A} \u{631}\u{627} \u{628}\u{647} \u{645}\u{634}\u{62A}\u{631}\u{6CC}\u{627}\u{646} \u{62E}\u{648}\u{62F} \u{627}\u{631}\u{627}\u{626}\u{647} \u{62F}\u{647}\u{6CC}\u{645}. </p> <h2>\u{645}\u{623}\u{645}\u{648}\u{631}\u{6CC}\u{62A} \u{645}\u{627}</h2> <p>\u{645}\u{623}\u{645}\u{648}\u{631}\u{6CC}\u{62A} \u{645}\u{627} \u{627}\u{631}\u{627}\u{626}\u{647} \u{631}\u{627}\u{647}\u{200C}\u{62D}\u{644}\u{200C}\u{647}\u{627}\u{6CC} \u{647}\u{648}\u{634}\u{645}\u{646}\u{62F}\u{627}\u{646}\u{647}\u{60C} \u{62A}\u{62C}\u{647}\u{6CC}\u{632}\u{627}\u{62A} \u{628}\u{627} \u{6A9}\u{6CC}\u{641}\u{6CC}\u{62A} \u{648} \u{67E}\u{634}\u{62A}\u{6CC}\u{628}\u{627}\u{646}\u{6CC} \u{642}\u{648}\u{6CC} \u{628}\u{647} \u{6A9}\u{627}\u{631}\u{628}\u{631}\u{627}\u{646} \u{648} \u{633}\u{627}\u{632}\u{645}\u{627}\u{646}\u{200C}\u{647}\u{627} \u{627}\u{633}\u{62A}. \u{645}\u{627} \u{628}\u{647} \u{627}\u{635}\u{648}\u{644} \u{632}\u{6CC}\u{631} \u{67E}\u{627}\u{6CC}\u{628}\u{646}\u{62F} \u{647}\u{633}\u{62A}\u{6CC}\u{645}:</p> <ul> <li><strong>\u{6A9}\u{6CC}\u{641}\u{6CC}\u{62A} \u{628}\u{627}\u{644}\u{627}:</strong> \u{62A}\u{636}\u{645}\u{6CC}\u{646} \u{627}\u{635}\u{627}\u{644}\u{62A} \u{648} \u{6A9}\u{6CC}\u{641}\u{6CC}\u{62A} \u{645}\u{62D}\u{635}\u{648}\u{644}\u{627}\u{62A}.</li> <li><strong>\u{642}\u{6CC}\u{645}\u{62A} \u{645}\u{646}\u{627}\u{633}\u{628}:</strong> \u{627}\u{631}\u{627}\u{626}\u{647} \u{628}\u{647}\u{62A}\u{631}\u{6CC}\u{646} \u{642}\u{6CC}\u{645}\u{62A}\u{200C}\u{647}\u{627} \u{62F}\u{631} \u{628}\u{627}\u{632}\u{627}\u{631}.</li> <li><strong>\u{67E}\u{634}\u{62A}\u{6CC}\u{628}\u{627}\u{646}\u{6CC} \u{645}\u{634}\u{62A}\u{631}\u{6CC}\u{627}\u{646}:</strong> \u{62E}\u{62F}\u{645}\u{627}\u{62A} \u{67E}\u{633} \u{627}\u{632} \u{641}\u{631}\u{648}\u{634} \u{633}\u{631}\u{6CC}\u{639} \u{648} \u{642}\u{627}\u{628}\u{644}\u{200C}\u{627}\u{639}\u{62A}\u{645}\u{627}\u{62F}.</li> </ul> <h2>\u{645}\u{62D}\u{635}\u{648}\u{644}\u{627}\u{62A} \u{645}\u{627}</h2> <ul> <li>\u{644}\u{67E}\u{200C}\u{62A}\u{627}\u{67E} \u{648} \u{6A9}\u{627}\u{645}\u{67E}\u{6CC}\u{648}\u{62A}\u{631}\u{647}\u{627}\u{6CC} \u{634}\u{62E}\u{635}\u{6CC}</li> <li>\u{642}\u{637}\u{639}\u{627}\u{62A} \u{633}\u{62E}\u{62A}\u{200C}\u{627}\u{641}\u{632}\u{627}\u{631}\u{6CC} (\u{645}\u{627}\u{646}\u{646}\u{62F} \u{6A9}\u{627}\u{631}\u{62A} \u{6AF}\u{631}\u{627}\u{641}\u{6CC}\u{6A9}\u{60C} \u{645}\u{627}\u{62F}\u{631}\u{628}\u{631}\u{62F}\u{60C} \u{67E}\u{631}\u{62F}\u{627}\u{632}\u{646}\u{62F}\u{647})</li> <li>\u{62A}\u{62C}\u{647}\u{6CC}\u{632}\u{627}\u{62A} \u{634}\u{628}\u{6A9}\u{647} \u{648} \u{633}\u{631}\u{648}\u{631}\u{647}\u{627}</li> <li>\u{644}\u{648}\u{627}\u{632}\u{645} \u{62C}\u{627}\u{646}\u{628}\u{6CC} \u{6A9}\u{627}\u{645}\u{67E}\u{6CC}\u{648}\u{62A}\u{631} (\u{645}\u{627}\u{646}\u{646}\u{62F} \u{645}\u{648}\u{633}\u{60C} \u{6A9}\u{6CC}\u{628}\u{648}\u{631}\u{62F} \u{648} \u{645}\u{627}\u{646}\u{6CC}\u{62A}\u{648}\u{631})</li> </ul> <center><img src="https://www.digikala.com/mag/wp-content/uploads/2020/09/digikala-29.jpg" alt="\u{645}\u{62D}\u{635}\u{648}\u{644}\u{627}\u{62A} \u{6A9}\u{627}\u{645}\u{67E}\u{6CC}\u{648}\u{62A}\u{631}\u{6CC}"></center> <h2>\u{686}\u{631}\u{627} \u{645}\u{627} \u{631}\u{627} \u{627}\u{646}\u{62A}\u{62E}\u{627}\u{628} \u{6A9}\u{646}\u{6CC}\u{62F}\u{61F}</h2> <ul> <li><strong>\u{62A}\u{636}\u{645}\u{6CC}\u{646} \u{627}\u{635}\u{627}\u{644}\u{62A} \u{6A9}\u{627}\u{644}\u{627}:</strong> \u{62A}\u{645}\u{627}\u{645}\u{6CC} \u{645}\u{62D}\u{635}\u{648}\u{644}\u{627}\u{62A} \u{628}\u{627} \u{6AF}\u{627}\u{631}\u{627}\u{646}\u{62A}\u{6CC} \u{645}\u{639}\u{62A}\u{628}\u{631} \u{639}\u{631}\u{636}\u{647} \u{645}\u{6CC}\u{200C}\u{634}\u{648}\u{646}\u{62F}.</li> <li><strong>\u{627}\u{631}\u{633}\u{627}\u{644} \u{633}\u{631}\u{6CC}\u{639}:</strong> \u{627}\u{631}\u{633}\u{627}\u{644} \u{628}\u{647} \u{62A}\u{645}\u{627}\u{645} \u{646}\u{642}\u{627}\u{637} \u{6A9}\u{634}\u{648}\u{631} \u{62F}\u{631} \u{6A9}\u{648}\u{62A}\u{627}\u{647}\u{200C}\u{62A}\u{631}\u{6CC}\u{646} \u{632}\u{645}\u{627}\u{646} \u{645}\u{645}\u{6A9}\u{646}.</li> <li><strong>\u{67E}\u{634}\u{62A}\u{6CC}\u{628}\u{627}\u{646}\u{6CC} \u{62D}\u{631}\u{641}\u{647}\u{200C}\u{627}\u{6CC}:</strong> \u{62A}\u{6CC}\u{645} \u{645}\u{62A}\u{62E}\u{635}\u{635} \u{645}\u{627} \u{622}\u{645}\u{627}\u{62F}\u{647} \u{67E}\u{627}\u{633}\u{62E}\u{6AF}\u{648}\u{6CC}\u{6CC} \u{628}\u{647} \u{646}\u{6CC}\u{627}\u{632}\u{647}\u{627}\u{6CC} \u{634}\u{645}\u{627}\u{633}\u{62A}.</li> </ul> <p> \u{645}\u{627} \u{62F}\u{631} <strong>\u{641}\u{646}\u{627}\u{648}\u{631}\u{627}\u{646} \u{622}\u{631}\u{6CC}\u{627}</strong> \u{627}\u{641}\u{62A}\u{62E}\u{627}\u{631} \u{645}\u{6CC}\u{200C}\u{6A9}\u{646}\u{6CC}\u{645} \u{6A9}\u{647} \u{634}\u{631}\u{6CC}\u{6A9} \u{645}\u{637}\u{645}\u{626}\u{646} \u{634}\u{645}\u{627} \u{62F}\u{631} \u{62F}\u{646}\u{6CC}\u{627}\u{6CC} \u{641}\u{646}\u{627}\u{648}\u{631}\u{6CC} \u{628}\u{627}\u{634}\u{6CC}\u{645}. </p>`,db=function(){return(0,a.jsx)(N.X,{p:"xl",children:(0,a.jsx)("article",{className:"prose-sm",dangerouslySetInnerHTML:{__html:dx}})})},df=function(e){let{priceRange:t,onPriceChange:r}=e,i=(null==t?void 0:t.max)||2e7,l=(null==t?void 0:t.min)||0,[s,n]=(0,p.useState)([l,i]);return(0,a.jsx)(da,{title:"قیمت",children:(0,a.jsxs)(sw.K,{children:[(0,a.jsx)(n_.Y,{hideControls:!0,dir:"ltr",leftSection:(0,a.jsx)("span",{style:{fontSize:"14px"},children:"از"}),rightSection:(0,a.jsx)(dl,{}),value:s[0]??l,styles:{input:{paddingLeft:"24px",direction:"ltr",textAlign:"start"}},thousandSeparator:!0,onChange:e=>n([e||l,s[1]])}),(0,a.jsx)(n_.Y,{hideControls:!0,dir:"ltr",leftSection:(0,a.jsx)("span",{style:{fontSize:"14px"},children:"تا"}),rightSection:(0,a.jsx)(dl,{}),value:s[1]??i,styles:{input:{paddingLeft:"24px",direction:"ltr",textAlign:"start"}},thousandSeparator:!0,onChange:e=>n([s[0],e||i])}),(0,a.jsx)(di.U,{value:[s[0]??l,s[1]??i],min:l,step:5e5,max:i,label:e=>`${e.toLocaleString()} \u{62A}\u{648}\u{645}\u{627}\u{646}`,onChange:n}),(0,a.jsx)(z.z,{h:35,size:"xs",radius:99999,w:"max-content",onClick:()=>{r({min:s[0],max:s[1]})},children:"فیلتر"})]})})},dy=p.memo(e=>{let{isFetching:t,data:r,form:i,handleDynamicChange:l,setSearch:s,setPage:n,filterDisclosure:o,handlePriceChange:d}=e,c=(null==r?void 0:r.filters)||[],u=e=>{s(e.target.value),n(1)},m=e=>{d(e)},g=(e,t,r)=>{let a=i.values.dynamic[e]||[];l(e,r?[...a,t]:a.filter(e=>e!==t))};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(N.X,{h:83,display:"flex",style:{alignItems:"center"},children:(0,a.jsx)(ss.o,{w:"100%",variant:"filled",styles:{input:{height:45}},rightSection:(0,a.jsx)(sb.IconSearch,{size:18}),placeholder:"جستجو محصول",onChange:u})}),(0,a.jsx)(df,{priceRange:null==r?void 0:r.price,onPriceChange:m}),c.map((e,t)=>(0,a.jsx)(da,{title:e.title,children:(0,a.jsx)(sw.K,{mt:"xs",children:e.options.map(t=>{var r;return(0,a.jsx)(F.X,{label:t.label,checked:null==(r=i.values.dynamic[e.key])?void 0:r.includes(t.value),onChange:r=>g(e.key,t.value,r.target.checked)},t.value)})})},t)),(0,a.jsxs)(sU.d,{opened:o[0],onClose:o[1].close,title:"فیلترها",size:"100%",position:"right",children:[(0,a.jsx)(nS.f,{visible:t}),(0,a.jsxs)(sw.K,{children:[(0,a.jsx)(N.X,{h:83,display:"flex",style:{alignItems:"center"},children:(0,a.jsx)(ss.o,{w:"100%",variant:"filled",styles:{input:{height:45}},rightSection:(0,a.jsx)(sb.IconSearch,{size:18}),placeholder:"جستجو محصول",onChange:u})}),(0,a.jsx)(df,{priceRange:null==r?void 0:r.price,onPriceChange:m}),c.map((e,t)=>(0,a.jsx)(da,{title:e.title,children:(0,a.jsx)(sw.K,{mt:"xs",children:e.options.map(t=>{var r;return(0,a.jsx)(F.X,{label:t.label,checked:null==(r=i.values.dynamic[e.key])?void 0:r.includes(t.value),onChange:r=>g(e.key,t.value,r.target.checked)},t.value)})})},t))]})]})]})}),dj=p.memo(e=>{let{products:t}=e;return(0,a.jsx)(sz.M,{cols:{base:1,xs:2,sm:3,md:3,lg:4},mb:"xl",mt:"15",children:t.map((e,t)=>(0,a.jsx)(nG,{...e},t))})},(e,t)=>(0,m.wU)(e,t)),dv=[{label:"جدیدترین",value:"newest"},{label:"ارزان‌ترین",value:"lowest_price"},{label:"گران‌ترین",value:"highest_price"},{label:"پرفروش‌ترین",value:"best_selling"}],dC=function(e){let{enabled:t=!0}=e,r=(0,m.I0)(),[i]=(0,g.lr)(),{products:l,totalPages:s,currentPage:n,totalProducts:o,price:d,filters:c,loading:u,error:h,currentFilters:x,sortValue:b,searchTerm:f}=(0,m.v9)(e=>e.brandProducts),y=i.get("brand"),[j,v]=(0,p.useState)(""),[C]=(0,sX.c)(j,600),w=(0,s$.q)(!1),[k,S]=(0,s$.q)(!1),I=(0,sd.c)({initialValues:{price:{min:0,max:0},dynamic:{}}});(0,p.useEffect)(()=>{C!==f&&r(rU(C))},[C,f,r]),(0,p.useEffect)(()=>{y&&y!==x.brand&&r(rR({key:"brand",value:y}))},[y,x.brand,r]),(0,p.useEffect)(()=>{h&&!k&&S.open()},[h,k,S]),(0,p.useEffect)(()=>{if(t){let e={...x,brand:y||x.brand};x.priceRange&&(e.price_min=x.priceRange.min,e.price_max=x.priceRange.max,delete e.priceRange),delete e.brands,Object.keys(e).forEach(t=>{let r=e[t];(null==r||""===r||Array.isArray(r)&&0===r.length)&&delete e[t]}),r(r_(e))}},[x,y,t,r]),(0,p.useEffect)(()=>{d&&(d.min!==I.values.price.min||d.max!==I.values.price.max)&&I.setValues({...I.values,price:d})},[d]);let F=(0,p.useCallback)(e=>{r(rZ(e))},[r]),M=(0,p.useCallback)(e=>{r(rW(e))},[r]),T=(0,p.useCallback)((e,t)=>{r(rq({key:e,value:t})),I.setFieldValue(`dynamic.${e}`,t)},[r,I]),P=(0,p.useCallback)(e=>{I.setFieldValue("price",e),r(r$(e))},[r,I]),E=(0,p.useCallback)(e=>{v(e)},[]),_=e=>"string"==typeof e?e:(null==e?void 0:e.message)?e.message:(null==e?void 0:e.status)?eu(e.status):"خطای نامشخص رخ داده است",L=(0,p.useCallback)(()=>{r(rK("error")),S.close();let e={...x,brand:y||x.brand};x.priceRange&&(e.price_min=x.priceRange.min,e.price_max=x.priceRange.max,delete e.priceRange),delete e.brands,Object.keys(e).forEach(t=>{let r=e[t];(null==r||""===r||Array.isArray(r)&&0===r.length)&&delete e[t]}),r(r_(e))},[r,x,y,S]),B=(0,p.useCallback)(()=>{r(rK("error")),S.close()},[r,S]);if(u&&0===l.length&&!h)return(0,a.jsx)(si.M,{children:(0,a.jsx)(A.a,{})});if(h&&0===l.length&&!k)return(0,a.jsx)(si.M,{children:(0,a.jsx)(sw.K,{align:"center",gap:"md",children:(0,a.jsxs)(so.b,{icon:(0,a.jsx)(sb.IconAlertCircle,{size:16}),title:(null==h?void 0:h.status)>=500?"خطای سرور":(null==h?void 0:h.status)>=400?"خطای درخواست":(null==h?void 0:h.status)?`\u{62E}\u{637}\u{627} ${h.status}`:"خطا",color:(null==h?void 0:h.status)>=500?"red":(null==h?void 0:h.status)>=400?"orange":"red",variant:"light",style:{maxWidth:400},children:[(0,a.jsx)(se.x,{size:"sm",mb:"md",children:_(h)}),(0,a.jsx)(z.z,{leftSection:(0,a.jsx)(sb.IconRefresh,{size:16}),onClick:L,size:"sm",variant:"light",children:"تلاش مجدد"})]})})});return(0,a.jsxs)(sa.x,{pos:"relative",children:[(0,a.jsx)(nS.f,{visible:u,zIndex:50}),(0,a.jsx)(sp.u,{opened:k,onClose:B,title:(0,a.jsxs)(sh.Z,{gap:"xs",children:[(0,a.jsx)(sb.IconAlertCircle,{size:20,color:"var(--mantine-color-red-6)"}),(0,a.jsx)(D.D,{order:4,c:"red",children:"خطا"})]}),centered:!0,size:"sm",padding:"lg",styles:{title:{fontWeight:600},body:{padding:0}},children:(0,a.jsxs)(sw.K,{gap:"lg",p:"lg",pt:0,children:[(0,a.jsx)(se.x,{size:"sm",c:"dimmed",ta:"center",children:_(h)}),(0,a.jsxs)(sh.Z,{justify:"center",gap:"sm",children:[(0,a.jsx)(z.z,{leftSection:(0,a.jsx)(sb.IconRefresh,{size:16}),onClick:L,color:"red",variant:"light",size:"sm",children:"تلاش مجدد"}),(0,a.jsx)(z.z,{leftSection:(0,a.jsx)(sb.IconX,{size:16}),onClick:B,variant:"subtle",color:"gray",size:"sm",children:"بستن"})]})]})}),(0,a.jsxs)(sN.r,{children:[(0,a.jsxs)(sD.$,{span:{md:3},children:[(0,a.jsx)(sw.K,{visibleFrom:"md",children:(0,a.jsx)(dy,{data:{price:d,filters:c},form:I,setSearch:E,handleDynamicChange:T,handlePriceChange:P,setPage:()=>r(rW(1)),filterDisclosure:w,isFetching:u,slug:y})}),(0,a.jsx)(z.z,{hiddenFrom:"md",leftSection:(0,a.jsx)(sb.IconFilter,{size:18}),onClick:w[1].open,children:"فیلتر ها"})]}),(0,a.jsxs)(sD.$,{span:{md:9},children:[(0,a.jsx)(N.X,{py:"md",children:(0,a.jsxs)(l9.k,{w:"100%",gap:"lg",align:"center",justify:{base:"space-between",xs:"initial"},children:[(0,a.jsxs)(l9.k,{align:"center",gap:"xs",c:"gray.7",children:[(0,a.jsx)(sb.IconSortDescending,{size:16}),(0,a.jsx)(se.x,{size:"sm",children:"مرتب سازی بر اساس:"})]}),(0,a.jsx)(dr.s,{visibleFrom:"md",withItemsBorders:!1,styles:{root:{padding:"10px 0"},control:{margin:"0 10px"}},data:dv,value:b,onChange:F}),(0,a.jsx)(nE.P,{w:"150",hiddenFrom:"md",data:dv,value:b,onChange:F})]})}),l.length>0?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(dj,{products:l}),(0,a.jsx)(si.M,{children:(0,a.jsx)(n3.t,{total:s,value:n,onChange:M})})]}):u||h?null:(0,a.jsx)(si.M,{py:"xl",children:(0,a.jsx)(se.x,{children:"هیچ محصولی یافت نشد"})})]})]}),(0,a.jsx)(sU.d,{opened:w[0],onClose:w[1].close,title:"فیلتر ها",position:"right",children:(0,a.jsx)(dy,{data:{price:d,filters:c},form:I,setSearch:E,handleDynamicChange:T,handlePriceChange:P,setPage:()=>r(rW(1)),filterDisclosure:w,isFetching:u,slug:y})})]})},dw=function(e){let{children:t,id:r,activeTab:i}=e,[l,s]=(0,p.useState)(0),n=`/seller/${r}/products`;return(0,p.useEffect)(()=>{"products"===i&&s(e=>e+1)},[i]),(0,a.jsx)(dC,{url:n,activeTab:i,enabled:l>=1})},dk=function(e){let{activeTab:t}=e,[r,i]=(0,p.useState)(0),[l,s]=(0,p.useState)(1),{data:n,isLoading:o,isFetching:d}=k({url:"/seller/123/comments",queryKey:["seller-comments",l],queryOptions:{enabled:r>=1,staleTime:3e5},bodyData:{limit:15,page:l}});return(0,p.useEffect)(()=>{"comments"===t&&i(e=>e+1)},[t]),(0,a.jsx)(a.Fragment,{children:o?(0,a.jsx)(si.M,{children:(0,a.jsx)(A.a,{})}):(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(a.Fragment,{children:(null==n?void 0:n.comments)?(0,a.jsxs)("div",{style:{position:"relative"},children:[(0,a.jsxs)(N.X,{mb:"lg",p:"xl",children:[(0,a.jsx)(nS.f,{visible:d,zIndex:1e3}),(0,a.jsxs)(l9.k,{w:"100%",justify:"space-between",align:"baseline",children:[(0,a.jsx)(nq,{size:"md",children:"نقد و بررسی کاربران"}),(0,a.jsxs)(l9.k,{align:"align",children:[(0,a.jsxs)(l9.k,{direction:"column",align:"end",children:[(0,a.jsx)(n4.i,{size:"md",mb:"xs",value:n.rating,readOnly:!0}),(0,a.jsxs)(se.x,{c:"gray",size:"sm",children:["بر اساس نظرات ",n.count," کاربر"]})]}),(0,a.jsx)(sH.i,{orientation:"vertical",mx:"md"}),(0,a.jsx)(D.D,{size:"35",c:"gray.7",children:"4.6"})]})]})]}),(0,a.jsx)(sz.M,{cols:{base:1,xs:2,md:3},my:"xl",children:n.comments.map((e,t)=>(0,a.jsx)(n5,{paper:!0,...e},t))}),(0,a.jsx)(n3.t,{total:n.total/15,mt:"xl",value:l,onChange:s})]}):(0,a.jsx)(N.X,{py:"xl",children:(0,a.jsx)(si.M,{c:"gray",children:(0,a.jsxs)(l9.k,{direction:"column",align:"center",gap:"xl",children:[(0,a.jsx)(sb.IconMessages,{size:32}),(0,a.jsx)(se.x,{children:"دیدگاهی برای این فروشنده ثبت نشده است."})]})})})})})})},dS=e=>{let{index:t}=e;return(0,a.jsx)("div",{style:{width:"100%",height:"200px",backgroundColor:"#f8f9fa",display:"flex",alignItems:"center",justifyContent:"center",border:"2px dashed #dee2e6",borderRadius:"8px",transform:"scale(0.9)",transition:"transform 0.3s ease"},children:(0,a.jsx)("div",{style:{textAlign:"center",color:"#868e96"},children:(0,a.jsx)(sb.IconPhoto,{size:48,style:{marginBottom:"8px"}})})})},dI=e=>{let{item:t,index:r}=e,[i,l]=(0,p.useState)({mobile:!1,tablet:!1,desktop:!1,fallback:!1}),s=e=>!e||""===e||null==e||Array.isArray(e)&&(0===e.length||""===e[0]),n=s(t.mobileImage)&&s(t.tabletImage)&&s(t.desktopImage)||i.mobile&&i.tablet&&i.desktop||i.fallback,o=e=>{l(t=>({...t,[e]:!0}))};if(n)return(0,a.jsx)(dS,{index:r});let d=s(t.desktopImage)?s(t.tabletImage)?s(t.mobileImage)?null:t.mobileImage:t.tabletImage:t.desktopImage;return(0,a.jsxs)("picture",{children:[!s(t.mobileImage)&&!i.mobile&&(0,a.jsx)("source",{media:"(max-width: 600px)",srcSet:`${t.mobileImage} 480w`,onError:()=>o("mobile")}),!s(t.tabletImage)&&!i.tablet&&(0,a.jsx)("source",{media:"(max-width: 900px)",srcSet:`${t.tabletImage} 800w`,onError:()=>o("tablet")}),!s(t.desktopImage)&&!i.desktop&&(0,a.jsx)("source",{media:"(min-width: 901px)",srcSet:`${t.desktopImage} 1200w`,onError:()=>o("desktop")}),d&&(0,a.jsx)("img",{src:d,alt:`Slide ${r+1}`,className:"wide-slide-image",style:{width:"100%",height:"200px",objectFit:"cover",transform:"scale(0.9)",transition:"transform 0.3s ease"},onError:()=>o("fallback")})]})},dz=function(e){let{items:t}=e,r=(0,p.useRef)(null),i=(null==t?void 0:t.filter(e=>e&&e.url))||[];return 0===i.length?(0,a.jsx)(I.W,{fluid:!0,children:(0,a.jsxs)(sa.x,{w:"100%",style:{textAlign:"center",padding:"40px",color:"#868e96"},children:[(0,a.jsx)(sb.IconPhoto,{size:64,style:{marginBottom:"16px"}}),(0,a.jsx)("div",{children:"هیچ اسلایدی برای نمایش وجود ندارد"})]})}):(0,a.jsx)(I.W,{fluid:!0,children:(0,a.jsxs)(sa.x,{w:"100%",pos:"relative",children:[(0,a.jsx)(sB.A,{variant:"white",radius:999,size:"lg",onClick:()=>{r.current&&r.current.swiper&&r.current.swiper.slidePrev()},className:"wide-carousel-prev",styles:{root:{transform:"none"}},children:(0,a.jsx)(sb.IconChevronRight,{size:18})}),(0,a.jsx)(sB.A,{variant:"white",radius:999,size:"lg",onClick:()=>{r.current&&r.current.swiper&&r.current.swiper.slideNext()},className:"wide-carousel-next",styles:{root:{transform:"none"}},children:(0,a.jsx)(sb.IconChevronLeft,{size:18})}),(0,a.jsx)(nU.tq,{style:{width:"100%"},ref:r,modules:[n$.W_],loop:i.length>1,spaceBetween:10,children:i.map((e,t)=>(0,a.jsx)(nU.o5,{children:(0,a.jsx)(T.e,{h:"auto",underline:"never",component:g.OL,to:e.url,children:(0,a.jsx)(dI,{item:e,index:t})})},t))})]})})},dN=r.p+"static/svg/FeaturedPromos.2e65b0c3.svg",dD=r.p+"static/image/box.d36f6890.webp";function dA(e){let{items:t=[]}=e,r=(0,p.useRef)(null),[i,l]=(0,p.useState)(!0),[s,n]=(0,p.useState)(!1),o=e=>{l(e.isBeginning),n(e.isEnd)};return t&&0!==t.length?(0,a.jsxs)(sa.x,{p:"sm",className:"bg-red-500",style:{borderRadius:"15px"},pos:"relative",children:[!i&&(0,a.jsx)(sB.A,{variant:"white",radius:999,size:"lg",onClick:()=>{r.current&&r.current.swiper&&r.current.swiper.slidePrev()},className:"badged-carousel-prev border border-solid border-slate-300",styles:{root:{transform:"none"}},children:(0,a.jsx)(sb.IconChevronRight,{size:18})}),!s&&(0,a.jsx)(sB.A,{variant:"white",radius:999,size:"lg",onClick:()=>{r.current&&r.current.swiper&&r.current.swiper.slideNext()},className:"badged-carousel-next border border-solid border-slate-300",styles:{root:{transform:"none"}},children:(0,a.jsx)(sb.IconChevronLeft,{size:18})}),(0,a.jsxs)(nU.tq,{ref:r,slidesPerView:"auto",spaceBetween:10,loop:!1,modules:[n$.Rv,n$.W_],freeMode:!0,onSliderMove:o,onSlideChange:o,children:[(0,a.jsx)(nU.o5,{className:"badged-slider-left-right",children:(0,a.jsxs)(l9.k,{justify:"center",align:"center",gap:"xl",w:"100%",h:"100%",direction:"column",children:[(0,a.jsx)(sl.E,{w:70,src:dN}),(0,a.jsx)(sl.E,{w:70,src:dD})]})}),t.map((e,t)=>(0,a.jsx)(nU.o5,{style:{width:"250px",height:"auto"},children:(0,a.jsx)(nG,{...e})},t)),(0,a.jsx)(nU.o5,{className:"badged-slider-left-right",children:(0,a.jsxs)(l9.k,{justify:"center",align:"center",gap:"md",w:"100%",h:"100%",direction:"column",children:[(0,a.jsx)(se.x,{c:"white",component:g.OL,to:"/incredible-offers",children:"مشاهده همه"}),(0,a.jsx)(sB.A,{size:"lg",variant:"white",component:g.OL,to:"/incredible-offers",children:(0,a.jsx)(sb.IconChevronLeft,{})})]})})]})]}):null}dA.craft={props:{title:"دسته بندی ها",title_align:"center",items:[]}};var dF=r(21433);let dM=e=>{let{children:t,container:r=!0}=e;return(0,a.jsx)(sa.x,{component:"/editor"===location.pathname?dT:"div",children:r?(0,a.jsx)(I.W,{children:t}):t})},dT=e=>{let{children:t}=e,{connectors:{connect:r,drag:i},selected:l,id:s,actions:{setProp:n}}=(0,dF.Zo)(e=>({selected:e.events.selected})),o=(0,m.I0)();return(0,a.jsx)("div",{ref:e=>r(i(e)),onClick:()=>o(K()),children:t})};var dP=r(25546),dE=r(55679),d_=r(30690),dL=r(40370),dB=r(77447),dO=r(1242);r(84107);let dR=r(2093).hj.create({name:"textSize",addOptions:()=>({types:["textStyle"]}),addGlobalAttributes(){return[{types:this.options.types,attributes:{fontSize:{default:null,parseHTML:e=>{var t;return null==(t=e.style.fontSize)?void 0:t.replace(/['"]+/g,"")},renderHTML:e=>e.fontSize?{style:`font-size: ${e.fontSize}`}:{}}}}]},addCommands:()=>({setFontSize:e=>t=>{let{chain:r}=t;return r().setMark("textStyle",{fontSize:e}).run()},unsetFontSize:()=>e=>{let{chain:t}=e;return t().setMark("textStyle",{fontSize:null}).run()}})});var dW=r(99907),dZ=r(50539),dU=r(21594);let d$=p.memo(function(e){let{value:t,onChange:r}=e,[i,l]=(0,p.useState)(16),[s,n]=(0,p.useState)(!1),o=(0,dE.jE)({extensions:[d_.Z,dU.Z,dR,dB.Z,dO.Z.configure({types:["paragraph"]})],content:t,onUpdate:e=>{let{editor:t}=e;r(t.getHTML())}});return(0,a.jsxs)(dL.L,{editor:o,styles:{content:{fontSize:"14px"}},children:[(0,a.jsxs)(dL.L.Toolbar,{children:[(0,a.jsxs)(dL.L.ControlsGroup,{children:[(0,a.jsx)(dL.L.Bold,{}),(0,a.jsx)(dL.L.Italic,{}),(0,a.jsx)(dL.L.Underline,{}),(0,a.jsx)(dL.L.Strikethrough,{}),(0,a.jsx)(dL.L.ClearFormatting,{})]}),(0,a.jsxs)(dL.L.ControlsGroup,{children:[(0,a.jsx)(dL.L.Undo,{}),(0,a.jsx)(dL.L.Redo,{})]}),(0,a.jsxs)(dL.L.ControlsGroup,{children:[(0,a.jsx)(dL.L.Blockquote,{}),(0,a.jsx)(dL.L.Hr,{}),(0,a.jsx)(dL.L.BulletList,{}),(0,a.jsx)(dL.L.OrderedList,{}),(0,a.jsx)(dL.L.Subscript,{}),(0,a.jsx)(dL.L.Superscript,{})]}),(0,a.jsxs)(dL.L.ControlsGroup,{children:[(0,a.jsx)(dL.L.AlignLeft,{}),(0,a.jsx)(dL.L.AlignCenter,{}),(0,a.jsx)(dL.L.AlignJustify,{}),(0,a.jsx)(dL.L.AlignRight,{})]}),(0,a.jsx)(dL.L.ControlsGroup,{children:(0,a.jsxs)(dW.J,{clickOutsideEvents:["mouseup","touchend"],opened:s,onClose:()=>n(!1),position:"bottom",withArrow:!0,children:[(0,a.jsx)(dW.J.Target,{children:(0,a.jsx)(z.z,{onClick:()=>n(e=>!e),variant:"default",size:"xs",h:26,px:"xs",c:"gray.7",children:(0,a.jsx)(sb.IconTextSize,{size:16,stroke:1.5})})}),(0,a.jsx)(dW.J.Dropdown,{children:(0,a.jsx)(dZ.i,{value:i,onChange:e=>{l(e),null==o||o.commands.setFontSize(`${e}px`)},min:8,max:72,step:1,style:{width:"200px"},label:e=>`${e}px`})})]})})]}),(0,a.jsx)(dL.L.Content,{})]})},(e,t)=>!(0,nY.w)(e,t));var dq=r(75182),dK=r(45926),dV=r(76342),dH=r(91476);let dG=(0,p.memo)(function(){return(0,a.jsx)(sa.x,{pos:"absolute",w:"100%",h:"100%",bg:"rgba(255,255,255,0.3)",style:{backdropFilter:"blur(10px)",zIndex:4}})}),dX=(0,p.memo)(function(e){let{mutateAsync:t,progress:r,isSuccess:i}=(e=>{let[t,r]=(0,p.useState)(0);return{...(0,j.D)({mutationKey:e,mutationFn:async t=>{let{data:a}=await w.post(e,t,{onUploadProgress:e=>{r(Math.round(e.loaded/e.total*100))},headers:{"Content-type":"multipart/form-data","Access-Control-Allow-Origin":"*"}});return a}}),progress:t}})(e.sendUrl);return(0,p.useEffect)(()=>{let r=new FormData;r.append("file",e.file),t(r,{onSuccess:t=>{t&&(e.setSuccess(i),e.onChange(t.data.url))}})},[]),(0,a.jsx)(dH.T,{style:{zIndex:6},sections:[{value:r||0,color:"primary"}],label:(0,a.jsx)(si.M,{children:(0,a.jsx)(se.x,{c:"black",fw:700,ta:"center",size:"xl",children:r||0})})})}),dY=e=>{let{file:t,url:r,deleteUrl:i,items:l,setItems:s,preview:n=!0,onChange:o}=e,d=function(e){let{url:t,params:r,method:a="post",axiosOption:i}=e;return(0,j.D)({mutationKey:`${t}_${a}`,mutationFn:async e=>{let{data:l}=await w.request({url:t,data:e,method:a,params:r,withCredentials:!1,...i});return(null==l?void 0:l.data)?null==l?void 0:l.data:l},retry:!1})}({url:r,method:"DELETE"}),[c,u]=(0,p.useState)(null),[m,g]=(0,p.useState)(!1);return(0,p.useLayoutEffect)(()=>{t instanceof File?u(URL.createObjectURL(t)):"string"==typeof t&&u(t)},[t]),null!==c&&(0,a.jsx)(dV.X,{pos:"absolute",top:0,left:0,style:{overflow:"hidden",zIndex:10},w:"100%",h:145,radius:"lg",src:c,children:!0===n?null:(0,a.jsxs)(a.Fragment,{children:[m&&(0,a.jsx)(sa.x,{pos:"absolute",top:7,right:7,children:(0,a.jsx)(sB.A,{w:30,h:30,radius:"xl",color:"dark",onClick:()=>void d.mutateAsync(null,{onSuccess:()=>{s(e=>e.filter(e=>e!==t))}}),loading:d.isLoading,children:(0,a.jsx)(sb.IconTrash,{size:20})})}),!m&&(0,a.jsxs)(si.M,{h:"100%",children:[(0,a.jsx)(dG,{}),(0,a.jsx)(dX,{file:c,sendUrl:r,setSuccess:g,setImageUrl:u,onChange:o})]})]})})},dJ=p.memo(e=>{let{url:t,deleteUrl:r,label:i,items:l,setItems:s,maxFiles:n,maxSize:o,children:d,onChange:c}=e,[u,m]=(0,p.useState)([]),[g,x]=(0,p.useState)(!0),b=u.map((e,i)=>(0,a.jsx)(dY,{preview:g,file:e,url:t,deleteUrl:r,setItems:m,onChange:c},i));(0,p.useEffect)(()=>{m(l)},[l]);let f=(0,p.useRef)(null);return(0,a.jsxs)(a.Fragment,{children:[i&&(0,a.jsx)(se.x,{size:"xs",mb:"sm",children:i}),(0,a.jsxs)(sa.x,{h:145,w:"100%",pos:"relative",children:[u.length>0&&""!==u[0]&&(0,a.jsx)(sB.A,{style:{zIndex:30},size:"sm",color:"red",pos:"absolute",top:10,left:10,onClick:()=>{c(""),m([])},children:(0,a.jsx)(sb.IconTrash,{size:14})}),(0,a.jsx)(dq.fh,{accept:dK.d1,maxFiles:n||1,maxSize:o||2097152,onReject:e=>{e[0].errors.map(e=>{"too-many-files"===e.code?h.N9.show({color:"red",message:"فقط میتوانید 1 فایل آپلود کنید"}):"file-too-large"===e.code?h.N9.show({color:"red",message:"حجم فایل باید حداکثر 10 مگابایت باشد"}):"file-too-small"===e.code?h.N9.show({color:"red",message:"حجم فایل باید حداقل 1 کیلوبایت باشد"}):"file-invalid-type"===e.code?h.N9.show({color:"red",message:"نوع فایل نامعتبر است. لطفاً یک فایل مجاز انتخاب کنید"}):h.N9.show({color:"red",message:`\u{62E}\u{637}\u{627}\u{6CC} \u{646}\u{627}\u{634}\u{646}\u{627}\u{62E}\u{62A}\u{647}: ${e.code}`})})},styles:{root:{display:"none",border:0}},openRef:f,onDrop:function(e){m(e),x(!1)},activateOnClick:!1}),(u.length<1||""===u[0])&&(0,a.jsxs)(l9.k,{direction:"column",align:"center",justify:"center",pos:"absolute",top:0,left:0,style:{zIndex:20,borderRadius:"16px",cursor:"pointer",backgroundColor:"var(--mantine-color-gray-1)"},h:145,w:"100%",onClick:()=>{var e;return null==(e=f.current)?void 0:e.call(f)},children:[(0,a.jsx)(sb.IconUpload,{}),(0,a.jsx)(se.x,{children:"آپلود تصویر"})]}),b]})]})},(e,t)=>!(0,nY.w)(e,t)),dQ=function(e){let{label:t,number:r,unit:i,onChange:l}=e,[s,n]=(0,p.useState)(i||"px"),[o,d]=(0,p.useState)(r);return(0,p.useEffect)(()=>{l(`${o}${s}`)},[s,o]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(se.x,{size:"xs",mb:"xs",children:t}),(0,a.jsxs)(l9.k,{align:"end",gap:"xs",children:[(0,a.jsx)(n_.Y,{value:o,onChange:e=>d(e),w:"100%",variant:"filled",size:"xs",hideControls:!0}),(0,a.jsx)(nE.P,{variant:"filled",w:"100px",defaultValue:s,value:s,onChange:e=>n(e),size:"xs",data:[{label:"px",value:"px"},{label:"%",value:"%"},{label:"em",value:"em"},{label:"rem",value:"rem"},{label:"vw",value:"vw"}]})]})]})},d0=e=>{let{value:t,onChange:r,label:i}=e,[l,s,n,o]=t.split(" ").map(e=>parseInt(e)),[d,c]=(0,p.useState)({top:l,right:s,bottom:n,left:o}),[u,m]=(0,p.useState)(!0),[g,h]=(0,p.useState)("px"),x=(e,t)=>{let a={...d,[e]:t};u?(c({top:t,right:t,bottom:t,left:t}),r(`${t}${g} ${t}${g} ${t}${g} ${t}${g}`)):(c(a),r(`${a.top}${g} ${a.right}${g} ${a.bottom}${g} ${a.left}${g}`))};return(0,a.jsxs)("div",{children:[(0,a.jsxs)(sh.Z,{justify:"space-between",mb:"sm",children:[(0,a.jsx)(se.x,{size:"xs",children:i}),(0,a.jsx)(nE.P,{variant:"unstyled",size:"xs",value:g,onChange:e=>{h(e),r(`${d.top}${e} ${d.right}${e} ${d.bottom}${e} ${d.left}${e}`)},data:[{value:"px",label:"px"},{value:"em",label:"em"},{value:"rem",label:"rem"}],w:"70px"})]}),(0,a.jsxs)(sz.M,{cols:5,spacing:"xs",children:[(0,a.jsxs)(l9.k,{align:"center",direction:"column",gap:6,children:[(0,a.jsx)(n_.Y,{value:d.top,onChange:e=>x("top",e),hideControls:!0,placeholder:"بالا",size:"xs",variant:u?"filled":"default"}),(0,a.jsx)(se.x,{size:"10",lh:0,children:"بالا"})]}),(0,a.jsxs)(l9.k,{align:"center",direction:"column",gap:6,children:[(0,a.jsx)(n_.Y,{value:d.right,onChange:e=>x("right",e),hideControls:!0,placeholder:"راست",size:"xs",variant:u?"filled":"default"}),(0,a.jsx)(se.x,{size:"10",lh:0,children:"راست"})]}),(0,a.jsxs)(l9.k,{align:"center",direction:"column",gap:6,children:[(0,a.jsx)(n_.Y,{value:d.bottom,onChange:e=>x("bottom",e),hideControls:!0,placeholder:"پایین",size:"xs",variant:u?"filled":"default"}),(0,a.jsx)(se.x,{size:"10",lh:0,children:"پایین"})]}),(0,a.jsxs)(l9.k,{align:"center",direction:"column",gap:6,children:[(0,a.jsx)(n_.Y,{value:d.left,onChange:e=>x("left",e),hideControls:!0,placeholder:"چپ",size:"xs",variant:u?"filled":"default"}),(0,a.jsx)(se.x,{size:"10",lh:0,children:"چپ"})]}),(0,a.jsx)(sB.A,{variant:u?"filled":"outline",color:"gray",onClick:()=>m(!u),size:"xs",h:"30",w:"100%",children:u?(0,a.jsx)(sb.IconLock,{size:16}):(0,a.jsx)(sb.IconLockOpen,{size:16})})]})]})};var d1=r(29952),d6=r(85131);let d2=function(e){let{type:t,label:r,onChange:i}=e,l=(0,d1.K)({onDropdownClose:()=>l.resetSelectedOption()}),[s,n]=(0,p.useState)(""),[o,d]=(0,p.useState)(null),[c,u]=(0,p.useState)(!1),[m]=(0,sX.c)(s,300),g=(0,p.useCallback)(async e=>{if(!e.trim())return void d(null);u(!0);try{let r=await fetch("/advanced-search",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:t,s:e})});if(!r.ok)throw Error(`HTTP error! status: ${r.status}`);let a=await r.json();d(a.data||[])}catch(e){console.error("Search failed:",e),d([])}finally{u(!1)}},[t]);(0,p.useEffect)(()=>{g(m)},[m,g]);let h=(o||[]).map((e,t)=>(0,a.jsx)(d6.h.Option,{value:e.value,children:e.label},t));return(0,a.jsxs)(d6.h,{onOptionSubmit:(e,t)=>{n(t.children),i({label:t.children,value:t.value}),l.closeDropdown()},withinPortal:!1,store:l,children:[(0,a.jsx)(d6.h.Target,{children:(0,a.jsx)(ss.o,{variant:"filled",size:"xs",label:r,value:s,onChange:e=>{n(e.currentTarget.value),l.resetSelectedOption(),l.openDropdown()},onClick:()=>l.openDropdown(),onBlur:()=>l.closeDropdown(),rightSection:c&&(0,a.jsx)(A.a,{size:18})})}),(0,a.jsx)(d6.h.Dropdown,{hidden:null===o,children:(0,a.jsxs)(d6.h.Options,{children:[h,!o&&""!==s&&(0,a.jsx)(d6.h.Empty,{children:"چیزی یافت نشد"})]})})]})};var d4=r(2461),d3=r(16045);let d5=p.memo(function(e){let{onChange:t,label:r,fields:i,...l}=e,[s,n]=(0,p.useState)([]);return(0,a.jsxs)("div",{...l,children:[(0,a.jsx)(se.x,{size:"xs",mb:"sm",children:r}),(0,a.jsx)(d3.Z5,{onDragEnd:e=>{let{destination:r,source:a}=e;if(!r)return;let i=Array.from(s),[l]=i.splice(a.index,1);i.splice(r.index,0,l),n(i),t&&t(i)},children:(0,a.jsx)(d3.bK,{droppableId:"droppable",children:e=>(0,a.jsxs)("div",{ref:e.innerRef,...e.droppableProps,children:[(0,a.jsx)(d4.U,{variant:"separated",children:s.map((e,r)=>(0,a.jsx)(d3._l,{draggableId:e.id,index:r,children:l=>(0,a.jsx)("div",{ref:l.innerRef,...l.draggableProps,style:{marginBottom:"10px",...l.draggableProps.style},children:(0,a.jsxs)(d4.U.Item,{value:`item-${r}`,children:[(0,a.jsxs)("div",{...l.dragHandleProps,style:{display:"flex",alignItems:"center"},children:[(0,a.jsx)("span",{style:{cursor:"grab",paddingRight:"10px"},children:"::"}),(0,a.jsxs)(d4.U.Control,{children:["#",e.sequenceNumber," "]})]}),(0,a.jsxs)(d4.U.Panel,{children:[i.map((i,l)=>(0,a.jsx)("div",{style:{marginBottom:"10px"},children:(0,a.jsx)(d8,{...i,value:e[i.name],onChange:e=>((e,r,a)=>{let i=s.map((t,i)=>i===e?{...t,[r]:a}:t);n(i),t&&t(i)})(r,i.name,e)})},l)),(0,a.jsx)(z.z,{size:"xs",h:35,color:"red",onClick:()=>(e=>{let r=s.filter((t,r)=>r!==e);n(r),t&&t(r)})(r),children:(0,a.jsx)(sb.IconTrash,{size:16})})]})]})})},e.id))}),e.placeholder]})})}),(0,a.jsx)(z.z,{size:"xs",onClick:()=>{let e=i.reduce((e,t)=>(e[t.name]="",e),{}),r=s.length+1,a=[...s,{id:`${Date.now()}`,sequenceNumber:r,...e}];n(a),t&&t(a)},mt:"md",children:"افزودن"})]})},(e,t)=>!(0,nY.w)(e,t)),d8=function(e){let{type:t,value:r,label:i,onChange:l,...s}=e,n=e=>{l&&l(e)};switch(t){case"text":return(0,a.jsx)(ss.o,{...s,size:"xs",variant:"filled",label:i,value:r||"",onChange:e=>n(e.target.value)});case"number":return(0,a.jsx)(n_.Y,{...s,size:"xs",label:i,variant:"filled",value:r||"",onChange:n});case"color":return(0,a.jsx)(dP.T,{...s,size:"xs",label:i,value:r||"",onChange:n,rightSection:r&&(0,a.jsx)(sB.A,{variant:"transparent",size:"xs",onClick:()=>n(""),children:(0,a.jsx)(sb.IconX,{})})});case"unit":return(0,a.jsx)(dQ,{...s,label:i,value:r||"",onChange:n});case"select":return(0,a.jsx)(nE.P,{...s,size:"xs",label:i,value:r||"",onChange:n});case"wysiwyg":return(0,a.jsx)(d$,{...s,value:r||"",onChange:n});case"image":return(0,a.jsx)(dJ,{...s,label:i,maxFiles:1,items:[r],url:"/upload",maxSize:6291456,onChange:n});case"segmented":return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(se.x,{size:"xs",mb:"sm",children:i}),(0,a.jsx)(dr.s,{...s,size:"xs",label:!0,labe:!0,value:r||"",onChange:n})]});case"hr":return(0,a.jsx)(sH.i,{...s});case"edge":return(0,a.jsx)(d0,{...s,label:i,value:r||"",onChange:n});case"advancedSearch":return(0,a.jsx)(d2,{...s,label:i,onChange:n});case"repeater":return(0,a.jsx)(d5,{...s,label:i,onChange:n,fields:s.fields});default:return null}},d7=p.memo(function(e){let{full:t=!1,propKey:r,type:i,onChange:l,index:s,label:n,...o}=e,{actions:{setProp:d},propValue:c}=(0,dF.Zo)(e=>({propValue:e.data.props[r]})),u=Array.isArray(c)?c[s]:c;return(0,a.jsx)(sa.x,{mb:"md",children:(0,a.jsx)(d8,{type:i,value:u,label:n,onChange:e=>{d(t=>{t[r]=l?l(e):e})},...o})})},(e,t)=>!(0,nY.w)(e,t));function d9(e){let{items:t,title:r,title_align:i}=e;return t&&0!==t.length?(0,a.jsxs)(dM,{children:[(0,a.jsx)(se.x,{mb:"xl",size:"xl",fw:"600",ta:i,children:r}),(0,a.jsx)(sz.M,{cols:{base:3,xs:4,lg:8},spacing:"md",verticalSpacing:"50",children:null==t?void 0:t.map((e,t)=>(0,a.jsxs)(l9.k,{direction:"column",justify:"flex-start",align:"center",gap:"sm",component:g.OL,to:`/category/${e.url}`,opacity:e.display?1:.4,h:150,style:{pointerEvents:e.display?"auto":"none",border:e.display?"2px solid green":"2px dashed gray",borderRadius:8,padding:8},children:[(0,a.jsx)(sa.x,{style:{flex:"0 0 auto"},children:e.image&&null!==e.image?(0,a.jsx)(sl.E,{w:60,h:60,fit:"contain",src:e.image,alt:e.title}):(0,a.jsxs)(l9.k,{w:60,h:60,justify:"center",align:"center",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",borderRadius:"12px",boxShadow:"0 4px 15px rgba(102, 126, 234, 0.2)",position:"relative",overflow:"hidden"},children:[(0,a.jsx)(sa.x,{style:{position:"absolute",top:0,left:0,right:0,bottom:0,background:"url(\"data:image/svg+xml,%3Csvg width='20' height='20' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='%23ffffff' fill-opacity='0.1'%3E%3Ccircle cx='3' cy='3' r='3'/%3E%3Ccircle cx='13' cy='13' r='3'/%3E%3C/g%3E%3C/svg%3E\")",opacity:.3}}),(0,a.jsx)(sb.IconCategory,{size:20,color:"white",style:{zIndex:1}})]})}),(0,a.jsx)(sa.x,{style:{flex:"1 1 auto",display:"flex",alignItems:"center",minHeight:"30px",maxHeight:"50px",width:"100%"},children:(0,a.jsx)(se.x,{ta:"center",fw:"600",size:"xs",style:{lineHeight:"1.2",overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:3,WebkitBoxOrient:"vertical",wordBreak:"break-word",width:"100%"},children:e.title})}),!e.display&&(0,a.jsx)(sa.x,{style:{flex:"0 0 auto",minHeight:"20px"},children:"pro"===e.subscriptionModel.modelId?(0,a.jsx)(se.x,{size:"xs",color:"red",ta:"center",children:"نیاز به اشتراک ویژه"}):"gold"===e.subscriptionModel.modelId?(0,a.jsx)(se.x,{size:"xs",color:"red",ta:"center",children:"نیاز به اشتراک حرفه ای"}):null})]},t))})]}):null}function ce(e){let{items:t}=e,[r,i]=(0,p.useState)(new Set);return t&&0!==t.length?(0,a.jsx)(dM,{children:(0,a.jsx)(sN.r,{gap:"md",children:t&&t.map((e,t)=>(0,a.jsx)(sD.$,{span:{base:6,lg:3},children:(0,a.jsx)(g.OL,{to:e.url||"#",children:((e,t)=>{if(!e.image||null===e.image||""===e.image||r.has(t)){let e=["linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%)","linear-gradient(135deg, #4ecdc4 0%, #44a08d 100%)","linear-gradient(135deg, #45b7d1 0%, #2c3e50 100%)","linear-gradient(135deg, #f093fb 0%, #f5576c 100%)","linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)","linear-gradient(135deg, #43e97b 0%, #38f9d7 100%)"],r=e[t%e.length];return(0,a.jsxs)(l9.k,{h:{base:180,lg:300},justify:"center",align:"center",direction:"column",gap:"md",style:{background:r,borderRadius:"12px",position:"relative",overflow:"hidden",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.1)"},children:[(0,a.jsx)(sa.x,{style:{position:"absolute",top:0,left:0,right:0,bottom:0,background:"url(\"data:image/svg+xml,%3Csvg width='40' height='40' viewBox='0 0 40 40' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='%23ffffff' fill-opacity='0.1'%3E%3Cpath d='M20 20c0 11.046-8.954 20-20 20v-40c11.046 0 20 8.954 20 20z'/%3E%3C/g%3E%3C/svg%3E\")",opacity:.3}}),(0,a.jsx)(sa.x,{style:{position:"absolute",top:"15%",right:"20%",zIndex:1},children:(0,a.jsx)(sb.IconSparkles,{size:20,color:"rgba(255,255,255,0.6)"})}),(0,a.jsx)(sa.x,{style:{position:"absolute",bottom:"20%",left:"15%",zIndex:1},children:(0,a.jsx)(sb.IconSparkles,{size:16,color:"rgba(255,255,255,0.4)"})}),(0,a.jsx)(sb.IconPhoto,{size:60,color:"white",style:{zIndex:2}})]})}return(0,a.jsx)(sl.E,{h:{base:180,lg:300},fit:{lg:"cover"},display:"block",radius:"lg",src:e.image,alt:`Banner ${t+1}`,onError:()=>{i(e=>new Set([...e,t]))}})})(e,t)})},t))})}):null}function ct(e){let{items:t=[]}=e,[r,i]=(0,p.useState)(new Set),l=t.length>0&&t[0].title&&t[0].children;if(!t||0===t.length)return(0,a.jsx)(dM,{children:(0,a.jsx)(sa.x,{ta:"center",py:48,children:(0,a.jsx)(se.x,{c:"dimmed",size:"lg",children:"هیچ محصولی یافت نشد"})})});let s=(e,t,l,s)=>{let n=`${t}-${l}`,o=s||e.title||"محصول",d=e.image&&null!==e.image&&""!==e.image&&""!==e.image.trim()&&!r.has(n);return(0,a.jsx)(o$.Z,{radius:"lg",style:{position:"relative",overflow:"hidden",cursor:"pointer",transition:"transform 0.2s ease, box-shadow 0.2s ease"},styles:{root:{"&:hover":{transform:"translateY(-2px)",boxShadow:"0 8px 25px rgba(0, 0, 0, 0.15)"}}},children:d?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(sl.E,{h:180,fit:"cover",src:e.image,alt:o,onError:()=>((e,t)=>{let r=`${e}-${t}`;i(e=>new Set([...e,r]))})(t,l),style:{borderRadius:"inherit"},fallbackSrc:""}),(0,a.jsx)(st.a,{gradient:"linear-gradient(180deg, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, .85) 100%)",opacity:.7,zIndex:1}),(0,a.jsx)(sa.x,{style:{position:"absolute",bottom:0,left:0,right:0,zIndex:2,padding:"var(--mantine-spacing-xs)"},children:(0,a.jsx)(se.x,{c:"white",fw:600,size:"xs",ta:"center",style:{textShadow:"0 1px 2px rgba(0,0,0,0.8)",lineHeight:1.2},children:o})})]}):(e=>{let t=["linear-gradient(135deg, #4CAF50 0%, #2E7D32 100%)","linear-gradient(135deg, #66BB6A 0%, #388E3C 100%)","linear-gradient(135deg, #43A047 0%, #1B5E20 100%)","linear-gradient(135deg, #81C784 0%, #4CAF50 100%)","linear-gradient(135deg, #A5D6A7 0%, #66BB6A 100%)","linear-gradient(135deg, #2E7D32 0%, #1B5E20 100%)","linear-gradient(135deg, #4CAF50 0%, #43A047 100%)","linear-gradient(135deg, #8BC34A 0%, #689F38 100%)","linear-gradient(135deg, #9CCC65 0%, #7CB342 100%)","linear-gradient(135deg, #C8E6C9 0%, #81C784 100%)"],r=t[Math.abs(e?e.split("").reduce((e,t)=>(e=(e<<5)-e+t.charCodeAt(0))&e,0):0)%t.length];return(0,a.jsxs)(sa.x,{h:180,style:{background:r,position:"relative",overflow:"hidden",borderRadius:"var(--mantine-radius-lg)",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",gap:"var(--mantine-spacing-xs)"},children:[(0,a.jsx)(sa.x,{style:{position:"absolute",top:0,left:0,right:0,bottom:0,background:"url(\"data:image/svg+xml,%3Csvg width='40' height='40' viewBox='0 0 40 40' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='%23ffffff' fill-opacity='0.1'%3E%3Cpath d='M20 20c0-5.5-4.5-10-10-10s-10 4.5-10 10 4.5 10 10 10 10-4.5 10-10zm10 0c0-5.5-4.5-10-10-10s-10 4.5-10 10 4.5 10 10 10 10-4.5 10-10z'/%3E%3C/g%3E%3C/svg%3E\")",opacity:.3}}),(0,a.jsx)(sb.IconPhoto,{size:48,color:"rgba(255, 255, 255, 0.8)",style:{zIndex:2}}),e&&(0,a.jsx)(se.x,{c:"white",fw:500,size:"xs",ta:"center",px:"sm",style:{zIndex:2,textShadow:"0 1px 3px rgba(0,0,0,0.3)",lineHeight:1.2,maxWidth:"100%",wordBreak:"break-word"},children:e})]})})(o)})};if(l){let e=t.filter(e=>e.children&&e.children.length>0);return(0,a.jsx)(dM,{children:(0,a.jsx)(sa.x,{dir:"rtl",children:e.map((e,t)=>(0,a.jsxs)(sa.x,{mb:"3xl",children:[(0,a.jsxs)(sh.Z,{justify:"space-between",align:"center",mb:"xl",children:[(0,a.jsx)(D.D,{order:2,size:"1.5rem",fw:600,c:"dark.8",children:e.title}),e.url&&(0,a.jsx)(T.e,{component:g.OL,to:`/category/${e.url}`,c:"blue.6",fw:500,size:"sm",style:{textDecoration:"none",transition:"color 0.2s ease"},styles:{root:{"&:hover":{color:"var(--mantine-color-blue-8)"}}},children:(0,a.jsxs)(sh.Z,{gap:"xs",align:"center",children:[(0,a.jsx)(se.x,{children:"مشاهده همه"}),(0,a.jsx)(sb.IconChevronLeft,{size:16,style:{transform:"rotate(180deg)"}})]})})]}),(0,a.jsx)(sN.r,{gutter:"md",children:e.children.map((r,i)=>(0,a.jsx)(sD.$,{span:{base:12,xs:6,sm:4,md:3},children:r.url?(0,a.jsx)(g.OL,{to:`/product/${r.url}`,style:{textDecoration:"none"},children:s(r,t,i,e.title)}):(0,a.jsx)(sa.x,{style:{cursor:"default"},children:s(r,t,i,e.title)})},r.url||`${t}-${i}`))})]},e.url||t))})})}return(0,a.jsx)(dM,{children:t.map((e,t)=>(0,a.jsx)(sa.x,{mb:"lg",children:(0,a.jsx)(sN.r,{gutter:"md",children:e.map((e,r)=>(0,a.jsx)(sD.$,{span:{base:12,sm:6,md:4},children:e.url?(0,a.jsx)(g.OL,{to:`/product/${e.url}`,style:{textDecoration:"none"},children:s(e,t,r)}):(0,a.jsx)(sa.x,{style:{cursor:"default"},children:s(e,t,r)})},e.url||`${t}-${r}`))})},t))})}d9.craft={props:{title:"دسته بندی ها",title_align:"center",items:[]},related:{settings:()=>(0,a.jsxs)("div",{children:[(0,a.jsx)(d7,{type:"text",propKey:"title",label:"عنوان"}),(0,a.jsx)(d7,{type:"segmented",propKey:"title_align",label:"جهت نمایش عنوان",data:[{label:(0,a.jsx)(sb.IconAlignRight,{size:16}),value:"right"},{label:(0,a.jsx)(sb.IconAlignCenter,{size:16}),value:"center"},{label:(0,a.jsx)(sb.IconAlignLeft,{size:16}),value:"left"}]}),(0,a.jsx)(d7,{type:"repeater",propKey:"items",label:"آیتم ها",fields:[{name:"title",type:"text",label:"عنوان"},{name:"url",type:"advancedSearch",label:"جستجوی دسته بندی"},{name:"image",type:"image",label:"تصویر"}]})]})}},ce.craft={props:{items:[{url:"",image:""}]},related:{settings:()=>(0,a.jsx)("div",{children:(0,a.jsx)(d7,{type:"repeater",propKey:"items",label:"آیتم ها",fields:[{name:"url",type:"text",label:"لینک"},{name:"image",type:"image",label:"تصویر"}]})})}},ct.craft={props:{items:[[{url:"",image:"",title:""}]]},related:{settings:()=>(0,a.jsx)("div",{children:(0,a.jsx)(d7,{type:"repeater",propKey:"items",label:"ردیف محصولات",fields:[{name:"row",type:"repeater",label:"محصولات",fields:[{name:"url",type:"text",label:"لینک محصول"},{name:"image",type:"image",label:"تصویر محصول"},{name:"title",type:"text",label:"عنوان محصول"}]}]})})}};let cr=function(e){var t;let{items:r}=e,i=(0,p.useRef)(null),[l,s]=(0,p.useState)(!0),[n,o]=(0,p.useState)(!1),[d,c]=(0,p.useState)(new Set),u=(null==r||null==(t=r.children)?void 0:t.length)||0,m=u>1;(0,p.useEffect)(()=>{u<=1?(s(!0),o(!0)):(s(!0),o(u<=4))},[u]);let h=e=>{s(e.isBeginning),o(e.isEnd)},x=(e,t)=>{if(!(e.image&&null!==e.image&&""!==e.image&&""!==e.image.trim()&&!d.has(t))){var r=e.url;let i=["linear-gradient(135deg, #4CAF50 0%, #2E7D32 100%)","linear-gradient(135deg, #66BB6A 0%, #388E3C 100%)","linear-gradient(135deg, #43A047 0%, #1B5E20 100%)","linear-gradient(135deg, #81C784 0%, #4CAF50 100%)","linear-gradient(135deg, #A5D6A7 0%, #66BB6A 100%)","linear-gradient(135deg, #2E7D32 0%, #1B5E20 100%)","linear-gradient(135deg, #4CAF50 0%, #43A047 100%)","linear-gradient(135deg, #8BC34A 0%, #689F38 100%)"],l=i[Math.abs(r?r.split("").reduce((e,t)=>(e=(e<<5)-e+t.charCodeAt(0))&e,0):t)%i.length];return(0,a.jsxs)(sa.x,{w:"120px",h:"80px",style:{background:l,borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",gap:"4px",position:"relative",overflow:"hidden",minHeight:"80px"},children:[(0,a.jsx)(sa.x,{style:{position:"absolute",top:0,left:0,right:0,bottom:0,background:"url(\"data:image/svg+xml,%3Csvg width='16' height='14' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='%23ffffff' fill-opacity='0.1'%3E%3Ccircle cx='3' cy='3' r='1'/%3E%3Ccircle cx='13' cy='13' r='1'/%3E%3Ccircle cx='3' cy='13' r='1'/%3E%3Ccircle cx='13' cy='3' r='1'/%3E%3C/g%3E%3C/svg%3E\")",opacity:.6}}),(0,a.jsx)(sb.IconBuildingStore,{size:28,color:"rgba(255, 255, 255, 0.9)",style:{zIndex:2}})]})}return(0,a.jsx)(sl.E,{w:"100%",h:"100%",fit:"contain",src:e.image,alt:`\u{628}\u{631}\u{646}\u{62F} ${t+1}`,onError:()=>{c(e=>new Set([...e,t]))},fallbackSrc:"",style:{borderRadius:"8px",backgroundColor:"#f8f9fa"}})};return r&&r.children&&0!==r.children.length?(0,a.jsxs)(N.X,{px:0,py:"lg",children:[(0,a.jsx)(si.M,{children:(0,a.jsx)(D.D,{size:"xl",fw:"500",children:r.title||"برندها"})}),(0,a.jsxs)(nU.tq,{ref:i,slidesPerView:"auto",spaceBetween:30,loop:u>4,modules:[n$.W_],onSliderMove:h,onSlideChange:h,onSwiper:e=>{s(e.isBeginning),o(e.isEnd)},breakpoints:{320:{slidesPerView:2,spaceBetween:20},480:{slidesPerView:3,spaceBetween:25},768:{slidesPerView:4,spaceBetween:30},1024:{slidesPerView:5,spaceBetween:30}},style:{position:"relative",marginTop:"35px"},children:[m&&!l&&(0,a.jsx)(sB.A,{variant:"white",radius:999,size:"lg",onClick:()=>{i.current&&i.current.swiper&&i.current.swiper.slidePrev()},className:"product-highlight-card-carousel-prev border border-solid border-slate-300",styles:{root:{transform:"none"}},children:(0,a.jsx)(sb.IconChevronRight,{size:18})}),m&&!n&&(0,a.jsx)(sB.A,{variant:"white",radius:999,size:"lg",onClick:()=>{i.current&&i.current.swiper&&i.current.swiper.slideNext()},className:"product-highlight-card-carousel-next border border-solid border-slate-300",styles:{root:{transform:"none"}},children:(0,a.jsx)(sb.IconChevronLeft,{size:18})}),r.children.map((e,t)=>(0,a.jsx)(nU.o5,{style:{padding:"25px",paddingRight:0,width:"120px",height:"100px",display:"flex",alignItems:"center",justifyContent:"center",boxSizing:"border-box"},className:"border-l",children:e.url?(0,a.jsx)(g.OL,{to:`/brands/${e.url}`,style:{display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:"100%",textDecoration:"none",borderRadius:"8px",transition:"transform 0.2s ease, box-shadow 0.2s ease"},onMouseEnter:e=>{e.currentTarget.style.transform="scale(1.05)",e.currentTarget.style.boxShadow="0 4px 12px rgba(0, 0, 0, 0.15)"},onMouseLeave:e=>{e.currentTarget.style.transform="scale(1)",e.currentTarget.style.boxShadow="none"},children:x(e,t)}):(0,a.jsx)(sa.x,{style:{display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:"100%",cursor:"default"},children:x(e,t)})},e.url||t))]})]}):(0,a.jsx)(N.X,{px:0,py:"lg",children:(0,a.jsx)(si.M,{children:(0,a.jsx)(se.x,{c:"dimmed",size:"lg",children:"هیچ برندی یافت نشد"})})})};var ca=r(57826),ci=r(96768);let cl=(0,ca.k)(e=>({table:{borderCollapse:"collapse",minWidth:(0,ci.h)(300),fontSize:(0,ci.h)(14)},th:{backgroundColor:e.colors.indigo[1],color:e.colors.indigo[7],fontWeight:700,padding:(0,ci.h)(10),border:`1px solid ${e.colors.indigo[3]}`,textAlign:"center"},td:{padding:(0,ci.h)(10),border:`1px solid ${e.colors.indigo[2]}`,textAlign:"center",color:e.colors.gray[8]},stripedRow:{"&:nth-of-type(odd)":{backgroundColor:e.colors.gray[0]}},title:{color:e.colors.indigo[7],marginBottom:(0,ci.h)(8),fontWeight:700,fontSize:(0,ci.h)(16)}})),cs=function(e){let{items:t}=e;if(!t||0===t.length)return null;let[r,i]=(0,p.useState)(!1),{classes:l}=cl(),s=(0,g.s0)(),n=()=>(0,a.jsx)("div",{style:{display:"flex",gap:16,overflowX:"auto",paddingBottom:8},children:t.map(e=>(0,a.jsxs)(o$.Z,{padding:"sm",shadow:"xs",radius:"md",withBorder:!0,style:{minWidth:340},children:[(0,a.jsx)(se.x,{mb:"md",className:l.title,children:e.title}),(0,a.jsx)(sG.x,{type:"auto",offsetScrollbars:!0,children:(0,a.jsxs)("table",{className:l.table,children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:l.th,children:"محصول"}),(0,a.jsx)("th",{className:l.th,children:"قیمت"})]})}),(0,a.jsx)("tbody",{children:e.tablelist.map(e=>(0,a.jsxs)("tr",{className:l.stripedRow,children:[(0,a.jsx)("td",{className:l.td,children:e.product}),(0,a.jsx)("td",{className:l.td,children:e.price})]},e._id))})]})})]},e._id))});return(0,a.jsxs)(o$.Z,{shadow:"md",padding:"md",radius:"md",withBorder:!0,children:[(0,a.jsxs)(sh.Z,{position:"right",mb:"xs",justify:"space-between",children:[(0,a.jsx)(z.z,{size:"xs",variant:"light",onClick:()=>i(e=>!e),leftIcon:r?(0,a.jsx)(sb.IconChevronUp,{size:16}):(0,a.jsx)(sb.IconChevronDown,{size:16}),children:r?"نمایش کمتر":"نمایش بیشتر"}),(0,a.jsx)(z.z,{size:"xs",variant:"light",onClick:()=>void s("/pricelists"),leftIcon:r?(0,a.jsx)(sb.IconChevronUp,{size:16}):(0,a.jsx)(sb.IconChevronDown,{size:16}),children:"نمایش همه"})]}),(0,a.jsx)(n9.U,{in:r,transitionDuration:300,children:n()}),!r&&(0,a.jsx)("div",{style:{maxHeight:300,overflowY:"hidden",maskImage:"linear-gradient(to bottom, black 60%, transparent)"},children:n()})]})};var cn=r(39446),co=r(42522),cd=r(15527),cc=r(68729);let cu=function(){let[e,t]=(0,p.useState)(!1);return(0,p.useEffect)(()=>{let e=()=>t(!0),r=()=>t(!1);return window.addEventListener("beforeprint",e),window.addEventListener("afterprint",r),()=>{window.removeEventListener("beforeprint",e),window.removeEventListener("afterprint",r)}},[]),e},cm=()=>(0,a.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{opacity:.5},children:[(0,a.jsx)("circle",{cx:"12",cy:"12",r:"8",stroke:"#adb5bd",strokeWidth:"1",strokeDasharray:"2,2",fill:"none"}),(0,a.jsx)("path",{d:"M8 12h8M12 8v8",stroke:"#adb5bd",strokeWidth:"1",strokeLinecap:"round"})]});function cg(e){let{items:t}=e,r=t&&t.length>0;return(0,a.jsx)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",minHeight:"24px",padding:0,margin:0,gap:"1px"},children:r?t.map((e,t)=>(0,a.jsx)(cp,{...e},t)):(0,a.jsx)(cm,{})})}function cp(e){let{type:t,attribute_name:r,value:i}=e;return(0,a.jsx)("div",{style:{padding:0,margin:0,lineHeight:1},children:(()=>{switch(t){case"color":return(0,a.jsx)(ng.u,{label:r,withArrow:!1,position:"top",offset:2,children:(0,a.jsx)(n0.b,{size:16,color:i,style:{margin:0}})});case"warranty":return(0,a.jsx)(ng.u,{label:r,withArrow:!1,position:"top",offset:2,children:(0,a.jsx)(sb.IconShieldCheck,{size:16,style:{margin:0}})});case"material":return(0,a.jsx)(ng.u,{label:r,withArrow:!1,position:"top",offset:2,children:(0,a.jsx)(sb.IconKeyframeAlignCenter,{size:16,style:{margin:0}})});default:return(0,a.jsx)(sx.C,{size:"xs",variant:"light",style:{padding:"1px 4px",margin:0,fontSize:"9px",height:"16px",lineHeight:"14px"},children:i})}})()})}let ch=e=>{let{productId:t=125,seller:r=3,onChange:i,options:s={t:""},productName:n="",productImages:o="",item:d,priceFormat:c}=e,[u]=(0,l.fP)(["user"]),h=(0,m.I0)(),x=(0,g.s0)(),{isVerified:b,loading:f,error:y,user:j}=(0,m.v9)(e=>e.auth),[v,C]=(0,p.useState)(void 0),[w,k]=(0,p.useState)(0),[S,I]=(0,p.useState)(!1),[N,D]=(0,p.useState)(!1),[A,F]=(0,p.useState)(!1),M=(0,m.v9)(e=>{var t;return(null==(t=e.cart)?void 0:t.items)||[]});console.log("itemsitemsitem",M);let T=async e=>{if(e.message.includes("توکن نامعتبر است")||e.message.includes("Unauthorized")||401===e.status)try{return localStorage.removeItem("user"),h(el()),h(Q()),await h(ea()),D(!0),!0}catch(e){return console.error("Error during token expiration handling:",e),D(!0),!0}return!1},P=async()=>{let e=localStorage.getItem("user");try{F(!0);let t=await fetch(et("/cart"),{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!t.ok){if(401===t.status)return await T({status:401,message:"Unauthorized"}),[];throw Error("Failed to fetch cart data")}let r=(await t.json()).cart||[];return h(J(r)),r}catch(e){return console.error("Error fetching cart:",e),await T(e)||h(J([])),[]}finally{F(!1)}},E=async e=>{let t=localStorage.getItem("user");try{let r=await fetch(et("/cart/update"),{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify(e)});if(!r.ok){if(401===r.status)return await T({status:401,message:"Unauthorized"}),null;let e=await r.json(),t=Error(e.message||"Failed to update cart");throw t.status=r.status,t}let a=await r.json();return await P(),a}catch(e){if(console.error("Error updating cart:",e),await T(e))return null;throw e}},_=async e=>{let t=localStorage.getItem("user");try{let r=await fetch(et("/cart/remove"),{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify(e)});if(!r.ok){let e=await r.json(),t=Error(e.message||"Failed to remove item");if(t.status=r.status,401===r.status)return await T(t),null;throw t}let a=await r.json();return await P(),a}catch(e){if(console.error("Error removing from cart:",e),await T(e))return null;throw e}},L=((e,t)=>{if(!Array.isArray(e)||!t)return 0;let r=e.find(e=>{var r,a;let i=e.productId===t.productId,l=(null==(r=e.seller)?void 0:r.id)===(null==(a=t.seller)?void 0:a.id),s=e.combinationsID===t.combinationsID;return t.combinationsID||e.combinationsID?i&&l&&s:i&&l});return r?r.count:0})(M,d);(0,p.useEffect)(()=>{j&&b?P():h(J([]))},[j,b]),(0,p.useEffect)(()=>{k(L)},[L]);let B=async e=>{if(!j||!b)return void D(!0);I(!0);let t=Math.max(1,parseInt(e,10));try{let e=await E({productId:null==d?void 0:d.productId,seller:null==d?void 0:d.seller,count:t,combinationsID:null==d?void 0:d.combinationsID});if(null===e)return}catch(e){console.error("Failed to update cart:",e)}finally{I(!1)}},O=async()=>{if(!j||!b)return void D(!0);I(!0);try{let e=await _({productId:null==d?void 0:d.productId,seller:null==d?void 0:d.seller,combinationsID:null==d?void 0:d.combinationsID});if(null===e)return}catch(e){console.error("Failed to remove item:",e)}finally{I(!1)}},R=!d;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(sp.u,{opened:N,onClose:()=>D(!1),title:"ورود به حساب کاربری",centered:!0,closeOnClickOutside:!1,closeOnEscape:!1,overlayProps:{backgroundOpacity:0,blur:0},children:[(0,a.jsxs)(se.x,{mb:"md",children:["زمان حضور شما منقضی شده است",(0,a.jsx)("br",{}),"لطفا وارد حساب کاربری شوید"]}),(0,a.jsxs)(l9.k,{gap:"sm",justify:"flex-end",children:[(0,a.jsx)(z.z,{variant:"outline",onClick:()=>D(!1),children:"انصراف"}),(0,a.jsx)(z.z,{onClick:()=>{D(!1),x("/login")},children:"ورود به حساب کاربری"})]})]}),(0,a.jsx)(nS.f,{pos:"fixed",visible:S||A||R,zIndex:1e3,h:"100%",w:"100%",top:0,left:0}),w>0?(0,a.jsxs)(l9.k,{align:"center",gap:"1",children:[(0,a.jsx)(z.z,{p:0,px:0,h:15,w:70,variant:"transparent",size:"10px",onClick:()=>{(null==d?void 0:d.stock)&&B(d.stock)},children:"حداکثر"}),(0,a.jsx)(sB.A,{size:"md",radius:"999999",variant:"light",color:"green",onClick:()=>{(null==d?void 0:d.stock)&&!(w<d.stock)||B(Math.min(w+1,d.stock))},style:{display:"flex",alignItems:"center",justifyContent:"center"},children:(0,a.jsx)(sb.IconPlus,{size:15})}),(0,a.jsx)(sK.I,{type:"number",w:25,styles:{input:{textAlign:"center"}},variant:"unstyled",value:w,readOnly:!0,px:0}),(0,a.jsx)(sB.A,{size:"md",radius:"999999",variant:"light",color:"red",onClick:()=>{w>(Number(null==d?void 0:d.minOrder)||1)?B(w-1):O()},style:{display:"flex",alignItems:"center",justifyContent:"center"},children:(0,a.jsx)(sb.IconMinus,{size:10})})]}):(0,a.jsxs)(z.z,{fullWidth:!0,h:30,onClick:()=>{if(!j||!b)return void D(!0);B(Number(null==d?void 0:d.minOrder)||1)},style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[(0,a.jsx)(sb.IconBasket,{}),"افزودن"]})]})},cx=e=>{var t;let{item:r,columns:i,selectedNodes:l,visibleColumns:s,formData:n,setFormData:o,availableLocations:d=[],filterValues:c,filters_category_mode:u}=e,m=()=>{},h=(null==l?void 0:l[r.id])||r,x=null==(t=i.filter(e=>!s.includes(e.key))[0])?void 0:t.key,[b,f]=(0,p.useState)({});return(0,a.jsx)(cn.X2,{item:r,className:"items-center justify-center",style:{width:"100%",tableLayout:"auto"},children:i.map((e,t)=>{var i,l,o,d,c,p;let y;if(s.includes(e.key))return null;switch(e.key){case"image":y=h.images&&h.images.length>0&&h.images[0]&&""!==h.images[0].trim()&&!b[r.psid]?(0,a.jsx)(sl.E,{src:h.images[0],w:40,h:40,onError:()=>{f(e=>({...e,[r.psid]:!0}))}}):(0,a.jsx)("div",{style:{width:40,height:40,backgroundColor:"#f8f9fa",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"4px",border:"1px solid #e9ecef"},children:(0,a.jsxs)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"#868e96",strokeWidth:"1.5",children:[(0,a.jsx)("path",{d:"M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"}),(0,a.jsx)("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),(0,a.jsx)("path",{d:"m16 10a4 4 0 0 1-8 0"})]})});break;case"name":y=(0,a.jsx)(g.OL,{to:`/product/${r.id}`,className:"text-md md:text-sm text-blue-500 hover:text-red-700 transition-colors duration-200",children:(0,a.jsx)(se.x,{style:{fontSize:"9px",minWidth:"60px",display:"inline-block",whiteSpace:"normal",wordWrap:"break-word",overflow:"hidden",textOverflow:"ellipsis"},children:r.name})});break;case"attributes":y=(0,a.jsx)(cg,{items:r.attributes});break;case"price":y=h.price.regularPrice;break;case"discount":y=h.price.discountedPrice;break;case"psid":y=h.psid;break;case"stock":y=`${h.stock} \u{639}\u{62F}\u{62F}`;break;case"minOrder":y=`${h.minOrder} \u{639}\u{62F}\u{62F}`;break;case"maxOrder":y=`${h.maxOrder} \u{639}\u{62F}\u{62F}`;break;case"ICPrice_usd":y=((null==(o=n[null==r?void 0:r.psid])||null==(l=o.price)||null==(i=l.ICPrice)?void 0:i.find(e=>"usd"===e.label))||{amount:0}).amount;break;case"ICPrice_AED":y=((null==(p=n[null==r?void 0:r.psid])||null==(c=p.price)||null==(d=c.ICPrice)?void 0:d.find(e=>"AED"===e.label))||{amount:0}).amount;break;case"seller":y=(0,a.jsxs)(sh.Z,{gap:2,align:"center",children:[(0,a.jsx)(T.e,{size:"xs",className:"text-blue-500 hover:text-red-700 transition-colors duration-200",component:g.OL,to:`/seller/${h.seller.id}`,children:h.seller.label}),(0,a.jsx)(sZ.k,{size:12,variant:"transparent",children:(0,a.jsx)(sb.IconUserCircle,{})})]});break;case"deliveryTime":y=h.deliveryTime.label;break;case"action":y=(0,a.jsx)(ch,{text:"انتخاب",withButton:!0,style:{minWidth:"40px"},item:h,priceFormat:u.priceFormat,onChange:()=>handleReplaceNode(h),onClick:m},h.id);break;default:y=""}return e.key===x&&r.nodes?(cc.r4,e.key):cn.bL,(0,a.jsx)(cn.bL,{style:{minWidth:"50px",maxWidth:"120px",padding:"2px 4px",margin:"0",textAlign:"center",wordBreak:"break-word",whiteSpace:"normal",overflow:"hidden",textOverflow:"ellipsis",fontSize:"10px",lineHeight:"1.2"},children:y},t)})})},cb=e=>{let{nodes:t,setNodes:r,COLUMNS:i,filterValues:l,availableLocations:s,type:n,setVisibleColumns:o,visibleColumns:d,filters_category_mode:c,icPriceKeys:u,isPortrait:m,isLandscape:g}=e;if(!t||0===t.length)return null;let h=(0,sq.a)("(max-width: 768px)"),x=(0,sq.a)("(max-width: 1024px)"),b=cu(),{primaryColor:f}=(0,sE.rZ)(),[y,j]=(0,p.useState)({});(0,p.useEffect)(()=>{let e=[];e=h?["image","minOrder","deliveryTime","discount","attributes","psid","minOrder","maxOrder","seller","deliveryTime","payment_type","delivery","psid"]:x?["image","maxOrder","deliveryTime","stock","minOrder"]:["image","deliveryTime","discount","minOrder","maxOrder","seller","delivery"],b&&(e=["image","stock","minOrder","deliveryTime"]),u&&u.length>0&&(e=[...e,...u]),o(e)},[h,x,m,g,b,u]),(0,p.useEffect)(()=>{let e=function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.forEach(t=>{var a,i,s,n,o,d,u;r[t.psid]={price:{regularPrice:(null==(a=t.price)?void 0:a.regularPrice)??0,discountedPrice:(null==(i=t.price)?void 0:i.discountedPrice)??0,discountPercent:(null==(s=t.price)?void 0:s.discountPercent)??null,ICPrice:Array.isArray(null==(n=t.price)?void 0:n.ICPrice)?t.price.ICPrice.map(e=>({ICID:e.ICID??"default_id",label:e.label??"unknown",name:e.name??"Unknown",amount:e.amount??0})):[]},stock:t.stock??0,minOrder:t.minOrder??0,maxOrder:t.maxOrder??0,priceLabel:c.priceFormat,deliveryTime:(null==(o=t.deliveryTime)?void 0:o.value)??((null==l||null==(u=l.deliveryTime)||null==(d=u[0])?void 0:d.value)||"Cash"),delivery:t.delivery??[],payment_type:t.payment_type||""},t.nodes&&t.nodes.length>0&&e(t.nodes,r)}),r};j(e(t))},[t]);let v=(0,cc.ZT)({nodes:t||[]},{},{treeIcon:{iconRight:b?null:(0,a.jsx)(sb.IconChevronLeft,{}),iconDown:b?null:(0,a.jsx)(sb.IconChevronDown,{})}}),C=(0,cd.gh)({...cd.WN,Table:`
      border-collapse: collapse;
      border-spacing: 0;
      width: 100%;
      table-layout: auto;
    `,Header:`
      background-color: #f8f9fa;
    `,HeaderRow:`
      border-bottom: 1px solid #dee2e6;
    `,HeaderCell:`
      padding: 4px 6px !important;
      margin: 0 !important;
      border-right: 1px solid #dee2e6;
      font-size: 10px;
      font-weight: 600;
      text-align: center;
      white-space: normal;
      word-break: break-word;
      line-height: 1.2;
    `,Row:`
      border-bottom: 1px solid #f1f3f4;
      &:hover {
        background-color: #f8f9fa;
      }
    `,Cell:`
      padding: 2px 4px !important;
      margin: 0 !important;
      border-right: 1px solid #f1f3f4;
      font-size: 10px;
      text-align: center;
      vertical-align: middle;
      line-height: 1.2;
    `}),w=(0,co.u)(C);return(0,a.jsx)(sa.x,{style:{overflowX:"auto",width:"100%",maxWidth:"100%",WebkitOverflowScrolling:"touch",whiteSpace:"nowrap"},children:(0,a.jsx)("div",{style:{minWidth:`${h&&g?350:h&&m?400:i.length}px`,overflowX:"auto"},children:(0,a.jsx)(cn.iA,{data:{nodes:t},theme:w,tree:v,layout:{isDiv:!0,fixedHeader:!0},style:{width:"100%",tableLayout:"auto",borderCollapse:"collapse",borderSpacing:"0"},children:e=>(0,a.jsxs)(a.Fragment,{children:["head"===n?(0,a.jsx)(cn.h4,{}):(0,a.jsx)(sa.x,{className:"hidden",children:(0,a.jsx)(cn.h4,{children:(0,a.jsx)(cn.VJ,{children:i.map(e=>(0,a.jsxs)(cn.qN,{style:{fontSize:"9px",minWidth:"50px",maxWidth:"120px",padding:"4px 6px",margin:"0",textAlign:"center",whiteSpace:"normal",wordBreak:"break-word",lineHeight:"1.2"},hide:d.includes(e.key),children:[e.label,"price"===e.key&&"million"===c.priceFormat&&(0,a.jsx)(se.x,{size:"xs",style:{marginTop:"2px",fontSize:"7px"},children:"میلیون تومان"}),"price"===e.key&&"hezar"===c.priceFormat&&(0,a.jsx)(se.x,{size:"xs",style:{marginTop:"2px",fontSize:"7px"},children:"هزار تومان"})]},e.key))})})}),"head"===n?null:(0,a.jsxs)(cn.uT,{children:[(0,a.jsx)(cn.VJ,{children:i.map(e=>(0,a.jsxs)(cn.qN,{style:{fontSize:"9px",minWidth:"50px",maxWidth:"120px",padding:"4px 6px",margin:"0",textAlign:"center",whiteSpace:"normal",wordBreak:"break-word",lineHeight:"1.2"},hide:d.includes(e.key),children:[e.label,"price"===e.key&&"million"===c.priceFormat&&(0,a.jsx)(se.x,{style:{marginTop:"2px",fontSize:"7px"},children:"میلیون تومان"}),"price"===e.key&&"hezar"===c.priceFormat&&(0,a.jsx)(se.x,{style:{marginTop:"2px",fontSize:"7px"},children:"هزار تومان"})]},e.key))}),e.map(e=>(0,a.jsx)(cx,{item:e,columns:i,visibleColumns:d,filterValues:l,availableLocations:s,formData:y,filters_category_mode:c,setFormData:j},e.psid))]})]})})})})},cf=e=>{var t;let{item:r,columns:i,selectedNodes:l,visibleColumns:s,formData:n,setFormData:o,availableLocations:d=[],filterValues:c,filters_brand_mode:u}=e;console.log("item",r);let m=()=>{},h=(null==l?void 0:l[r.id])||r,x=null==(t=i.filter(e=>!s.includes(e.key))[0])?void 0:t.key,[b,f]=(0,p.useState)({});return(0,a.jsx)(cn.X2,{item:r,className:"items-center justify-center",style:{width:"100%",tableLayout:"auto"},children:i.map((e,t)=>{var i,l,o,d,c,p;let y;if(s.includes(e.key))return null;switch(e.key){case"image":y=h.images&&h.images.length>0&&h.images[0]&&""!==h.images[0].trim()&&!b[r.psid]?(0,a.jsx)(sl.E,{src:h.images[0],w:40,h:40,onError:()=>{f(e=>({...e,[r.psid]:!0}))}}):(0,a.jsx)("div",{style:{width:40,height:40,backgroundColor:"#f8f9fa",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"4px",border:"1px solid #e9ecef"},children:(0,a.jsxs)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"#868e96",strokeWidth:"1.5",children:[(0,a.jsx)("path",{d:"M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"}),(0,a.jsx)("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),(0,a.jsx)("path",{d:"m16 10a4 4 0 0 1-8 0"})]})});break;case"name":y=(0,a.jsx)(g.OL,{to:`/product/${r.id}`,className:"text-md md:text-sm text-blue-500 hover:text-red-700 transition-colors duration-200",children:(0,a.jsx)(se.x,{style:{fontSize:"9px",minWidth:"60px",display:"inline-block",whiteSpace:"normal",wordWrap:"break-word",overflow:"hidden",textOverflow:"ellipsis"},children:r.name})});break;case"attributes":y=(0,a.jsx)(cg,{items:r.attributes});break;case"price":y=h.price.regularPrice;break;case"discount":y=h.price.discountedPrice;break;case"stock":y=`${h.stock} \u{639}\u{62F}\u{62F}`;break;case"minOrder":y=`${h.minOrder} \u{639}\u{62F}\u{62F}`;break;case"maxOrder":y=`${h.maxOrder} \u{639}\u{62F}\u{62F}`;break;case"ICPrice_usd":y=((null==(o=n[null==r?void 0:r.psid])||null==(l=o.price)||null==(i=l.ICPrice)?void 0:i.find(e=>"usd"===e.label))||{amount:0}).amount;break;case"ICPrice_AED":y=((null==(p=n[null==r?void 0:r.psid])||null==(c=p.price)||null==(d=c.ICPrice)?void 0:d.find(e=>"AED"===e.label))||{amount:0}).amount;break;case"seller":y=(0,a.jsxs)(sh.Z,{gap:2,align:"center",children:[(0,a.jsx)(T.e,{size:"xs",className:"text-blue-500 hover:text-red-700 transition-colors duration-200",component:g.OL,to:`/seller/${h.seller.id}`,children:h.seller.label}),(0,a.jsx)(sZ.k,{size:12,variant:"transparent",children:(0,a.jsx)(sb.IconUserCircle,{})})]});break;case"deliveryTime":y=h.deliveryTime.label;break;case"action":y=(0,a.jsx)(ch,{text:"انتخاب",withButton:!0,style:{minWidth:"40px"},item:h,priceFormat:u.priceFormat,onChange:()=>handleReplaceNode(h),onClick:m},h.id);break;default:y=""}return e.key===x&&r.nodes?(cc.r4,e.key):cn.bL,(0,a.jsx)(cn.bL,{style:{minWidth:"50px",maxWidth:"120px",padding:"2px 4px",margin:"0",textAlign:"center",wordBreak:"break-word",whiteSpace:"normal",overflow:"hidden",textOverflow:"ellipsis",fontSize:"10px",lineHeight:"1.2"},children:y},t)})})},cy=e=>{let{nodes:t,setNodes:r,COLUMNS:i,filterValues:l,availableLocations:s,type:n,setVisibleColumns:o,visibleColumns:d,filters_brand_mode:c,icPriceKeys:u,isPortrait:m,isLandscape:g}=e;if(!t||0===t.length)return null;let h=(0,sq.a)("(max-width: 768px)"),x=(0,sq.a)("(max-width: 1024px)"),b=cu(),{primaryColor:f}=(0,sE.rZ)(),[y,j]=(0,p.useState)({});(0,p.useEffect)(()=>{let e=[];e=h?["image","minOrder","deliveryTime","discount","attributes","psid","minOrder","maxOrder","seller","deliveryTime","payment_type","delivery","psid"]:x?["image","maxOrder","deliveryTime","stock","minOrder"]:["image","deliveryTime","discount","minOrder","maxOrder","seller","delivery"],b&&(e=["image","stock","minOrder","deliveryTime"]),u&&u.length>0&&(e=[...e,...u]),o(e)},[h,x,m,g,b,u]),(0,p.useEffect)(()=>{let e=function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.forEach(t=>{var a,i,s,n,o,d,u;r[t.psid]={price:{regularPrice:(null==(a=t.price)?void 0:a.regularPrice)??0,discountedPrice:(null==(i=t.price)?void 0:i.discountedPrice)??0,discountPercent:(null==(s=t.price)?void 0:s.discountPercent)??null,ICPrice:Array.isArray(null==(n=t.price)?void 0:n.ICPrice)?t.price.ICPrice.map(e=>({ICID:e.ICID??"default_id",label:e.label??"unknown",name:e.name??"Unknown",amount:e.amount??0})):[]},stock:t.stock??0,minOrder:t.minOrder??0,maxOrder:t.maxOrder??0,priceLabel:c.priceFormat,deliveryTime:(null==(o=t.deliveryTime)?void 0:o.value)??((null==l||null==(u=l.deliveryTime)||null==(d=u[0])?void 0:d.value)||"Cash"),delivery:t.delivery??[],payment_type:t.payment_type||""},t.nodes&&t.nodes.length>0&&e(t.nodes,r)}),r};j(e(t))},[t]);let v=(0,cc.ZT)({nodes:t||[]},{},{treeIcon:{iconRight:b?null:(0,a.jsx)(sb.IconChevronLeft,{}),iconDown:b?null:(0,a.jsx)(sb.IconChevronDown,{})}}),C=(0,cd.gh)({...cd.WN,Table:`
      border-collapse: collapse;
      border-spacing: 0;
      width: 100%;
      table-layout: auto;
    `,Header:`
      background-color: #f8f9fa;
    `,HeaderRow:`
      border-bottom: 1px solid #dee2e6;
    `,HeaderCell:`
      padding: 4px 6px !important;
      margin: 0 !important;
      border-right: 1px solid #dee2e6;
      font-size: 10px;
      font-weight: 600;
      text-align: center;
      white-space: normal;
      word-break: break-word;
      line-height: 1.2;
    `,Row:`
      border-bottom: 1px solid #f1f3f4;
      &:hover {
        background-color: #f8f9fa;
      }
    `,Cell:`
      padding: 2px 4px !important;
      margin: 0 !important;
      border-right: 1px solid #f1f3f4;
      font-size: 10px;
      text-align: center;
      vertical-align: middle;
      line-height: 1.2;
    `}),w=(0,co.u)(C);return(0,a.jsx)(sa.x,{style:{overflowX:"auto",width:"100%",maxWidth:"100%",WebkitOverflowScrolling:"touch",whiteSpace:"nowrap"},children:(0,a.jsx)("div",{style:{minWidth:`${h&&g?350:h&&m?400:i.length}px`,overflowX:"auto"},children:(0,a.jsx)(cn.iA,{data:{nodes:t},theme:w,tree:v,layout:{isDiv:!0,fixedHeader:!0},style:{width:"100%",tableLayout:"auto",borderCollapse:"collapse",borderSpacing:"0"},children:e=>(0,a.jsxs)(a.Fragment,{children:["head"===n?(0,a.jsx)(cn.h4,{}):(0,a.jsx)(sa.x,{className:"hidden",children:(0,a.jsx)(cn.h4,{children:(0,a.jsx)(cn.VJ,{children:i.map(e=>(0,a.jsxs)(cn.qN,{style:{fontSize:"9px",minWidth:"50px",maxWidth:"120px",padding:"4px 6px",margin:"0",textAlign:"center",whiteSpace:"normal",wordBreak:"break-word",lineHeight:"1.2"},hide:d.includes(e.key),children:[e.label,"price"===e.key&&"million"===c.priceFormat&&(0,a.jsx)(se.x,{size:"xs",style:{marginTop:"2px",fontSize:"7px"},children:"میلیون تومان"}),"price"===e.key&&"hezar"===c.priceFormat&&(0,a.jsx)(se.x,{size:"xs",style:{marginTop:"2px",fontSize:"7px"},children:"هزار تومان"})]},e.key))})})}),"head"===n?null:(0,a.jsxs)(cn.uT,{children:[(0,a.jsx)(cn.VJ,{children:i.map(e=>(0,a.jsxs)(cn.qN,{style:{fontSize:"9px",minWidth:"50px",maxWidth:"120px",padding:"4px 6px",margin:"0",textAlign:"center",whiteSpace:"normal",wordBreak:"break-word",lineHeight:"1.2"},hide:d.includes(e.key),children:[e.label,"price"===e.key&&"million"===c.priceFormat&&(0,a.jsx)(se.x,{style:{marginTop:"2px",fontSize:"7px"},children:"میلیون تومان"}),"price"===e.key&&"hezar"===c.priceFormat&&(0,a.jsx)(se.x,{style:{marginTop:"2px",fontSize:"7px"},children:"هزار تومان"})]},e.key))}),e.map(e=>(0,a.jsx)(cf,{item:e,columns:i,visibleColumns:d,filterValues:l,availableLocations:s,formData:y,filters_brand_mode:c,setFormData:j},e.psid))]})]})})})})},cj=(0,p.createContext)(),cv=()=>(0,p.useContext)(cj),cC=e=>{let{children:t}=e,[r,i]=(0,p.useState)({parent:[],categories:[]}),[l,s]=(0,p.useState)({parent:[],subCategory:[],brands:[]}),[n,o]=(0,p.useState)({color:"all",province:"all",stockStatus:"yes",minStock:"",deliveryTime:"",paymentType:"",supplier:"",sort:"bestPrice",priceFormat:"hezar",saleType:"cash",brands:[]});return(0,a.jsx)(cj.Provider,{value:{brandsContext:r,setBrandsContext:i,categoryContext:l,setCategoryContext:s,filtersContext:n,setFiltersContext:o},children:t})},cw=(0,p.createContext)(),ck="brand_checked_rows",cS="brand_selected_row",cI=e=>{let{children:t}=e,[r,i]=(0,p.useState)(()=>{let e=C.Z.get(ck);if(e)try{let t=JSON.parse(e);return new Set(t)}catch(e){}return new Set}),[l,s]=(0,p.useState)(()=>C.Z.get(cS)||null);return(0,p.useEffect)(()=>{let e=Array.from(r);e.length>0?C.Z.set(ck,JSON.stringify(e),{expires:7}):C.Z.remove(ck)},[r]),(0,p.useEffect)(()=>{l?C.Z.set(cS,l,{expires:7}):C.Z.remove(cS)},[l]),(0,a.jsx)(cw.Provider,{value:{checkedRows:r,selectedRow:l,setSelectedRow:s,toggleCheck:e=>{i(t=>{let r=new Set(t);return r.has(e)?r.delete(e):r.add(e),r})},isChecked:e=>r.has(e),isSelected:e=>l===e,isCheckedAndSelected:e=>r.has(e)&&l===e,clearAll:()=>{i(new Set),s(null),C.Z.remove(ck),C.Z.remove(cS)}},children:t})},cz=()=>(0,p.useContext)(cw),cN="data:image/svg+xml;base64,"+btoa(`
<svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
  <!-- Background circle -->
  <circle cx="20" cy="20" r="20" fill="#F8F9FA"/>
  <!-- Brand/tag icon -->
  <path d="M12 14 L22 14 C23.1 14 24 14.9 24 16 L24 24 C24 25.1 23.1 26 22 26 L12 26 C10.9 26 10 25.1 10 24 L10 16 C10 14.9 10.9 14 12 14 Z" fill="#E9ECEF" stroke="#ADB5BD" stroke-width="1"/>
  <!-- Star/brand symbol -->
  <path d="M17 18 L18 21 L21 21 L18.5 22.5 L19.5 25.5 L17 24 L14.5 25.5 L15.5 22.5 L13 21 L16 21 L17 18 Z" fill="#6C757D"/>
</svg>
`);function cD(e){var t;let{item:r,clickType:i,searchType:l,filterBrandStorage:s,setFilterBrandStorage:n,filterBrandsCategoryStorage:o,setFilterBrandsCategoryStorage:d,filterBrandsCategorySubCategoryStorage:c,setFilterBrandsCategorySubCategoryStorage:u,tab:m,badge:g,categories:p,isDisabled:h}=e,x=s.includes(r.idBrand);return(0,a.jsx)("div",{className:"flex flex-col",children:!g&&!p&&(0,a.jsx)("div",{className:"w-full",children:(0,a.jsx)("div",{className:`flex flex-col items-center justify-center flex-shrink-0
              ${h?"cursor-not-allowed opacity-50":"cursor-pointer"}`,onClick:()=>{h||"brands"===i&&(x?n([]):n([r.idBrand]),d([]),u([]))},children:(0,a.jsxs)("div",{className:`flex w-fit h-[35px] px-4 gap-2 justify-center items-center overflow-hidden border-[1.5px] bg-gray-100
                ${!h&&x?"border-red-600":"border-none"}`,style:{borderRadius:"18px"},children:[(0,a.jsx)("div",{className:"w-full h-[25px] bg-white rounded-full",children:(0,a.jsx)("img",{className:"w-full h-full object-cover",src:(t=r.image)&&""!==t.trim()?t:cN,alt:r.title,onError:e=>{e.target.src=cN}})}),(0,a.jsx)("span",{className:"text-center whitespace-nowrap text-[9px] w-full",children:r.title})]})})})})}let cA=e=>{let{items:t,clickType:r,searchType:i,tab:l,filterBrandStorage:s,setFilterBrandStorage:n,filterBrandsCategoryStorage:o,setFilterBrandsCategoryStorage:d,filterBrandsCategorySubCategoryStorage:c,setFilterBrandsCategorySubCategoryStorage:u}=e,{checkedRows:m}=cz(),g=m.size>0,p=(null==t?void 0:t.map(e=>e.idBrand))||[],h=p.length>0&&p.every(e=>s.includes(e));return(0,a.jsxs)(nU.tq,{modules:[n$.Rv],slidesPerView:"auto",spaceBetween:6,style:{width:"100%"},children:[null==t?void 0:t.map(e=>(0,a.jsx)(nU.o5,{style:{width:"auto",display:"flex",margin:0,padding:0},children:(0,a.jsx)(cD,{item:e,clickType:r,searchType:i,tab:l,filterBrandStorage:s,setFilterBrandStorage:n,filterBrandsCategoryStorage:o,setFilterBrandsCategoryStorage:d,filterBrandsCategorySubCategoryStorage:c,setFilterBrandsCategorySubCategoryStorage:u,isDisabled:g})},e.idBrand)),(0,a.jsx)(nU.o5,{style:{width:"auto",display:"flex",margin:0,padding:0},children:(0,a.jsx)("button",{className:`flex h-[35px] px-4 gap-2 justify-center items-center border-2 
            ${h?"border-green-400 bg-green-50":"border-none bg-gray-100"} 
            ${g?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,style:{borderRadius:"18px"},onClick:()=>{g||(()=>{if("brands"===r){let e=(null==t?void 0:t.map(e=>e.idBrand))||[];e.every(e=>s.includes(e))?n([]):n(e),d([]),u([])}})()},disabled:g,children:(0,a.jsx)("span",{className:"text-[9px] font-medium whitespace-nowrap",children:"انتخاب همه"})})})]})},cF=()=>(0,a.jsxs)("svg",{width:"25",height:"25",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"w-[25px] h-[25px]",children:[(0,a.jsx)("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",fill:"#F8F9FA",stroke:"#E9ECEF",strokeWidth:"1"}),(0,a.jsx)("rect",{x:"6",y:"6",width:"5",height:"5",rx:"1",fill:"#9CA3AF"}),(0,a.jsx)("rect",{x:"13",y:"6",width:"5",height:"5",rx:"1",fill:"#9CA3AF"}),(0,a.jsx)("rect",{x:"6",y:"13",width:"5",height:"5",rx:"1",fill:"#9CA3AF"}),(0,a.jsx)("rect",{x:"13",y:"13",width:"5",height:"5",rx:"1",fill:"#9CA3AF"})]});function cM(e){let{parentItem:t,searchType:r,clickType:i,tab:l,filterBrandStorage:s,setFilterBrandStorage:n,filterBrandsCategoryStorage:o,setFilterBrandsCategoryStorage:d}=e;if(!t||!Array.isArray(t.categories))return null;let c=s.includes(t.idBrand);return(0,a.jsx)(a.Fragment,{children:c&&(0,a.jsx)("div",{className:"items-center border-gray-300 p-2 rounded-lg flex flex-col gap-4",children:(0,a.jsx)("div",{className:"flex flex-row gap-2 justify-center",children:t.categories.map((e,l)=>{let s=o.some(r=>r.idBrand===t.idBrand&&r.idCategories.includes(e.idCategory)),n=(e=>{if(null==e)return!1;if(Array.isArray(e))return 0!==e.length&&e.some(e=>e&&"string"==typeof e&&""!==e.trim());if("string"==typeof e){let t=e.trim();return""!==t&&"null"!==t&&"undefined"!==t&&"[]"!==t}return!1})(e.image);return(0,a.jsx)("div",{className:"text-sm w-fit flex flex-col items-center cursor-pointer",onClick:()=>((e,t)=>{if("brand"===r&&"brandCategories"===i){let r;if((o||[]).some(e=>e.idBrand===t)){let a=o.find(e=>e.idBrand===t);r=a.idCategories.includes(e.idCategory)?a.idCategories.filter(t=>t!==e.idCategory):[...a.idCategories,e.idCategory],d(e=>e.map(e=>e.idBrand===t?{...e,idCategories:r}:e).filter(e=>e.idCategories.length>0))}else r=[e.idCategory],d(e=>[...e,{idBrand:t,idCategories:r}])}})(e,t.idBrand),children:(0,a.jsxs)("div",{className:`flex w-fit px-2 flex-row gap-1 justify-center items-center h-[35px] overflow-hidden border-[1.5px] bg-gray-100
                      ${s?"border-red-600":"border-none"}`,style:{borderRadius:"18px"},children:[n?(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("img",{className:"w-fit h-[25px] object-cover",src:e.image,alt:e.title,onError:t=>((e,t)=>{console.warn(`Failed to load category image: ${e.target.src} for category: ${t}`),e.target.style.display="none";let r=e.target.parentElement.querySelector(".fallback-icon");r&&(r.style.display="block")})(t,e.title),style:{display:"block"}}),(0,a.jsx)("div",{className:"fallback-icon",style:{display:"none"},children:(0,a.jsx)(cF,{})})]}):(0,a.jsx)(cF,{}),(0,a.jsx)("span",{className:"cursor-pointer text-center text-[8px] whitespace-nowrap",children:e.title})]})},l)})})})})}let cT=e=>{let{items:t,clickType:r,searchType:i,tab:l,filterBrandStorage:s,setFilterBrandStorage:n,filterBrandsCategoryStorage:o,setFilterBrandsCategoryStorage:d}=e;return(0,a.jsx)(nU.tq,{modules:[n$.Rv,n$.W_],freeMode:!0,slidesPerView:"auto",spaceBetween:6,className:"mt-2",style:{width:"100%"},children:null==t?void 0:t.map((e,t)=>(0,a.jsx)(nU.o5,{style:{width:"auto",display:"flex",margin:0,padding:0},children:(0,a.jsx)(cM,{parentItem:e,clickType:r,searchType:i,tab:l,filterBrandStorage:s,setFilterBrandStorage:n,filterBrandsCategoryStorage:o,setFilterBrandsCategoryStorage:d})},t))})},cP=()=>(0,a.jsxs)("svg",{width:"25",height:"25",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"w-[25px] h-[25px] rounded-full",children:[(0,a.jsx)("circle",{cx:"12",cy:"12",r:"11",fill:"#F8F9FA",stroke:"#E9ECEF",strokeWidth:"1"}),(0,a.jsx)("circle",{cx:"8",cy:"8",r:"2",fill:"#9CA3AF"}),(0,a.jsx)("circle",{cx:"16",cy:"8",r:"2",fill:"#9CA3AF"}),(0,a.jsx)("circle",{cx:"8",cy:"16",r:"2",fill:"#9CA3AF"}),(0,a.jsx)("circle",{cx:"16",cy:"16",r:"2",fill:"#9CA3AF"})]});function cE(e){let{parentItem:t,clickType:r,searchType:i,tab:l,filterBrandStorage:s,setFilterBrandStorage:n,filterBrandsCategoryStorage:o,setFilterBrandsCategoryStorage:d,filterBrandsCategorySubCategoryStorage:c,setFilterBrandsCategorySubCategoryStorage:u}=e;if(!t||!Array.isArray(t.categories))return null;let m=s.includes(t.idBrand),g=t.categories.some(e=>o.some(r=>r.idBrand===t.idBrand&&r.idCategories.includes(e.idCategory)));return(0,a.jsx)(a.Fragment,{children:m&&g&&(0,a.jsx)("div",{className:"items-center justify-center border-gray-300 rounded-lg flex flex-row gap-2",children:t.categories.map((e,l)=>o.some(r=>r.idBrand===t.idBrand&&r.idCategories.includes(e.idCategory))?(0,a.jsx)("div",{className:"flex flex-col items-center rounded-lg",children:(0,a.jsx)("div",{className:"flex flex-row gap-2",children:e.subCategories.map((l,s)=>{let n=c.some(r=>r.idBrand===t.idBrand&&r.idSubCategories.some(t=>t.idCategory===e.idCategory&&t.idSubCategories.includes(l.idSubCategory))),o=(e=>{if(null==e)return!1;if(Array.isArray(e))return 0!==e.length&&e.some(e=>e&&"string"==typeof e&&""!==e.trim());if("string"==typeof e){let t=e.trim();return""!==t&&"null"!==t&&"undefined"!==t&&"[]"!==t}return!1})(l.image);return(0,a.jsx)("div",{className:"text-sm w-fit flex flex-row items-center justify-center cursor-pointer",onClick:()=>{var a;return a=t.idBrand,void("brand"===i&&"brandSubCategories"===r&&u(t=>{let r=(t||[]).map(e=>({...e,idCategories:[...e.idCategories],idSubCategories:e.idSubCategories.map(e=>({...e,idSubCategories:[...e.idSubCategories]}))})),i=r.find(e=>e.idBrand===a);if(!i)return[...r,{idBrand:a,idCategories:[e.idCategory],idSubCategories:[{idCategory:e.idCategory,idSubCategories:[l.idSubCategory]}]}];{i.idCategories.includes(e.idCategory)||i.idCategories.push(e.idCategory);let t=i.idSubCategories.find(t=>t.idCategory===e.idCategory);return(t?t.idSubCategories.includes(l.idSubCategory)?(t.idSubCategories=t.idSubCategories.filter(e=>e!==l.idSubCategory),0===t.idSubCategories.length&&(i.idSubCategories=i.idSubCategories.filter(t=>t.idCategory!==e.idCategory),i.idCategories=i.idCategories.filter(t=>t!==e.idCategory))):t.idSubCategories.push(l.idSubCategory):i.idSubCategories.push({idCategory:e.idCategory,idSubCategories:[l.idSubCategory]}),0===i.idSubCategories.length)?r.filter(e=>e.idBrand!==a):r}}))},children:(0,a.jsxs)("div",{className:`flex px-3 h-[32px] w-full gap-2 justify-center items-center border-[1.5px]
                          ${n?"border-red-600":"border-none"} bg-gray-100`,style:{borderRadius:"16px"},children:[(0,a.jsx)("div",{className:"w-[20px] h-[20px] bg-white rounded-full flex-shrink-0 image-container relative flex items-center justify-center",children:o?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("img",{className:"w-[20px] h-[20px] object-cover rounded-full",src:l.image,alt:l.name,onError:e=>((e,t)=>{console.warn(`Failed to load subcategory image: ${e.target.src} for subcategory: ${t}`),e.target.style.display="none";let r=e.target.closest(".image-container");if(r){let e=r.querySelector(".fallback-icon");e&&(e.style.display="flex")}})(e,l.name),style:{display:"block"}}),(0,a.jsx)("div",{className:"fallback-icon w-[20px] h-[20px] bg-white rounded-full items-center justify-center absolute inset-0",style:{display:"none"},children:(0,a.jsx)(cP,{})})]}):(0,a.jsx)(cP,{})}),(0,a.jsx)("span",{className:"text-center text-[10px] font-medium leading-tight break-words",children:l.name})]})},s)})})},l):null)})})}let c_=e=>{let{items:t,clickType:r,searchType:i,tab:l,filterBrandStorage:s,setFilterBrandStorage:n,filterBrandsCategoryStorage:o,setFilterBrandsCategoryStorage:d,filterBrandsCategorySubCategoryStorage:c,setFilterBrandsCategorySubCategoryStorage:u}=e;return(0,a.jsx)(I.W,{fluid:!0,children:(0,a.jsx)(sa.x,{w:"100%",pos:"relative",children:(0,a.jsx)(nU.tq,{modules:[n$.Rv,n$.W_],freeMode:!0,slidesPerView:"auto",spaceBetween:8,className:"mt-2",style:{width:"100%"},loop:!0,children:null==t?void 0:t.map((e,t)=>(0,a.jsx)(nU.o5,{style:{width:"auto"},children:(0,a.jsx)(cE,{parentItem:e,clickType:r,searchType:i,tab:l,filterBrandStorage:s,setFilterBrandStorage:n,filterBrandsCategoryStorage:o,setFilterBrandsCategoryStorage:d,filterBrandsCategorySubCategoryStorage:c,setFilterBrandsCategorySubCategoryStorage:u})},t))})})})},cL=(0,p.createContext)(),cB="category_checked_rows",cO="category_selected_row",cR=e=>{let{children:t}=e,[r,i]=(0,p.useState)(()=>{let e=C.Z.get(cB);if(e)try{let t=JSON.parse(e);return new Set(t)}catch(e){}return new Set}),[l,s]=(0,p.useState)(()=>C.Z.get(cO)||null);return(0,p.useEffect)(()=>{let e=Array.from(r);e.length>0?C.Z.set(cB,JSON.stringify(e),{expires:7}):C.Z.remove(cB)},[r]),(0,p.useEffect)(()=>{l?C.Z.set(cO,l,{expires:7}):C.Z.remove(cO)},[l]),(0,a.jsx)(cL.Provider,{value:{checkedRows:r,selectedRow:l,setSelectedRow:s,toggleCheck:e=>{i(t=>{let r=new Set(t);return r.has(e)?r.delete(e):r.add(e),r})},isChecked:e=>r.has(e),isSelected:e=>l===e,isCheckedAndSelected:e=>r.has(e)&&l===e,clearAll:()=>{i(new Set),s(null),C.Z.remove(cB),C.Z.remove(cO)}},children:t})},cW=()=>(0,p.useContext)(cL),cZ="data:image/svg+xml;base64,"+btoa(`
<svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
  <!-- Background circle -->
  <circle cx="20" cy="20" r="20" fill="#F3F4F6"/>
  <!-- Image icon -->
  <rect x="10" y="12" width="20" height="16" rx="2" fill="#E5E7EB" stroke="#9CA3AF" stroke-width="1"/>
  <!-- Mountain/landscape icon inside -->
  <path d="M12 24 L16 18 L20 22 L28 16 L28 26 L12 26 Z" fill="#D1D5DB"/>
  <!-- Sun/circle in corner -->
  <circle cx="16" cy="16" r="2" fill="#9CA3AF"/>
</svg>
`);function cU(e){var t;let{parentItem:r,searchType:i,clickType:l,tab:s,filterCategoryStorage:n,setFilterCategoryStorage:o,filterCategorySubCategoryStorage:d,setFilterCategorySubCategoryStorage:c,filterCategorySubCategoryBrandsStorage:u,setFilterCategorySubCategoryBrandsStorage:m,isDisabled:g}=e;if(!r||!Array.isArray(r.subCategories))return null;let p=n.includes(r.idCategory);return(0,a.jsx)("div",{className:"flex items-center justify-center",children:(0,a.jsxs)("div",{className:`flex flex-row justify-center items-center w-fit bg-gray-100 px-4 gap-2 h-[35px] overflow-hidden border-[1.5px]
          ${!g&&p?"border-red-600":"border-none"}
          ${g?"cursor-not-allowed opacity-50":"cursor-pointer"}`,style:{borderRadius:"18px"},onClick:()=>{g||o(n.includes(r.idCategory)?[]:[r.idCategory])},children:[(0,a.jsx)("img",{className:"w-full h-[25px] object-cover",src:(t=r.image)&&""!==t.trim()?t:cZ,alt:r.title,onError:e=>{e.target.src=cZ}}),(0,a.jsx)("span",{className:"cursor-pointer text-[8px] whitespace-nowrap ml-1",children:r.title})]})})}let c$=e=>{let{items:t,clickType:r,searchType:i,tab:l,filterCategoryStorage:s,setFilterCategoryStorage:n,filterCategorySubCategoryStorage:o,setFilterCategorySubCategoryStorage:d,filterCategorySubCategoryBrandsStorage:c,setFilterCategorySubCategoryBrandsStorage:u}=e,{checkedRows:m}=cW(),g=m.size>0,p=(null==t?void 0:t.map(e=>e.idCategory))||[];return p.length>0&&p.every(e=>s.includes(e)),(0,a.jsxs)(nU.tq,{modules:[n$.Rv,n$.W_],freeMode:!0,slidesPerView:"auto",spaceBetween:4,style:{width:"100%"},children:[null==t?void 0:t.map((e,t)=>(0,a.jsx)(nU.o5,{style:{width:"auto",display:"flex",margin:0,padding:0},children:(0,a.jsx)(cU,{parentItem:e,clickType:r,searchType:i,tab:l,filterCategoryStorage:s,setFilterCategoryStorage:n,filterCategorySubCategoryStorage:o,setFilterCategorySubCategoryStorage:d,filterCategorySubCategoryBrandsStorage:c,setFilterCategorySubCategoryBrandsStorage:u,isDisabled:g})},t)),(0,a.jsx)(nU.o5,{style:{width:"auto",display:"flex",margin:0,padding:0}})]})},cq="data:image/svg+xml;base64,"+btoa(`
<svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
  <circle cx="20" cy="20" r="20" fill="#F3F4F6"/>
  <path d="M11 14h6l2 2h10v12H11V14z" fill="#D1D5DB" stroke="#9CA3AF" stroke-width="1" stroke-linejoin="round"/>
  <path d="M11 18h18v10H11V18z" fill="#E5E7EB"/>
  <circle cx="16" cy="22" r="1" fill="#9CA3AF"/>
  <circle cx="20" cy="22" r="1" fill="#9CA3AF"/>
  <circle cx="24" cy="22" r="1" fill="#9CA3AF"/>
</svg>
`);function cK(e){var t;let{parentItem:r,clickType:i,searchType:l,tab:s,filterCategoryStorage:n,setFilterCategoryStorage:o,filterCategorySubCategoryStorage:d,setFilterCategorySubCategoryStorage:c,filterCategorySubCategoryBrandsStorage:u,setFilterCategorySubCategoryBrandsStorage:m}=e;if(!r||!Array.isArray(r.subCategories))return null;let g=e=>{e.target.src=cq},p=Array.isArray(n)&&n.includes(r.idCategory);return(0,a.jsx)(a.Fragment,{children:(null==r||null==(t=r.subCategories)?void 0:t.length)>0&&p&&(0,a.jsx)("div",{className:"flex flex-col mt-2",children:(0,a.jsx)("div",{className:"flex flex-row flex-wrap gap-2",children:r.subCategories.map((e,t)=>{var s;let n=d.some(t=>t.idCategory===r.idCategory&&t.idSubCategories.includes(e.idSubCategory));return(0,a.jsx)("div",{className:"text-sm flex-shrink-0 flex items-center cursor-pointer",onClick:()=>((e,t)=>{if("category"===l&&"categorySubCategories"===i){let r=d.findIndex(e=>e.idCategory===t);if(-1!==r){let t=d[r];if(t.idSubCategories.includes(e.idSubCategory))c(d.filter((e,t)=>t!==r));else{let a=[...d];a[r]={...t,idSubCategories:[e.idSubCategory]},c(a)}}else c([...d,{idCategory:t,idSubCategories:[e.idSubCategory]}])}})(e,r.idCategory),children:(0,a.jsxs)("div",{className:`flex w-fit flex-row justify-center items-center px-2 h-[35px] bg-gray-100 overflow-hidden border-[1.5px] ${n?"border-red-600":"border-none"}`,style:{borderRadius:"18px"},children:[(0,a.jsx)("img",{className:"w-fit h-[25px] object-cover",src:(s=e.image)&&""!==s.trim()?s:cq,alt:e.name,onError:g}),(0,a.jsx)("span",{className:"cursor-pointer text-[8px] whitespace-nowrap ml-1",children:e.name})]})},t)})})})})}let cV=e=>{let{items:t,clickType:r,searchType:i,tab:l,filterCategoryStorage:s,setFilterCategoryStorage:n,filterCategorySubCategoryStorage:o,setFilterCategorySubCategoryStorage:d,filterCategorySubCategoryBrandsStorage:c,setFilterCategorySubCategoryBrandsStorage:u}=e;return(0,a.jsx)(nU.tq,{modules:[n$.Rv,n$.W_],freeMode:!0,slidesPerView:"auto",spaceBetween:6,style:{width:"100%"},children:null==t?void 0:t.map((e,t)=>(0,a.jsx)(nU.o5,{style:{width:"auto",display:"flex",margin:0,padding:0},children:(0,a.jsx)(cK,{parentItem:e,clickType:r,searchType:i,tab:l,filterCategoryStorage:s,setFilterCategoryStorage:n,filterCategorySubCategoryStorage:o,setFilterCategorySubCategoryStorage:d,filterCategorySubCategoryBrandsStorage:c,setFilterCategorySubCategoryBrandsStorage:u})},t))})},cH="data:image/svg+xml;base64,"+btoa(`
<svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
  <!-- Background circle -->
  <circle cx="20" cy="20" r="20" fill="#F8F9FA"/>
  <!-- Brand/tag icon -->
  <path d="M12 14 L22 14 C23.1 14 24 14.9 24 16 L24 24 C24 25.1 23.1 26 22 26 L12 26 C10.9 26 10 25.1 10 24 L10 16 C10 14.9 10.9 14 12 14 Z" fill="#E9ECEF" stroke="#ADB5BD" stroke-width="1"/>
  <!-- Star/brand symbol -->
  <path d="M17 18 L18 21 L21 21 L18.5 22.5 L19.5 25.5 L17 24 L14.5 25.5 L15.5 22.5 L13 21 L16 21 L17 18 Z" fill="#6C757D"/>
</svg>
`);function cG(e){let{parentItem:t,clickType:r,searchType:i,filterCategoryStorage:l,setFilterCategoryStorage:s,filterCategorySubCategoryStorage:n,setFilterCategorySubCategoryStorage:o,filterCategorySubCategoryBrandsStorage:d,setFilterCategorySubCategoryBrandsStorage:c,tab:u}=e,m=e=>{e.target.src=cH};return(0,a.jsx)("div",{className:"flex flex-col gap-4",children:null==t?void 0:t.subCategories.map((e,r)=>(0,a.jsx)("div",{className:"flex flex-col gap-2",children:(0,a.jsxs)("div",{className:"flex flex-row flex-wrap gap-2",children:[e.brands.map((i,l)=>{var s;return(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)("div",{className:"flex flex-col gap-1 items-center justify-center cursor-pointer",onClick:()=>{c(r=>{let a=r.map(e=>({...e,idSubCategories:[...e.idSubCategories],idBrands:e.idBrands.map(e=>({...e,idBrands:[...e.idBrands]}))})),l=a.findIndex(e=>e.idCategory===t.id);if(-1!==l){let t=a[l],r=t.idBrands.findIndex(t=>t.idSubCategory===e.idSubCategory);if(-1!==r){let a=t.idBrands[r].idBrands;a.includes(i.idBrand)?(t.idBrands[r].idBrands=a.filter(e=>e!==i.idBrand),0===t.idBrands[r].idBrands.length&&(t.idBrands.splice(r,1),t.idSubCategories=t.idSubCategories.filter(t=>t!==e.idSubCategory))):t.idBrands[r].idBrands.push(i.idBrand)}else t.idSubCategories.push(e.idSubCategory),t.idBrands.push({idSubCategory:e.idSubCategory,idBrands:[i.idBrand]});0===t.idBrands.length&&a.splice(l,1)}else a.push({idCategory:t.id,idSubCategories:[e.idSubCategory],idBrands:[{idSubCategory:e.idSubCategory,idBrands:[i.idBrand]}]});return a})},children:(0,a.jsxs)("div",{className:`flex w-full h-[35px] px-2 gap-2 justify-center items-center overflow-hidden border-[1.5px] bg-gray-100 ${d.some(t=>t.idBrands.some(t=>t.idSubCategory===e.idSubCategory&&t.idBrands.includes(i.idBrand)))?"border-red-600":"border-none"}`,style:{borderRadius:"18px"},children:[(0,a.jsx)("div",{className:"w-fit h-[25px] bg-white rounded-full",children:(0,a.jsx)("img",{className:"w-fit h-full object-cover",src:(s=i.image)&&""!==s.trim()?s:cH,alt:i.name,onError:m})}),(0,a.jsx)("span",{className:"cursor-pointer text-center whitespace-nowrap text-[9px]",children:i.name})]})})},`${r}-${l}`)}),e.brands&&e.brands.length>0&&(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)("button",{className:`flex h-[35px] px-4 gap-2 justify-center items-center border-2 ${(e=>{let t=e.brands.map(e=>e.idBrand);return t.length>0&&t.every(t=>d.some(r=>r.idBrands.some(r=>r.idSubCategory===e.idSubCategory&&r.idBrands.includes(t))))})(e)?"border-green-400 bg-green-50":"border-none bg-gray-100"}`,style:{borderRadius:"18px"},onClick:()=>((e,t)=>{let r=e.brands.map(e=>e.idBrand),a=r.every(t=>d.some(r=>r.idBrands.some(r=>r.idSubCategory===e.idSubCategory&&r.idBrands.includes(t))));c(i=>{let l=i.map(e=>({...e,idSubCategories:[...e.idSubCategories],idBrands:e.idBrands.map(e=>({...e,idBrands:[...e.idBrands]}))})),s=l.findIndex(e=>e.idCategory===t.id);if(a){if(-1!==s){let t=l[s],r=t.idBrands.findIndex(t=>t.idSubCategory===e.idSubCategory);-1!==r&&(t.idBrands.splice(r,1),t.idSubCategories=t.idSubCategories.filter(t=>t!==e.idSubCategory),0===t.idBrands.length&&l.splice(s,1))}}else if(-1!==s){let t=l[s],a=t.idBrands.findIndex(t=>t.idSubCategory===e.idSubCategory);-1!==a?t.idBrands[a].idBrands=[...r]:(t.idSubCategories.includes(e.idSubCategory)||t.idSubCategories.push(e.idSubCategory),t.idBrands.push({idSubCategory:e.idSubCategory,idBrands:[...r]}))}else l.push({idCategory:t.id,idSubCategories:[e.idSubCategory],idBrands:[{idSubCategory:e.idSubCategory,idBrands:[...r]}]});return l})})(e,t),children:(0,a.jsx)("span",{className:"text-[9px] font-medium whitespace-nowrap",children:"انتخاب همه"})})})]})},r))})}let cX=e=>{var t;let{items:r,clickType:i,searchType:l,tab:s,filterCategoryStorage:n,setFilterCategoryStorage:o,filterCategorySubCategoryStorage:d,setFilterCategorySubCategoryStorage:c,filterCategorySubCategoryBrandsStorage:u,setFilterCategorySubCategoryBrandsStorage:m}=e,g=null==n?void 0:n[0],p=(null==d||null==(t=d.find(e=>e.idCategory===g))?void 0:t.idSubCategories)||[],h=null==r?void 0:r.map(e=>{var t;let r=(null==(t=e.subCategories)?void 0:t.filter(e=>p.includes(e.idSubCategory)))||[];return{...e,subCategories:r}}).filter(e=>e.subCategories.length>0);return(0,a.jsx)(nU.tq,{modules:[n$.Rv],slidesPerView:"auto",spaceBetween:6,className:"mt-2",style:{width:"100%"},children:null==h?void 0:h.map(e=>(0,a.jsx)(nU.o5,{style:{width:"auto",display:"flex",margin:0,padding:0},children:(0,a.jsx)(cG,{parentItem:e,clickType:i,searchType:l,tab:s,filterCategoryStorage:n,setFilterCategoryStorage:o,filterCategorySubCategoryStorage:d,setFilterCategorySubCategoryStorage:c,filterCategorySubCategoryBrandsStorage:u,setFilterCategorySubCategoryBrandsStorage:m})},e.idBrand))})},cY=function(e){let{items:t,click:r,clickType:i,selectedBrand:l,setBrands:s,subCategoryBrandsUniqueID:n,setSubCategoryBrandsUniqueID:o,filtersContext:d,searchType:c,selectedCategory:u,selectedSubCategory:m,filterBrandStorage:g,setFilterBrandStorage:p,filterBrandsCategoryStorage:h,setFilterBrandsCategoryStorage:x,filterBrandsSubCategoryCategoryStorage:b,setFilterBrandsSubCategoryCategoryStorage:f,filterSubCategoryCategoryStorage:y,setFilterSubCategoryCategoryStorage:j,filterBrandsCategorySubCategoryStorage:v,setFilterBrandsCategorySubCategoryStorage:C,filterCategoryStorage:w,setFilterCategoryStorage:k,filterCategorySubCategoryStorage:S,setFilterCategorySubCategoryStorage:I,filterCategorySubCategoryBrandsStorage:z,setFilterCategorySubCategoryBrandsStorage:N,tab:D,brandsContext:A,setSubCategoryUniqueID:F,subCategoryUniqueID:M}=e;switch(c){case"category":return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{children:(0,a.jsx)(c$,{items:t,clickType:"categories",searchType:c,tab:D,filterCategoryStorage:w,setFilterCategoryStorage:k,filterCategorySubCategoryStorage:S,setFilterCategorySubCategoryStorage:I,filterCategorySubCategoryBrandsStorage:z,setFilterCategorySubCategoryBrandsStorage:N})}),(0,a.jsx)("div",{children:(0,a.jsx)(cV,{items:t,clickType:"categorySubCategories",searchType:c,tab:D,filterCategoryStorage:w,setFilterCategoryStorage:k,filterCategorySubCategoryStorage:S,setFilterCategorySubCategoryStorage:I,filterCategorySubCategoryBrandsStorage:z,setFilterCategorySubCategoryBrandsStorage:N})}),(0,a.jsx)("div",{children:(0,a.jsx)(cX,{items:t,clickType:"categoryBrands",searchType:c,tab:D,filterCategoryStorage:w,setFilterCategoryStorage:k,filterCategorySubCategoryStorage:S,setFilterCategorySubCategoryStorage:I,filterCategorySubCategoryBrandsStorage:z,setFilterCategorySubCategoryBrandsStorage:N})})]});case"brand":return(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{children:(0,a.jsx)(cA,{items:t,clickType:"brands",searchType:c,tab:D,filterBrandStorage:g,setFilterBrandStorage:p,filterBrandsCategoryStorage:h,setFilterBrandsCategoryStorage:x,filterBrandsCategorySubCategoryStorage:v,setFilterBrandsCategorySubCategoryStorage:C})}),(0,a.jsx)("div",{children:(0,a.jsx)(cT,{items:t,clickType:"brandCategories",searchType:c,tab:D,filterBrandStorage:g,setFilterBrandStorage:p,filterBrandsCategoryStorage:h,setFilterBrandsCategoryStorage:x})}),(0,a.jsx)("div",{children:(0,a.jsx)(c_,{items:t,clickType:"brandSubCategories",searchType:c,tab:D,filterBrandStorage:g,setFilterBrandStorage:p,filterBrandsCategoryStorage:h,setFilterBrandsCategoryStorage:x,filterBrandsCategorySubCategoryStorage:v,setFilterBrandsCategorySubCategoryStorage:C})})]});default:return null}};function cJ(e){if(!e)return{};try{let t=e.split(".")[1];if(!t)return{};let r=t.replace(/-/g,"+").replace(/_/g,"/"),a=decodeURIComponent(atob(r).split("").map(e=>"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)).join("")),i=JSON.parse(a);return{supplierId:i.id??null,supplierName:i.name??null,role:i.role??null}}catch(e){return console.error("Invalid token",e),{}}}let cQ=function(e){let[t,{open:r,close:i}]=(0,s$.q)(),l=(0,nh.V)({timeout:2e3}),[s,n]=(0,p.useState)({}),[o,d]=(0,p.useState)(!0);return(0,p.useEffect)(()=>{let e=localStorage.getItem("user");if(e)try{let t=cJ(e);n(t)}catch(e){}d(!1)},[]),(0,a.jsxs)(a.Fragment,{children:[(null==s?void 0:s.role)==="supplier"&&(0,a.jsx)(z.z,{size:"xs",rightSection:(0,a.jsx)(sb.IconShare,{size:16}),onClick:r,children:"اشتراک گذاری"}),(0,a.jsx)(sp.u,{centered:!0,title:"اشتراک گذاری محصولات شما",onClose:i,opened:t,children:o?(0,a.jsx)(si.M,{children:(0,a.jsx)(A.a,{})}):(0,a.jsxs)(z.z,{size:"sm",variant:"light",fullWidth:!0,mt:"md",color:l.copied?"":"dark",onClick:()=>l.copy(`${window.location}?supplierid=${null==s?void 0:s.supplierId}`),children:[l.copied?(0,a.jsx)(sb.IconCheck,{style:{marginLeft:"10px"}}):(0,a.jsx)(sb.IconCopy,{style:{marginLeft:"10px"}}),l.copied?"کپی شد":"کپی کردن لینک"]})})]})},c0=(0,_.hg)("category/deleteFilterSettings",async(e,t)=>{let{slug:r,id:a}=e,{rejectWithValue:i}=t,l=localStorage.getItem("user");try{let e=et(`/save-filters/${r}/delete?id=${a}`),t=await fetch(e,{method:"DELETE",headers:new Headers({Authorization:`Bearer ${l}`})});if(!t.ok){let e=await t.json().catch(()=>({}));return i((null==e?void 0:e.message)||"Failed to delete filter")}return{id:a}}catch(e){return console.error("Delete filter error:",e),i("Network error or server not responding")}});var c1=r(18446),c6=r.n(c1);let c2=e=>{var t,r;let{searchType:i,setSearchType:l,setAvailableLocations:s,filters:n,setFilters:o,setNodes:d,setNodesSubCategories:c}=e,u=(0,m.I0)(),{isVerified:x,loading:b,error:f,user:y}=(0,m.v9)(e=>e.auth),{savedFilters:j,deleteLoadingId:v}=(0,m.v9)(e=>e.getFilterSettings||{}),{saveStatus:w,saveLoading:k,saveError:S}=(0,m.v9)(e=>e.saveFilterSettings||{}),I=(0,sq.a)("(max-width: 480px)"),D=(0,sq.a)("(max-width: 1024px)"),{checkedRows:A,selectedRow:M,setSelectedRow:T,toggleCheck:P,isChecked:E,clearAll:_}=cz(),[L,B]=(0,p.useState)(!1),[O,R]=(0,p.useState)(""),[W,Z]=(0,p.useState)(null),[U,$]=(0,p.useState)(!1),[q,K]=(0,p.useState)(""),[V,H]=(0,p.useState)(!1),[G,X]=(0,p.useState)({parent:[],clickedBrands:[],categories:[]}),{tableData:Y,loading:J}=(0,m.v9)(e=>e.fastOrderBrandModeData||{}),{tableDataFromSavedFilters:Q,loadingTableDataFromSavedFilters:ee}=(0,m.v9)(e=>e.fastOrderTableDataBrandModeSavedFilters||{}),et="search_filters_brand_fast_edit",er=(0,p.useCallback)(()=>{let e=C.Z.get(et);if(e)try{return JSON.parse(e)}catch(e){}return{searchType:"brand",uniqueIDClickedBrands:[],uniqueIDClickedBrandsCategories:[],filterBrandsCategorySubCategoryStorage:[],filters:{color:"all",province:"all",stockStatus:"all",minStock:"",deliveryTime:"",paymentType:"",supplier:"",sort:"bestPrice",priceFormat:"hezar"}}},[et]),ea=(0,p.useMemo)(()=>er(),[er]),[ei,el]=(0,p.useState)(ea.uniqueIDClickedBrands),[es,en]=(0,p.useState)(ea.uniqueIDClickedBrandsCategories),[eo,ed]=(0,p.useState)(ea.filterBrandsCategorySubCategoryStorage),[ec,eu]=(0,p.useState)(ea.filters),{setFilterValues:em}=uu(),{id:eg}=(0,g.UO)(),ep=(0,p.useRef)(null),eh=(0,p.useRef)(!1),ex=(0,sd.c)({initialValues:{inputBox:""},validate:{title:e=>(null==e?void 0:e.trim())?null:"نام الزامی است"}}),eb=(0,p.useCallback)(e=>{Z(e.id),K(e.filterName||"بدون نام"),$(!0);let t={searchType:"brand",filters:e.filters||{},uniqueIDClickedBrands:e.uniqueIDClickedBrands||[],uniqueIDClickedBrandsCategories:e.uniqueIDClickedBrandsCategories||[],filterBrandsCategorySubCategoryStorage:e.filterBrandsCategorySubCategoryStorage||[]};C.Z.set(et,JSON.stringify(t),{expires:7}),el(e.uniqueIDClickedBrands||[]),en(e.uniqueIDClickedBrandsCategories||[]),ed(e.filterBrandsCategorySubCategoryStorage||[]),eu(e.filters||{}),o&&o(e.filters||{}),l&&l("brand"),T(e.id),H(!1),h.N9.show({title:"حالت ویرایش",message:`\u{641}\u{6CC}\u{644}\u{62A}\u{631} "${e.filterName||"بدون نام"}" \u{628}\u{627}\u{631}\u{6AF}\u{630}\u{627}\u{631}\u{6CC} \u{634}\u{62F}. \u{62A}\u{63A}\u{6CC}\u{6CC}\u{631}\u{627}\u{62A} \u{631}\u{627} \u{627}\u{639}\u{645}\u{627}\u{644} \u{6A9}\u{646}\u{6CC}\u{62F} \u{648} \u{633}\u{67E}\u{633} \u{630}\u{62E}\u{6CC}\u{631}\u{647} \u{6A9}\u{646}\u{6CC}\u{62F}.`,color:"blue",autoClose:4e3})},[et,o,l,T]),ef=(0,p.useCallback)(()=>{let e;if(!W||!q.trim())return;let t="brand-fast-order",r=C.Z.get(et);try{e=r?JSON.parse(r):{}}catch(t){e={}}u(ln({slug:t,id:W,filterName:q.trim(),...e})).then(()=>{u(ly(t)),$(!1),Z(null),K(""),h.N9.show({title:"ذخیره شد",message:`\u{641}\u{6CC}\u{644}\u{62A}\u{631} "${q.trim()}" \u{628}\u{627} \u{645}\u{648}\u{641}\u{642}\u{6CC}\u{62A} \u{628}\u{647}\u{200C}\u{631}\u{648}\u{632}\u{631}\u{633}\u{627}\u{646}\u{6CC} \u{634}\u{62F}.`,color:"green",autoClose:3e3})})},[W,q,et,u]),ey=(0,p.useCallback)(()=>{$(!1),Z(null),K("");let e=er();el(e.uniqueIDClickedBrands),en(e.uniqueIDClickedBrandsCategories),ed(e.filterBrandsCategorySubCategoryStorage),eu(e.filters),o&&o(e.filters),C.Z.set(et,JSON.stringify(e),{expires:7}),T(null),h.N9.show({title:"لغو ویرایش",message:"تغییرات لغو شد و فیلترها به حالت اولیه بازگشتند.",color:"gray",autoClose:2e3})},[er,o,T,et]),ej=(0,p.useCallback)((e,t)=>{P(e)},[P]),ev=(0,p.useCallback)(()=>{_()},[_]),eC=(0,p.useCallback)(()=>{let e;if(!O.trim())return;let t="brand-fast-order",r=C.Z.get(et);try{e=r?JSON.parse(r):{}}catch(t){e={}}u(la({slug:t,filters:e,filterName:O.trim()})).then(()=>{u(ly(t)),(null==w?void 0:w.state)==="ok"&&B(!1),R("")})},[O,et,u,w]),ew=(0,p.useCallback)(e=>{let t="brand-fast-order";u(c0({slug:t,id:e})).then(()=>{u(ly(t)),E(e)&&P(e),W===e&&ey()})},[u,E,P,W,ey]),ek=(0,p.useCallback)(()=>{let e={searchType:i,uniqueIDClickedBrands:ei,uniqueIDClickedBrandsCategories:es,filterBrandsCategorySubCategoryStorage:eo,filters:ec};return eg&&(e.userId=eg),{thisFilter:e,query:sg().stringify(e,{addQueryPrefix:!0,arrayFormat:"comma"})}},[i,ec,ei,es,eo,eg]);return(0,p.useEffect)(()=>{let e={searchType:i,filterBrandStorage:ei,filterBrandsCategoryStorage:es,filterBrandsCategorySubCategoryStorage:eo,checkedRowsSize:A.size,checkedRowIds:Array.from(A).sort().join(",")};c6()(ep.current,e)||(ep.current=e,A.size>0?u(lL({checkedRowIds:Array.from(A),searchType:"brand"})):u(rN({searchType:i,uniqueIDClickedBrands:ei,uniqueIDClickedBrandsCategories:es,filterBrandsCategorySubCategoryStorage:eo})))},[u,i,ei,es,eo,A]),(0,p.useEffect)(()=>{y&&!eh.current&&(u(ly("brand-fast-order")),eh.current=!0)},[u,y]),(0,p.useEffect)(()=>{C.Z.set(et,JSON.stringify({searchType:i,uniqueIDClickedBrands:ei,uniqueIDClickedBrandsCategories:es,filterBrandsCategorySubCategoryStorage:eo,filters:ec}),{expires:7})},[i,ei,es,eo,ec,et]),(0,p.useEffect)(()=>{let e=C.Z.get(et);if(e)try{let t=JSON.parse(e);el(t.uniqueIDClickedBrands||[]),en(t.uniqueIDClickedBrandsCategories||[]),ed(t.filterBrandsCategorySubCategoryStorage||[]),eu(t.filters||{}),o&&o(t.filters||{}),l&&t.searchType&&l(t.searchType)}catch(e){}},[et,o,l]),(0,p.useEffect)(()=>{n&&JSON.stringify(n)!==JSON.stringify(ec)&&eu(n)},[n,ec]),(0,p.useEffect)(()=>{Y&&(d((null==Y?void 0:Y.products)||[]),c((null==Y?void 0:Y.subCategoriesData)||[]),em((null==Y?void 0:Y.filters)||{}),s((null==Y?void 0:Y.supplierLocations)||[]))},[Y,d,c,em,s]),(0,p.useEffect)(()=>{Q&&(d((null==Q?void 0:Q.products)||[]),c((null==Q?void 0:Q.subCategoriesData)||[]),em((null==Q?void 0:Q.filters)||{}),s((null==Q?void 0:Q.supplierLocations)||[]))},[Q,d,c,em,s]),(0,p.useEffect)(()=>{A.size>0&&(el([]),en([]),ed([]),eu({...ea.filters}),o&&o({...ea.filters}),l&&l("brand"),C.Z.set(et,JSON.stringify(ea),{expires:7}))},[A.size,ea,o,l,et]),console.log("render SearchComponentBrand",Y),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(sp.u,{opened:L,onClose:()=>{B(!1),R("")},title:"افزودن فیلتر جدید - برند",centered:!0,size:I?"sm":"md",padding:I?"sm":"md",children:[(0,a.jsx)(ss.o,{label:"نام فیلتر",placeholder:"نام را وارد کنید",...ex.getInputProps("inputBox"),value:O,onChange:e=>R(e.currentTarget.value),size:I?"sm":"md",error:(null==w?void 0:w.state)==="error"&&(null==w||null==(t=w.error)?void 0:t.inputBox)||ex.errors.inputBox?(0,a.jsxs)("div",{children:[(null==w?void 0:w.state)==="error"&&(null==w||null==(r=w.error)?void 0:r.inputBox)&&(0,a.jsx)("div",{children:w.error.inputBox}),ex.errors.inputBox&&(0,a.jsx)("div",{children:ex.errors.inputBox})]}):null}),(0,a.jsx)(z.z,{mt:"md",onClick:eC,disabled:!O.trim(),size:I?"sm":"md",fullWidth:I,children:"ذخیره"})]}),(0,a.jsxs)(N.X,{mt:{base:"xs",md:"xs"},id:"fastorder-search",p:I?"sm":"md",style:{overflow:"hidden"},children:[(0,a.jsxs)(l9.k,{direction:I?"column":"row",justify:I?"flex-start":"space-between",align:I?"stretch":"center",gap:I?"":"md",mb:D?"sm":"",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(nq,{children:"سفارش سریع"}),U&&(0,a.jsxs)(sh.Z,{gap:"xs",mt:"xs",children:[(0,a.jsxs)(sx.C,{color:"blue",variant:"light",size:"sm",children:["حالت ویرایش: ",q]}),(0,a.jsxs)(sh.Z,{gap:"xs",children:[(0,a.jsx)(sB.A,{variant:"filled",color:"green",size:"sm",onClick:ef,title:"ذخیره تغییرات",children:(0,a.jsx)(sb.IconDeviceFloppy,{size:14})}),(0,a.jsx)(sB.A,{variant:"subtle",color:"gray",size:"sm",onClick:ey,title:"لغو ویرایش",children:(0,a.jsx)(sb.IconTrash,{size:14})})]})]})]}),(0,a.jsxs)(l9.k,{direction:I?"column":"row",gap:I?"xs":"sm",align:I?"stretch":"center",children:[y&&(0,a.jsxs)(s_.v,{shadow:"md",width:I?"90vw":D?350:400,position:I?"bottom":"bottom-end",offset:I?5:10,opened:V,onChange:H,children:[(0,a.jsx)(s_.v.Target,{children:(0,a.jsxs)(z.z,{variant:"light",leftSection:!I&&(0,a.jsx)(sb.IconFilter,{size:16}),size:I?"sm":"md",fullWidth:I,compact:I,styles:{root:{height:I?"32px":"36px",fontSize:I?"11px":"13px"}},children:["تنظیمات جستجو",A.size>0&&` (${A.size})`]})}),(0,a.jsxs)(s_.v.Dropdown,{children:[(0,a.jsx)(s_.v.Label,{children:"فیلترهای ذخیره شده"}),(0,a.jsx)(s_.v.Item,{leftSection:(0,a.jsx)(sb.IconPlus,{size:16}),onClick:()=>B(!0),children:"افزودن فیلتر جدید"}),j&&j.length>0&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s_.v.Divider,{}),A.size>0&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(sh.Z,{p:"xs",gap:"xs",justify:I?"center":"flex-start",children:(0,a.jsx)(z.z,{size:"xs",variant:"subtle",color:"gray",onClick:ev,fullWidth:I,disabled:U,style:{opacity:U?.5:1},children:"پاک کردن انتخاب"})}),(0,a.jsx)(s_.v.Divider,{})]}),(0,a.jsx)(sa.x,{style:{maxHeight:I?"250px":"300px",overflowY:"auto",overflowX:"hidden"},children:j.map((e,t)=>(0,a.jsxs)(p.Fragment,{children:[(0,a.jsx)(s_.v.Item,{children:(0,a.jsxs)(sh.Z,{justify:"space-between",w:"100%",wrap:"nowrap",children:[(0,a.jsxs)(sh.Z,{gap:"xs",flex:1,maw:"calc(100% - 60px)",children:[(0,a.jsx)(F.X,{checked:E(e.id),onChange:t=>{U||ej(e.id,t.currentTarget.checked)},onClick:e=>e.stopPropagation(),size:I?"sm":"md",disabled:U,style:{opacity:U?.5:1,cursor:U?"not-allowed":"pointer"}}),(0,a.jsx)(se.x,{size:I?"xs":"sm",fw:W===e.id?600:500,c:W===e.id?"blue":void 0,style:{cursor:"pointer",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",flex:1,opacity:U&&W!==e.id?.6:1},onClick:t=>{if(t.stopPropagation(),U&&W!==e.id)return void h.N9.show({title:"در حال ویرایش",message:"ابتدا ویرایش فعلی را تمام کنید یا لغو کنید.",color:"orange",autoClose:3e3});let r={searchType:"brand",filters:e.filters||{},uniqueIDClickedBrands:e.uniqueIDClickedBrands||[],uniqueIDClickedBrandsCategories:e.uniqueIDClickedBrandsCategories||[],filterBrandsCategorySubCategoryStorage:e.filterBrandsCategorySubCategoryStorage||[]};C.Z.set(et,JSON.stringify(r),{expires:7}),el(e.uniqueIDClickedBrands||[]),en(e.uniqueIDClickedBrandsCategories||[]),ed(e.filterBrandsCategorySubCategoryStorage||[]),eu(e.filters||{}),o&&o(e.filters||{}),l&&l("brand"),T(e.id)},title:e.filterName||"بدون نام",children:e.filterName||"بدون نام"})]}),(0,a.jsxs)(sh.Z,{gap:"xs",style:{flexShrink:0},children:[(0,a.jsx)(sB.A,{variant:"subtle",color:"blue",size:I?"sm":"md",onClick:t=>{t.stopPropagation(),eb(e)},title:"ویرایش",disabled:U&&W!==e.id,children:(0,a.jsx)(sb.IconEdit,{size:I?12:14})}),(0,a.jsx)(sB.A,{variant:"subtle",color:"red",size:I?"sm":"md",onClick:t=>{if(t.stopPropagation(),U&&W!==e.id)return void h.N9.show({title:"در حال ویرایش",message:"ابتدا ویرایش فعلی را تمام کنید یا لغو کنید.",color:"orange",autoClose:3e3});ew(e.id)},disabled:v===e.id||U&&W!==e.id,title:"حذف",children:(0,a.jsx)(sb.IconTrash,{size:I?12:14})})]})]})}),t<j.length-1&&(0,a.jsx)(s_.v.Divider,{})]},e.id))})]}),(!j||0===j.length)&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s_.v.Divider,{}),(0,a.jsx)(s_.v.Item,{disabled:!0,children:(0,a.jsx)(se.x,{size:I?"xs":"sm",c:"dimmed",ta:"center",children:"فیلتری ذخیره نشده است"})})]})]})]}),(0,a.jsx)(cQ,{filters:ek().thisFilter,isMobile:I})]})]}),(0,a.jsx)(nS.f,{pos:"fixed",visible:J,zIndex:1e3,h:"100%"}),(0,a.jsxs)(s1.m,{styles:{panel:{marginTop:I?"15px":"20px"},list:{overflowX:"auto",flexWrap:"nowrap",justifyContent:"center",display:"flex",width:"100%"},tab:{fontSize:I?"12px":"14px",padding:I?"8px 12px":"10px 16px",whiteSpace:"nowrap",flex:"1 1 50%",textAlign:"center"}},variant:"pills",defaultValue:"brand",value:i,onChange:l,orientation:"horizontal",children:[(0,a.jsxs)(s1.m.List,{grow:!1,children:[(0,a.jsx)(s1.m.Tab,{value:"brand",children:I?"برند":"جستجو بر اساس برند"}),(0,a.jsx)(s1.m.Tab,{value:"category",children:I?"دسته‌بندی":"جستجو بر اساس دسته بندی"})]}),(0,a.jsx)(s1.m.Panel,{value:"brand",children:!J&&"brand"===i&&Y&&(0,a.jsx)(cY,{tab:G,items:null==Y?void 0:Y.brands,searchType:i,click:X,filterBrandStorage:ei,setFilterBrandStorage:el,filterBrandsCategoryStorage:es,setFilterBrandsCategoryStorage:en,filterBrandsCategorySubCategoryStorage:eo,setFilterBrandsCategorySubCategoryStorage:ed,isMobile:I,isTablet:D})})]})]})]})};var c4=r(71613),c3=r(61498);let c5={closeAllDropdowns:()=>{}};function c8(e){let{data:t=[],value:r,onChange:i,placeholder:l="انتخاب کنید",allLabel:s="همه",size:n="xs",clearable:o=!1,disabled:d=!1,dropdownId:c,...u}=e,m=(0,sE.rZ)(),[g,h]=(0,p.useState)(!1),x=t.map(e=>"string"==typeof e?{label:e,value:e}:e),b=(0,d1.K)({onDropdownClose:()=>{h(!1),b.resetSelectedOption()},onDropdownOpen:()=>{h(!0)}});(0,p.useEffect)(()=>{let e=c5.closeAllDropdowns;return c5.closeAllDropdowns=()=>{g&&(b.closeDropdown(),h(!1)),e()},()=>{c5.closeAllDropdowns=e}},[g,b]),x.find(e=>e.value===r);let f=r||"all",y=x.find(e=>e.value===f),j="all"===f?s:y?y.label:s;return(0,a.jsxs)(d6.h,{store:b,onOptionSubmit:e=>{null==i||i(e||"all"),b.closeDropdown(),h(!1)},size:n,position:"bottom-start",middlewares:{flip:!1,shift:!0},dropdownPadding:4,shadow:"md",children:[(0,a.jsx)(d6.h.Target,{children:(0,a.jsx)(c4.M,{component:"button",type:"button",onClick:e=>{e.stopPropagation(),d||(c5.closeAllDropdowns(),setTimeout(()=>{b.opened?b.closeDropdown():b.openDropdown()},0))},size:n,"aria-expanded":g,disabled:d,...u,style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",width:"100%",textAlign:"left",background:"transparent",border:"none",cursor:d?"not-allowed":"pointer",position:"relative",zIndex:1},children:(0,a.jsxs)(l9.k,{flexDirection:"row",alignItems:"center",gap:8,style:{flex:1},children:[(0,a.jsx)(se.x,{size:"xs",style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",flex:1},children:j}),(0,a.jsx)(sb.IconChevronDown,{size:14,style:{transform:g?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s ease"}})]})})}),(0,a.jsxs)(d6.h.Dropdown,{style:{minWidth:"200px",width:"auto",zIndex:1e3,maxHeight:"250px",overflowY:"auto",overflowX:"hidden",border:"1px solid #ccc",borderRadius:"6px",backgroundColor:"white",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)"},children:[(0,a.jsx)(d6.h.Option,{value:"",disabled:!0,style:{opacity:.7,pointerEvents:"none"},children:(0,a.jsx)(se.x,{size:"xs",color:"dimmed",children:l})}),x.map(e=>{var t;return(0,a.jsx)(d6.h.Option,{value:e.value,style:{cursor:"pointer",borderRadius:"4px"},children:(0,a.jsx)(sh.Z,{position:"apart",style:{width:"100%"},children:(0,a.jsxs)(l9.k,{flexDirection:"row",alignItems:"center",gap:8,style:{flex:1},children:[String(f)===String(e.value)&&(0,a.jsx)(sb.IconCheck,{size:14,color:null==(t=m.colors.gray)?void 0:t[6]}),(0,a.jsx)(se.x,{size:"xs",style:{whiteSpace:"nowrap"},children:e.label})]})})},e.value)})]})]})}let c7=e=>{var t;let{colors:r=[],value:i,onChange:l,placeholder:s="رنگ",dropdownId:n}=e,o=(0,sE.rZ)(),d=[{label:"همه",value:"all"},...r],[c,u]=(0,p.useState)(i||(null==(t=d[0])?void 0:t.value)),[m,g]=(0,p.useState)(!1),h=(0,d1.K)({onDropdownClose:()=>{g(!1),h.resetSelectedOption()},onDropdownOpen:()=>{g(!0)}});(0,p.useEffect)(()=>{let e=c5.closeAllDropdowns;return c5.closeAllDropdowns=()=>{m&&(h.closeDropdown(),g(!1)),e()},()=>{c5.closeAllDropdowns=e}},[m,h]),(0,p.useEffect)(()=>{var e;u(i??(null==(e=d[0])?void 0:e.value))},[i,r]);let x=d.find(e=>e.value===c);return(0,a.jsxs)(d6.h,{store:h,onOptionSubmit:e=>{u(e),null==l||l(e),h.closeDropdown(),g(!1)},position:"bottom-start",middlewares:{flip:!1,shift:!0},dropdownPadding:4,shadow:"md",children:[(0,a.jsx)(d6.h.Target,{children:(0,a.jsx)(c4.M,{component:"button",type:"button",onClick:e=>{e.stopPropagation(),c5.closeAllDropdowns(),setTimeout(()=>{h.opened?h.closeDropdown():h.openDropdown()},0)},size:"xs",style:{display:"flex",alignItems:"center",justifyContent:"flex-start",gap:8,width:"100%",background:"transparent",border:"none",textAlign:"left",position:"relative",zIndex:1},children:(0,a.jsxs)(l9.k,{flexDirection:"row",alignItems:"center",gap:8,style:{flex:1},children:[c&&x?(0,a.jsx)(sh.Z,{gap:6,style:{flex:1},children:"all"===c?(0,a.jsx)(se.x,{size:"xs",style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:"همه رنگ‌ها"}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n0.b,{size:14,color:c}),(0,a.jsx)(se.x,{size:"xs",style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:x.label})]})}):(0,a.jsx)(se.x,{size:"xs",children:s}),(0,a.jsx)(sb.IconChevronDown,{size:14,style:{transform:m?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s ease"}})]})})}),(0,a.jsxs)(d6.h.Dropdown,{style:{minWidth:"200px",width:"auto",zIndex:1e3,maxHeight:"250px",overflowY:"auto",overflowX:"hidden",border:"1px solid #ccc",borderRadius:"6px",backgroundColor:"white",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)"},children:[(0,a.jsx)(d6.h.Option,{value:"",disabled:!0,style:{opacity:.7,pointerEvents:"none"},children:(0,a.jsx)(se.x,{size:"xs",color:"dimmed",children:s})}),d.map(e=>{var t;return(0,a.jsx)(d6.h.Option,{value:e.value,style:{cursor:"pointer",borderRadius:"4px"},children:(0,a.jsxs)(sh.Z,{gap:6,position:"apart",style:{width:"100%"},children:[(0,a.jsxs)(sh.Z,{children:["all"!==e.value&&(0,a.jsx)(n0.b,{color:e.value,size:12}),(0,a.jsx)(se.x,{size:"xs",style:{whiteSpace:"nowrap"},children:e.label})]}),c===e.value&&(0,a.jsx)(sb.IconCheck,{size:12,color:null==(t=o.colors.gray)?void 0:t[6]})]})},e.value)})]})]})},c9=function(e){let{setFilters:t,nodes:r,filters:i,setNodes:l,setNodesSubCategories:s,searchType:n,setSearchType:o}=e,d=new URLSearchParams((0,g.TH)().search),c=d.get("supplierid")||"";d.get("suppliername");let u=!!c,{filterValues:m}=uu(),{filtersContext:h,setFiltersContext:x,brandsContext:b={parent:[]}}=cv(),f=(0,sq.a)("(max-width: 480px)");(0,sq.a)("(max-width: 1024px)");let y=(0,sd.c)({initialValues:{color:(null==i?void 0:i.color)||"all",province:(null==i?void 0:i.province)||"all",stockStatus:(null==i?void 0:i.stockStatus)||!1,minStock:(null==i?void 0:i.minStock)||"all",deliveryTime:(null==i?void 0:i.deliveryTime)||"all",paymentType:(null==i?void 0:i.paymentType)||"all",supplier:(null==i?void 0:i.supplier)||"all",sort:(null==i?void 0:i.sort)||"",priceFormat:(null==i?void 0:i.priceFormat)||"",saleType:(null==i?void 0:i.saleType)||"cash"}});(0,p.useEffect)(()=>{i&&y.setValues(i)},[i]);let j=(e,t)=>{e.stopPropagation(),c5.closeAllDropdowns(),"province"===t?y.setFieldValue("province","mylocation"===y.values.province?"all":"mylocation"):"stockStatus"===t?y.setFieldValue("stockStatus",!y.values.stockStatus):"saleType"===t&&y.setFieldValue("saleType","cash"===y.values.saleType?"credit":"cash")};if((0,p.useEffect)(()=>{let e=e=>{e.target.closest(".swiper-slide")||e.target.closest("[data-combobox-dropdown]")||c5.closeAllDropdowns()};return document.addEventListener("click",e),()=>document.removeEventListener("click",e)},[]),!m||!Array.isArray(m.colors))return(0,a.jsx)(nS.f,{});let v={width:"fit-content",minWidth:"30px",padding:"2px",height:"35px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},C={...v,minWidth:"60px",justifyContent:"flex-end"},w=Array.isArray(m.sellers)?m.sellers.map(e=>"string"==typeof e?{label:e,value:e}:e):[];return(0,a.jsx)(N.X,{mt:{base:"xs",md:"xs"},id:"fastorder-search",p:f?"sm":"md",style:{overflow:"hidden"},children:(0,a.jsx)("form",{onSubmit:y.onSubmit(e=>{t(e),x(e),c5.closeAllDropdowns()}),children:(0,a.jsxs)(nU.tq,{modules:[n$.Rv],spaceBetween:0,slidesPerView:"auto",freeMode:!0,style:{height:"35px",overflow:"visible"},children:[(0,a.jsx)(nU.o5,{style:C,children:(0,a.jsx)("div",{className:"flex flex-col justify-center h-full",children:(0,a.jsx)(z.z,{type:"submit",size:"sm",leftSection:(0,a.jsx)(sb.IconFilter,{size:18}),children:"اعمال"})})}),(0,a.jsx)(nU.o5,{style:v,children:(0,a.jsx)("div",{className:"flex items-center h-full",children:(0,a.jsx)("div",{style:{flex:1,minWidth:"0"},children:(0,a.jsx)(c8,{placeholder:"ترتیب",allLabel:"همه ترتیب‌ها",data:[{label:"بهترین قیمت",value:"bestPrice"},{label:"بیشترین موجودی",value:"highestStock"}],value:y.values.sort,onChange:e=>y.setFieldValue("sort",e),dropdownId:"sort"})})})}),(0,a.jsx)(nU.o5,{style:v,children:(0,a.jsx)("div",{className:"flex items-center h-full",children:(0,a.jsx)("div",{style:{flex:1},children:(0,a.jsx)(c8,{placeholder:"واحد",allLabel:"همه واحدها",data:[{label:"هزار تومان",value:"hezar"},{label:"میلیون تومان",value:"million"}],value:y.values.priceFormat,onChange:e=>y.setFieldValue("priceFormat",e),dropdownId:"priceFormat"})})})}),(0,a.jsx)(nU.o5,{style:v,children:(0,a.jsx)("div",{className:"flex items-center h-full",children:(0,a.jsx)("div",{style:{flex:1},children:(0,a.jsx)(c7,{placeholder:"رنگ",colors:m.colors||[],value:y.values.color,onChange:e=>y.setFieldValue("color",e),dropdownId:"color"})})})}),(0,a.jsx)(nU.o5,{style:v,children:(0,a.jsx)("div",{className:"flex items-center h-full",children:(0,a.jsx)("div",{style:{flex:1},children:(0,a.jsx)(c8,{placeholder:"ارسال",allLabel:"همه بازه‌های ارسال",data:[{label:"همه",value:"all"},{label:"< 3 ساعت",value:"3hr"},{label:"< 1 روز",value:"1d"},{label:"تا 3 روز",value:"3d"},{label:"تا 1 هفته",value:"7d"},{label:"تا 15 روز",value:"15d"},{label:"تا 30 روز",value:"30d"},{label:"بیش از 30 روز",value:"30d+"}],value:y.values.deliveryTime,onChange:e=>y.setFieldValue("deliveryTime",e),dropdownId:"deliveryTime"})})})}),(0,a.jsx)(nU.o5,{style:v,children:(0,a.jsx)("div",{className:"flex items-center h-full",children:(0,a.jsx)("div",{style:{flex:1},children:(0,a.jsx)(c8,{placeholder:"موجودی",allLabel:"همه موجودی",data:[{label:"همه",value:"all"},{label:"5",value:"5"},{label:"10",value:"10"},{label:"20",value:"20"},{label:"50",value:"50"},{label:"100",value:"100"}],value:y.values.minStock,onChange:e=>y.setFieldValue("minStock",e),dropdownId:"minStock"})})})}),(0,a.jsx)(nU.o5,{style:v,children:(0,a.jsx)("div",{className:"flex items-center h-full",children:(0,a.jsx)("div",{style:{flex:1},children:(0,a.jsx)(c8,{placeholder:"تامین",allLabel:"همه تامین‌کنندگان",data:[{label:"همه",value:"all"},...w],value:u?c:y.values.supplier,onChange:e=>{u||y.setFieldValue("supplier",e)},disabled:u,dropdownId:"supplier"})})})}),(0,a.jsx)(nU.o5,{style:{...v,cursor:"pointer",overflow:"hidden"},onClick:e=>j(e,"province"),children:(0,a.jsx)("div",{className:"flex flex-col items-center justify-center h-full gap-1",children:(0,a.jsx)(c3.r,{label:"mylocation"===y.values.province?"استان من":"همه استان ها",checked:"mylocation"===y.values.province,readOnly:!0,size:"xs",labelPosition:"right",styles:e=>({root:{pointerEvents:"none"},track:{backgroundColor:"mylocation"===y.values.province?e.colors.blue[8]:e.colors.yellow[5]},thumb:{backgroundColor:e.white}})})})}),(0,a.jsx)(nU.o5,{style:{...v,cursor:"pointer",overflow:"hidden"},onClick:e=>j(e,"stockStatus"),children:(0,a.jsx)("div",{className:"flex flex-col items-center justify-center h-full gap-1",children:(0,a.jsx)(c3.r,{label:y.values.stockStatus?"موجود":"ناموجود",checked:!!y.values.stockStatus,readOnly:!0,size:"xs",labelPosition:"right",styles:e=>({root:{pointerEvents:"none"},track:{backgroundColor:y.values.stockStatus?e.colors.green[6]:e.colors.red[6]},thumb:{backgroundColor:e.white}})})})}),(0,a.jsx)(nU.o5,{style:{...v,cursor:"pointer",overflow:"hidden"},onClick:e=>j(e,"saleType"),children:(0,a.jsx)("div",{className:"flex flex-col items-center justify-center h-full gap-1",children:(0,a.jsx)(c3.r,{label:"cash"===y.values.saleType?"نقدی":"پیش فروش",checked:"cash"===y.values.saleType,readOnly:!0,size:"xs",labelPosition:"right",styles:e=>({root:{pointerEvents:"none"},track:{backgroundColor:"cash"===y.values.saleType?e.colors.grape[6]:e.colors.violet[6]},thumb:{backgroundColor:e.white}})})})})]})})})},ue={closeAllDropdowns:()=>{}};function ut(e){let{data:t=[],value:r,onChange:i,placeholder:l="انتخاب کنید",allLabel:s="همه",size:n="xs",clearable:o=!1,disabled:d=!1,searchable:c=!1,style:u={},dropdownId:m,...g}=e,h=(0,sE.rZ)(),[x,b]=(0,p.useState)(!1),f=t.map(e=>"string"==typeof e?{label:e,value:e}:e),y=(0,d1.K)({onDropdownClose:()=>{b(!1),y.resetSelectedOption()},onDropdownOpen:()=>{b(!0)}});(0,p.useEffect)(()=>{let e=ue.closeAllDropdowns;return ue.closeAllDropdowns=()=>{x&&(y.closeDropdown(),b(!1)),e()},()=>{ue.closeAllDropdowns=e}},[x,y]),f.find(e=>e.value===r);let j=r||"all",v=f.find(e=>e.value===j),C="all"===j?s:v?v.label:s;return(0,a.jsxs)(d6.h,{store:y,onOptionSubmit:e=>{null==i||i(e||"all"),y.closeDropdown(),b(!1)},size:n,position:"bottom-start",middlewares:{flip:!1,shift:!0},dropdownPadding:4,shadow:"md",children:[(0,a.jsx)(d6.h.Target,{children:(0,a.jsx)(c4.M,{component:"button",type:"button",onClick:e=>{e.stopPropagation(),d||(ue.closeAllDropdowns(),setTimeout(()=>{y.opened?y.closeDropdown():y.openDropdown()},0))},size:n,"aria-expanded":x,disabled:d,...g,style:{display:"flex",alignItems:"center",justifyContent:"center",justifyItems:"center",width:"100%",textAlign:"left",background:"transparent",border:"none",cursor:d?"not-allowed":"pointer",position:"relative",zIndex:1,...u},children:(0,a.jsxs)(l9.k,{flexDirection:"row",alignItems:"center",gap:8,style:{flex:1},children:[(0,a.jsx)(se.x,{size:"xs",style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",flex:1},children:C}),(0,a.jsx)(sb.IconChevronDown,{size:14,style:{transform:x?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s ease"}})]})})}),(0,a.jsxs)(d6.h.Dropdown,{style:{minWidth:"200px",zIndex:1e3,maxHeight:"200px",overflowY:"auto"},children:[(0,a.jsx)(d6.h.Option,{value:"",disabled:!0,style:{opacity:.7,pointerEvents:"none"},children:(0,a.jsx)(se.x,{size:"xs",color:"dimmed",children:l})}),f.map(e=>{var t;return(0,a.jsx)(d6.h.Option,{value:e.value,children:(0,a.jsx)(sh.Z,{position:"apart",style:{width:"100%"},children:(0,a.jsxs)(l9.k,{flexDirection:"row",alignItems:"center",gap:8,style:{flex:1},children:[String(j)===String(e.value)&&(0,a.jsx)(sb.IconCheck,{size:14,color:null==(t=h.colors.gray)?void 0:t[6]}),(0,a.jsx)(se.x,{size:"xs",children:e.label})]})})},e.value)})]})]})}let ur=e=>{var t;let{colors:r=[],value:i,onChange:l,placeholder:s="انتخاب رنگ",dropdownId:n}=e,o=(0,sE.rZ)(),d=[{label:"همه",value:"all"},...r],[c,u]=(0,p.useState)(i||(null==(t=d[0])?void 0:t.value)),[m,g]=(0,p.useState)(!1),h=(0,d1.K)({onDropdownClose:()=>{g(!1),h.resetSelectedOption()},onDropdownOpen:()=>{g(!0)}});(0,p.useEffect)(()=>{let e=ue.closeAllDropdowns;return ue.closeAllDropdowns=()=>{m&&(h.closeDropdown(),g(!1)),e()},()=>{ue.closeAllDropdowns=e}},[m,h]),(0,p.useEffect)(()=>{var e;u(i??(null==(e=d[0])?void 0:e.value))},[i,r]);let x=d.find(e=>e.value===c);return(0,a.jsxs)(d6.h,{store:h,onOptionSubmit:e=>{u(e),null==l||l(e),h.closeDropdown(),g(!1)},size:"sm",position:"bottom-start",middlewares:{flip:!1,shift:!0},dropdownPadding:4,shadow:"md",children:[(0,a.jsx)(d6.h.Target,{children:(0,a.jsx)(c4.M,{component:"button",type:"button",onClick:e=>{e.stopPropagation(),ue.closeAllDropdowns(),setTimeout(()=>{h.opened?h.closeDropdown():h.openDropdown()},0)},size:"xs",style:{display:"flex",alignItems:"center",justifyContent:"center",justifyItems:"center",gap:8,width:"100%",background:"transparent",border:"none",textAlign:"left",position:"relative",zIndex:1},children:(0,a.jsxs)(l9.k,{flexDirection:"row",alignItems:"center",gap:8,style:{flex:1},children:[c&&x?(0,a.jsx)(sh.Z,{gap:6,style:{flex:1},children:"all"===c?(0,a.jsx)(se.x,{size:"xs",style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:"همه رنگ‌ها"}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n0.b,{size:14,color:c}),(0,a.jsx)(se.x,{size:"xs",style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:x.label})]})}):(0,a.jsx)(se.x,{size:"xs",children:s}),(0,a.jsx)(sb.IconChevronDown,{size:14,style:{transform:m?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s ease"}})]})})}),(0,a.jsxs)(d6.h.Dropdown,{style:{minWidth:"200px",zIndex:1e3,maxHeight:"200px",overflowY:"auto"},children:[(0,a.jsx)(d6.h.Option,{value:"",disabled:!0,style:{opacity:.7,pointerEvents:"none"},children:(0,a.jsx)(se.x,{size:"xs",color:"dimmed",children:s})}),d.map(e=>{var t;return(0,a.jsx)(d6.h.Option,{value:e.value,children:(0,a.jsxs)(sh.Z,{gap:6,position:"apart",style:{width:"100%"},children:[(0,a.jsxs)(sh.Z,{children:["all"!==e.value&&(0,a.jsx)(n0.b,{color:e.value,size:16}),(0,a.jsx)(se.x,{size:"xs",children:e.label})]}),c===e.value&&(0,a.jsx)(sb.IconCheck,{size:12,color:null==(t=o.colors.gray)?void 0:t[6]})]})},e.value)})]})]})},ua=function(e){let{setFilters:t,nodes:r,filters:i,setNodes:l,setNodesSubCategories:s,searchType:n,setSearchType:o}=e,d=new URLSearchParams((0,g.TH)().search).get("supplierid")||"",c=!!d,u=(0,sq.a)("(max-width: 480px)");(0,sq.a)("(max-width: 1024px)");let{filterValues:m}=uu(),{filtersContext:h,setFiltersContext:x,brandsContext:b={parent:[]}}=cv(),f=(0,sd.c)({initialValues:{color:(null==i?void 0:i.color)||"all",province:(null==i?void 0:i.province)||"all",stockStatus:(null==i?void 0:i.stockStatus)||!1,minStock:(null==i?void 0:i.minStock)||"all",deliveryTime:(null==i?void 0:i.deliveryTime)||"all",paymentType:(null==i?void 0:i.paymentType)||"all",supplier:d||(null==i?void 0:i.supplier)||"all",sort:(null==i?void 0:i.sort)||"",priceFormat:(null==i?void 0:i.priceFormat)||"",saleType:(null==i?void 0:i.saleType)||"cash"}});(0,p.useEffect)(()=>{d&&d!==f.values.supplier&&(f.setFieldValue("supplier",d),t(e=>({...e,supplier:d})))},[d,f,t]),(0,p.useEffect)(()=>{i&&f.setValues(i)},[i]);let y=(e,t)=>{e.stopPropagation(),ue.closeAllDropdowns(),"province"===t?f.setFieldValue("province","mylocation"===f.values.province?"all":"mylocation"):"stockStatus"===t?f.setFieldValue("stockStatus",!f.values.stockStatus):"saleType"===t&&f.setFieldValue("saleType","cash"===f.values.saleType?"credit":"cash")};(0,p.useEffect)(()=>{let e=e=>{e.target.closest(".swiper-slide")||e.target.closest("[data-combobox-dropdown]")||ue.closeAllDropdowns()};return document.addEventListener("click",e),()=>document.removeEventListener("click",e)},[]),(0,p.useEffect)(()=>{},[i]);let{setBrandsContext:j,setCategoryContext:v}=cv(),[C,w]=(0,p.useState)({parent:[],categories:[]}),[k,S]=(0,p.useState)({parent:[],subCategory:[],brands:[]}),{setFilterValues:I}=uu(),{id:D}=(0,g.UO)();if(!m||!Array.isArray(m.colors))return(0,a.jsx)(nS.f,{});let A={width:"fit-content",minWidth:"30px",padding:"2px",height:"35px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},F={...A,minWidth:"60px",justifyContent:"flex-end"},M=Array.isArray(m.sellers)?m.sellers.map(e=>"string"==typeof e?{label:e,value:e}:e):[];return(0,a.jsx)(N.X,{mt:{base:"xs",md:"xs"},id:"fastorder-search",p:u?"sm":"md",style:{overflow:"hidden"},children:(0,a.jsx)("form",{onSubmit:f.onSubmit(e=>{let r={...e};t(r),x(r),ue.closeAllDropdowns()}),children:(0,a.jsxs)(nU.tq,{modules:[n$.Rv],spaceBetween:0,slidesPerView:"auto",freeMode:!0,style:{height:"35px",overflow:"visible"},children:[(0,a.jsx)(nU.o5,{style:F,children:(0,a.jsx)("div",{className:"flex flex-col justify-center h-full",children:(0,a.jsx)(z.z,{type:"submit",size:"sm",leftSection:(0,a.jsx)(sb.IconFilter,{size:18}),children:"اعمال"})})}),(0,a.jsx)(nU.o5,{style:A,children:(0,a.jsx)("div",{className:"flex items-center h-full",children:(0,a.jsx)("div",{style:{flex:1},children:(0,a.jsx)(ut,{placeholder:"ترتیب نمایش",data:[{label:"بهترین قیمت",value:"bestPrice"},{label:"بیشترین موجودی",value:"highestStock"}],value:f.values.sort,onChange:e=>f.setFieldValue("sort",e),dropdownId:"sort"})})})}),(0,a.jsx)(nU.o5,{style:A,children:(0,a.jsx)("div",{className:"flex items-center h-full",children:(0,a.jsx)("div",{style:{flex:1},children:(0,a.jsx)(ut,{placeholder:"واحد",data:[{label:"هزار تومان",value:"hezar"},{label:"میلیون تومان",value:"million"}],value:f.values.priceFormat,onChange:e=>f.setFieldValue("priceFormat",e),dropdownId:"priceFormat"})})})}),(0,a.jsx)(nU.o5,{style:A,children:(0,a.jsx)("div",{className:"flex items-center h-full",children:(0,a.jsx)("div",{style:{flex:1},children:(0,a.jsx)(ur,{placeholder:"رنگ",colors:m.colors||[],value:f.values.color,onChange:e=>f.setFieldValue("color",e),dropdownId:"color"})})})}),(0,a.jsx)(nU.o5,{style:A,children:(0,a.jsx)("div",{className:"flex items-center h-full",children:(0,a.jsx)("div",{style:{flex:1},children:(0,a.jsx)(ut,{placeholder:"ارسال",allLabel:"همه بازه‌های ارسال",data:[{label:"همه",value:"all"},{label:"کمتر از 3 ساعت",value:"3hr"},{label:"کمتر از 1 روز",value:"1d"},{label:"تا 3 روز",value:"3d"},{label:"تا 1 هفته",value:"7d"},{label:"تا 15 روز",value:"15d"}],value:f.values.deliveryTime,onChange:e=>f.setFieldValue("deliveryTime",e),dropdownId:"deliveryTime"})})})}),(0,a.jsx)(nU.o5,{style:A,children:(0,a.jsx)("div",{className:"flex items-center h-full",children:(0,a.jsx)("div",{style:{flex:1},children:(0,a.jsx)(ut,{placeholder:"موجودی",allLabel:"همه موجودی",data:[{label:"همه",value:"all"},{label:"5",value:"5"},{label:"10",value:"10"},{label:"20",value:"20"},{label:"50",value:"50"},{label:"100",value:"100"}],value:f.values.minStock,onChange:e=>f.setFieldValue("minStock",e),dropdownId:"minStock"})})})}),(0,a.jsx)(nU.o5,{style:A,children:(0,a.jsx)("div",{className:"flex items-center h-full",children:(0,a.jsx)("div",{style:{flex:1},children:(0,a.jsx)(ut,{placeholder:"تامین",allLabel:"همه تامین‌کنندگان",data:[{label:"همه",value:"all"},...M],value:c?d:f.values.supplier,onChange:e=>{c||f.setFieldValue("supplier",e)},disabled:c,searchable:!0,dropdownId:"supplier"})})})}),(0,a.jsx)(nU.o5,{style:{...A,cursor:"pointer"},onClick:e=>y(e,"province"),children:(0,a.jsx)("div",{className:"flex items-center h-full",children:(0,a.jsx)(c3.r,{label:"mylocation"===f.values.province?"استان من":"همه استان ها",checked:"mylocation"===f.values.province,readOnly:!0,size:"xs",styles:e=>({root:{pointerEvents:"none"},track:{backgroundColor:"mylocation"===f.values.province?e.colors.blue[8]:e.colors.yellow[5]},thumb:{backgroundColor:e.white}})})})}),(0,a.jsx)(nU.o5,{style:{...A,cursor:"pointer"},onClick:e=>y(e,"stockStatus"),children:(0,a.jsx)("div",{className:"flex items-center h-full",children:(0,a.jsx)(c3.r,{label:f.values.stockStatus?"موجود":"ناموجود",checked:!!f.values.stockStatus,readOnly:!0,size:"xs",styles:e=>({root:{pointerEvents:"none"},track:{backgroundColor:f.values.stockStatus?e.colors.green[6]:e.colors.red[6]},thumb:{backgroundColor:e.white}})})})}),(0,a.jsx)(nU.o5,{style:{...A,cursor:"pointer"},onClick:e=>y(e,"saleType"),children:(0,a.jsx)("div",{className:"flex items-center h-full",children:(0,a.jsx)(c3.r,{label:"cash"===f.values.saleType?"نقدی":"پیش فروش",checked:"cash"===f.values.saleType,readOnly:!0,size:"xs",styles:e=>({root:{pointerEvents:"none"},track:{backgroundColor:"cash"===f.values.saleType?e.colors.grape[6]:e.colors.violet[6]},thumb:{backgroundColor:e.white}})})})})]})})})},ui=e=>{var t,r,i;let{searchType:l,setSearchType:s,filters:n,setFilters:o,setNodes:d,setNodesSubCategories:c}=e,u=(0,m.I0)(),{savedFilters:x,deleteLoadingId:b}=(0,m.v9)(e=>e.getFilterSettings),{saveStatus:f,saveLoading:y,saveError:j}=(0,m.v9)(e=>e.saveFilterSettings),{tableData:v,loading:w}=(0,m.v9)(e=>e.fastOrderCategoryModeData),{user:k}=(0,m.v9)(e=>e.auth),S=(0,sq.a)("(max-width: 480px)"),I=(0,sq.a)("(max-width: 1024px)"),{tableDataFromSavedFilters:D,loadingTableDataFromSavedFilters:A}=(0,m.v9)(e=>e.fastOrderTableDataCategoryModeSavedFilters||{}),{checkedRows:M,selectedRow:T,setSelectedRow:P,toggleCheck:E,isChecked:_,isSelected:L,isCheckedAndSelected:B,clearAll:O}=cW();T||M.size;let[R,W]=(0,p.useState)(!1),[Z,U]=(0,p.useState)(""),[$,q]=(0,p.useState)(null),[K,V]=(0,p.useState)(!1),[H,G]=(0,p.useState)(""),[X,Y]=(0,p.useState)(!1),[J,Q]=(0,p.useState)({parent:[],clickedBrands:[],categories:[]}),[ee,et]=(0,p.useState)({parent:[],clickedCategories:[],subCategory:[],brands:[]}),er="search_filters_category_fast_edit",ea=(0,p.useCallback)(()=>{let e=C.Z.get(er);if(e)try{return JSON.parse(e)}catch(e){}return{searchType:"category",uniqueIDClickedCategories:[],uniqueIDClickedSubCategories:[],uniqueIDClickedSubCategoriesBrands:[],filters:{color:"all",province:"all",stockStatus:"all",minStock:"",deliveryTime:"",paymentType:"",supplier:"",sort:"bestPrice",priceFormat:"hezar"}}},[er]),ei=(0,p.useMemo)(()=>ea(),[ea]),[el,es]=(0,p.useState)(ei.uniqueIDClickedCategories),[en,eo]=(0,p.useState)(ei.uniqueIDClickedSubCategories),[ed,ec]=(0,p.useState)(ei.uniqueIDClickedSubCategoriesBrands),[eu,em]=(0,p.useState)(ei.filters),{setFilterValues:eg}=uu(),{id:ep}=(0,g.UO)(),eh=(0,p.useRef)(null),ex=(0,p.useRef)(!1),eb=(0,sd.c)({initialValues:{inputBox:""},validate:{title:e=>(null==e?void 0:e.trim())?null:"نام الزامی است"}}),ef=(0,p.useCallback)(e=>{q(e.id),G(e.filterName||"بدون نام"),V(!0);let t={searchType:"category",filters:e.filters||{},uniqueIDClickedCategories:e.uniqueIDClickedCategories||[],uniqueIDClickedSubCategories:e.uniqueIDClickedSubCategories||[],uniqueIDClickedSubCategoriesBrands:e.uniqueIDClickedSubCategoriesBrands||[]};C.Z.set(er,JSON.stringify(t),{expires:7}),es(e.uniqueIDClickedCategories||[]),eo(e.uniqueIDClickedSubCategories||[]),ec(e.uniqueIDClickedSubCategoriesBrands||[]),em(e.filters||{}),o&&o(e.filters||{}),s&&s("category"),P(e.id),Y(!1),h.N9.show({title:"حالت ویرایش",message:`\u{641}\u{6CC}\u{644}\u{62A}\u{631} "${e.filterName||"بدون نام"}" \u{628}\u{627}\u{631}\u{6AF}\u{630}\u{627}\u{631}\u{6CC} \u{634}\u{62F}. \u{62A}\u{63A}\u{6CC}\u{6CC}\u{631}\u{627}\u{62A} \u{631}\u{627} \u{627}\u{639}\u{645}\u{627}\u{644} \u{6A9}\u{646}\u{6CC}\u{62F} \u{648} \u{633}\u{67E}\u{633} \u{630}\u{62E}\u{6CC}\u{631}\u{647} \u{6A9}\u{646}\u{6CC}\u{62F}.`,color:"blue",autoClose:4e3})},[er,o,s,P]),ey=(0,p.useCallback)(()=>{let e;if(!$||!H.trim())return;let t="category-fast-order",r=C.Z.get(er);try{e=r?JSON.parse(r):{}}catch(t){e={}}u(ln({slug:t,id:$,filterName:H.trim(),...e})).then(()=>{u(ly(t)),V(!1),q(null),G(""),h.N9.show({title:"ذخیره شد",message:`\u{641}\u{6CC}\u{644}\u{62A}\u{631} "${H.trim()}" \u{628}\u{627} \u{645}\u{648}\u{641}\u{642}\u{6CC}\u{62A} \u{628}\u{647}\u{200C}\u{631}\u{648}\u{632}\u{631}\u{633}\u{627}\u{646}\u{6CC} \u{634}\u{62F}.`,color:"green",autoClose:3e3})})},[$,H,er,u]),ej=(0,p.useCallback)(()=>{V(!1),q(null),G("");let e=ea();es(e.uniqueIDClickedCategories),eo(e.uniqueIDClickedSubCategories),ec(e.uniqueIDClickedSubCategoriesBrands),em(e.filters),o&&o(e.filters),C.Z.set(er,JSON.stringify(e),{expires:7}),P(null),h.N9.show({title:"لغو ویرایش",message:"تغییرات لغو شد و فیلترها به حالت اولیه بازگشتند.",color:"gray",autoClose:2e3})},[ea,o,P,er]),ev=(0,p.useCallback)((e,t)=>{E(e)},[E]),eC=(0,p.useCallback)(()=>{O()},[O]),ew=(0,p.useCallback)(()=>{let e;if(!Z.trim())return;let t="category-fast-order",r=C.Z.get(er);try{e=r?JSON.parse(r):{}}catch(t){e={}}u(la({slug:t,filters:e,filterName:Z.trim()})).then(()=>{u(ly(t)),(null==f?void 0:f.state)==="ok"&&W(!1),U("")})},[Z,er,u,f]),ek=(0,p.useCallback)(e=>{let t="category-fast-order";u(c0({slug:t,id:e})).then(()=>{u(ly(t)),_(e)&&E(e),$===e&&ej()})},[u,_,E,$,ej]),eS=(0,p.useCallback)(()=>{let e={};return"category"===l&&(e.searchType="category",e.parent=ee.parent,e.subCategory=ee.subCategory,e.uniqueIDClickedCategories=el,e.uniqueIDClickedSubCategories=en,e.uniqueIDClickedSubCategoriesBrands=ed),e.filters=eu,ep&&(e.userId=ep),{thisFilter:e,query:sg().stringify(e,{addQueryPrefix:!0,arrayFormat:"comma"})}},[ee,l,eu,el,en,ed,ep]);return(0,p.useEffect)(()=>{let e={searchType:l,filterCategoryStorage:el,filterCategorySubCategoryStorage:en,filterCategorySubCategoryBrandsStorage:ed,checkedRowsSize:M.size,checkedRowIds:Array.from(M).sort().join(",")};c6()(eh.current,e)||(eh.current=e,M.size>0?u(lw({checkedRowIds:Array.from(M),searchType:"category"})):u(rM({searchType:l,uniqueIDClickedCategories:el,uniqueIDClickedSubCategories:en,uniqueIDClickedSubCategoriesBrands:ed})))},[u,l,el,en,ed,M]),(0,p.useEffect)(()=>{k&&!ex.current&&(u(ly("category-fast-order")),ex.current=!0)},[u,k]),(0,p.useEffect)(()=>{C.Z.set(er,JSON.stringify({searchType:l,uniqueIDClickedCategories:el,uniqueIDClickedSubCategories:en,uniqueIDClickedSubCategoriesBrands:ed,filters:eu}),{expires:7})},[l,el,en,ed,eu,er]),(0,p.useEffect)(()=>{let e=C.Z.get(er);if(e)try{let t=JSON.parse(e);es(t.uniqueIDClickedCategories||[]),eo(t.uniqueIDClickedSubCategories||[]),ec(t.uniqueIDClickedSubCategoriesBrands||[]),em(t.filters||{}),o&&o(t.filters||{}),s&&t.searchType&&s(t.searchType)}catch(e){}},[er,o,s]),(0,p.useEffect)(()=>{n&&JSON.stringify(n)!==JSON.stringify(eu)&&em(n)},[n,eu]),(0,p.useEffect)(()=>{v&&(d((null==v?void 0:v.products)||[]),c((null==v?void 0:v.products)||[]),eg((null==v?void 0:v.filters)||{}))},[v,d,c,eg]),(0,p.useEffect)(()=>{D&&(d((null==D?void 0:D.products)||[]),c((null==D?void 0:D.products)||[]),eg((null==D?void 0:D.filters)||{}))},[D,d,c,eg]),(0,p.useEffect)(()=>{M.size>0&&(es([]),eo([]),ec([]),em({...ei.filters}),o&&o({...ei.filters}),s&&s("category"),C.Z.set(er,JSON.stringify(ei),{expires:7}))},[M.size,ei,o,s,er]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(sp.u,{opened:R,onClose:()=>{W(!1),U("")},title:"افزودن فیلتر جدید - دسته بندی",centered:!0,size:S?"sm":"md",padding:S?"sm":"md",children:[(0,a.jsx)(ss.o,{label:"نام فیلتر",placeholder:"نام را وارد کنید",...eb.getInputProps("inputBox"),value:Z,onChange:e=>U(e.currentTarget.value),size:S?"sm":"md",error:(null==f?void 0:f.state)==="error"&&(null==f||null==(t=f.error)?void 0:t.inputBox)||eb.errors.inputBox?(0,a.jsxs)("div",{children:[(null==f?void 0:f.state)==="error"&&(null==f||null==(r=f.error)?void 0:r.inputBox)&&(0,a.jsx)("div",{children:null==f||null==(i=f.error)?void 0:i.inputBox}),eb.errors.inputBox&&(0,a.jsx)("div",{children:eb.errors.inputBox})]}):null}),(0,a.jsx)(z.z,{mt:"md",onClick:ew,disabled:!Z.trim(),size:S?"sm":"md",fullWidth:S,children:"ذخیره"})]}),(0,a.jsxs)(N.X,{mt:{base:"xs",md:"xs"},id:"fastorder-search",p:S?"sm":"md",style:{overflow:"hidden"},children:[(0,a.jsxs)(l9.k,{direction:S?"column":"row",justify:S?"flex-start":"space-between",align:S?"stretch":"center",gap:S?"":"md",mb:I?"sm":"",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(nq,{children:"سفارش سریع"}),K&&(0,a.jsxs)(sh.Z,{gap:"xs",mt:"xs",children:[(0,a.jsxs)(sx.C,{color:"blue",variant:"light",size:"sm",children:["حالت ویرایش: ",H]}),(0,a.jsxs)(sh.Z,{gap:"xs",children:[(0,a.jsx)(sB.A,{variant:"filled",color:"green",size:"sm",onClick:ey,title:"ذخیره تغییرات",children:(0,a.jsx)(sb.IconDeviceFloppy,{size:14})}),(0,a.jsx)(sB.A,{variant:"subtle",color:"gray",size:"sm",onClick:ej,title:"لغو ویرایش",children:(0,a.jsx)(sb.IconTrash,{size:14})})]})]})]}),(0,a.jsxs)(l9.k,{direction:S?"column":"row",gap:S?"xs":"sm",align:S?"stretch":"center",children:[k&&(0,a.jsxs)(s_.v,{shadow:"md",width:S?"90vw":I?350:400,position:S?"bottom":"bottom-end",offset:S?5:10,opened:X,onChange:Y,children:[(0,a.jsx)(s_.v.Target,{children:(0,a.jsxs)(z.z,{variant:"light",leftSection:!S&&(0,a.jsx)(sb.IconFilter,{size:16}),size:S?"sm":"md",fullWidth:S,compact:S,styles:{root:{height:S?"32px":"36px",fontSize:S?"11px":"13px"}},children:["تنظیمات جستجو",M.size>0&&` (${M.size})`]})}),(0,a.jsxs)(s_.v.Dropdown,{children:[(0,a.jsx)(s_.v.Label,{children:"فیلترهای ذخیره شده"}),(0,a.jsx)(s_.v.Item,{leftSection:(0,a.jsx)(sb.IconPlus,{size:16}),onClick:()=>W(!0),children:"افزودن فیلتر جدید"}),x&&x.length>0&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s_.v.Divider,{}),M.size>0&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(sh.Z,{p:"xs",gap:"xs",justify:S?"center":"flex-start",children:(0,a.jsx)(z.z,{size:"xs",variant:"subtle",color:"gray",onClick:eC,fullWidth:S,disabled:K,style:{opacity:K?.5:1},children:"پاک کردن انتخاب"})}),(0,a.jsx)(s_.v.Divider,{})]}),(0,a.jsx)(sa.x,{style:{maxHeight:S?"250px":"300px",overflowY:"auto",overflowX:"hidden"},children:x.map((e,t)=>(0,a.jsxs)(p.Fragment,{children:[(0,a.jsx)(s_.v.Item,{children:(0,a.jsxs)(sh.Z,{justify:"space-between",w:"100%",wrap:"nowrap",children:[(0,a.jsxs)(sh.Z,{gap:"xs",flex:1,maw:"calc(100% - 60px)",children:[(0,a.jsx)(F.X,{checked:_(e.id),onChange:t=>{K||ev(e.id,t.currentTarget.checked)},onClick:e=>e.stopPropagation(),size:S?"sm":"md",disabled:K,style:{opacity:K?.5:1,cursor:K?"not-allowed":"pointer"}}),(0,a.jsx)(se.x,{size:S?"xs":"sm",fw:$===e.id?600:500,c:$===e.id?"blue":void 0,style:{cursor:"pointer",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",flex:1,opacity:K&&$!==e.id?.6:1},onClick:t=>{if(t.stopPropagation(),K&&$!==e.id)return void h.N9.show({title:"در حال ویرایش",message:"ابتدا ویرایش فعلی را تمام کنید یا لغو کنید.",color:"orange",autoClose:3e3});let r={searchType:"category",uniqueIDClickedCategories:e.uniqueIDClickedCategories||[],uniqueIDClickedSubCategories:e.uniqueIDClickedSubCategories||[],uniqueIDClickedSubCategoriesBrands:e.uniqueIDClickedSubCategoriesBrands||[],filters:e.filters||{}};C.Z.set(er,JSON.stringify(r),{expires:7}),es(e.uniqueIDClickedCategories||[]),eo(e.uniqueIDClickedSubCategories||[]),ec(e.uniqueIDClickedSubCategoriesBrands||[]),em(e.filters||{}),o&&o(e.filters||{}),s&&s("category"),P(e.id)},title:e.filterName||"بدون نام",children:e.filterName||"بدون نام"})]}),(0,a.jsxs)(sh.Z,{gap:"xs",style:{flexShrink:0},children:[(0,a.jsx)(sB.A,{variant:"subtle",color:"blue",size:S?"sm":"md",onClick:t=>{t.stopPropagation(),ef(e)},title:"ویرایش",disabled:K&&$!==e.id,children:(0,a.jsx)(sb.IconEdit,{size:S?12:14})}),(0,a.jsx)(sB.A,{variant:"subtle",color:"red",size:S?"sm":"md",onClick:t=>{if(t.stopPropagation(),K&&$!==e.id)return void h.N9.show({title:"در حال ویرایش",message:"ابتدا ویرایش فعلی را تمام کنید یا لغو کنید.",color:"orange",autoClose:3e3});ek(e.id)},disabled:b===e.id||K&&$!==e.id,title:"حذف",children:(0,a.jsx)(sb.IconTrash,{size:S?12:14})})]})]})}),t<x.length-1&&(0,a.jsx)(s_.v.Divider,{})]},e.id))})]}),(!x||0===x.length)&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s_.v.Divider,{}),(0,a.jsx)(s_.v.Item,{disabled:!0,children:(0,a.jsx)(se.x,{size:S?"xs":"sm",c:"dimmed",ta:"center",children:"فیلتری ذخیره نشده است"})})]})]})]}),(0,a.jsx)(cQ,{filters:eS().thisFilter,isMobile:S})]})]}),(0,a.jsx)(nS.f,{pos:"fixed",visible:w,zIndex:1e3,h:"100%"}),(0,a.jsxs)(s1.m,{styles:{panel:{marginTop:S?"15px":"20px"},list:{overflowX:"auto",flexWrap:"nowrap",justifyContent:"center",display:"flex",width:"100%"},tab:{fontSize:S?"12px":"14px",padding:S?"8px 12px":"10px 16px",whiteSpace:"nowrap",flex:"1 1 50%",textAlign:"center"}},variant:"pills",defaultValue:"brand",value:l,onChange:s,orientation:"horizontal",children:[(0,a.jsxs)(s1.m.List,{grow:!1,children:[(0,a.jsx)(s1.m.Tab,{value:"brand",children:S?"برند":"جستجو بر اساس برند"}),(0,a.jsx)(s1.m.Tab,{value:"category",children:S?"دسته‌بندی":"جستجو بر اساس دسته بندی"})]}),(0,a.jsx)(s1.m.Panel,{value:"category",children:!w&&"category"===l&&v&&(0,a.jsx)(cY,{tab:ee,items:null==v?void 0:v.category,searchType:l,click:et,filterCategoryStorage:el,setFilterCategoryStorage:es,filterCategorySubCategoryStorage:en,setFilterCategorySubCategoryStorage:eo,filterCategorySubCategoryBrandsStorage:ed,setFilterCategorySubCategoryBrandsStorage:ec,isMobile:S,isTablet:I})})]})]})]})},ul=(0,p.createContext)(),us=e=>{let{children:t}=e,[r,i]=(0,p.useState)(new Set),[l,s]=(0,p.useState)(null);return(0,a.jsx)(ul.Provider,{value:{checkedRows:r,selectedRow:l,setSelectedRow:s,toggleCheck:e=>{i(t=>{let r=new Set(t);return r.has(e)?r.delete(e):r.add(e),r})},isChecked:e=>r.has(e),isSelected:e=>l===e,isCheckedAndSelected:e=>r.has(e)&&l===e,clearAll:()=>{i(new Set),s(null)}},children:t})};var un=r(70361);function uo(e,t,r){let a=new Date;a.setTime(a.getTime()+1e3*r),document.cookie=`${e}=${t};expires=${a.toUTCString()};path=/`}let ud=function(e){let{isPortrait:t}=e,[r,i]=(0,p.useState)(!1);return((0,p.useEffect)(()=>{if(t){let e=function(e){let t=e+"=",r=document.cookie.split(";");for(let e=0;e<r.length;e++){let a=r[e];for(;" "===a.charAt(0);)a=a.substring(1,a.length);if(0===a.indexOf(t))return a.substring(t.length,a.length)}return null}("rotateModalLastShown"),t=new Date().getTime();(!e||t-parseInt(e)>=1e4)&&(i(!0),uo("rotateModalLastShown",t.toString(),86400))}else i(!1)},[t]),r)?(0,a.jsx)("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",backgroundColor:"rgba(0,0,0,0.4)",backdropFilter:"blur(5px)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:9999},children:(0,a.jsxs)("div",{style:{background:"white",padding:"20px 30px",borderRadius:"12px",position:"relative",textAlign:"center",maxWidth:"90%"},children:[(0,a.jsx)(z.z,{variant:"subtle",color:"red",style:{position:"absolute",top:8,right:8},onClick:()=>{i(!1),uo("rotateModalLastShown",new Date().getTime().toString(),86400)},children:(0,a.jsx)(un.aHS,{})}),(0,a.jsx)(un.WLu,{size:30,color:"red",style:{marginBottom:"10px"}}),(0,a.jsx)(se.x,{style:{fontSize:"14px"},children:"برای تجربه بهتر لطفا از حالت صفحه نمایش افقی استفاده کنید"})]})}):null},uc=(0,p.createContext)(),uu=()=>(0,p.useContext)(uc),um=e=>{let{width:t=60,height:r=60,borderRadius:i="4px"}=e;return(0,a.jsx)("div",{style:{width:`${t}px`,height:`${r}px`,borderRadius:i,backgroundColor:"#f8f9fa",border:"2px dashed #dee2e6",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:(0,a.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",stroke:"#6c757d",strokeWidth:"2",fill:"none"}),(0,a.jsx)("circle",{cx:"8.5",cy:"8.5",r:"1.5",fill:"#6c757d"}),(0,a.jsx)("path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",stroke:"#6c757d",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})})},ug=e=>{let{src:t,alt:r,width:i=60,height:l=60,borderRadius:s="4px",style:n={}}=e,[o,d]=(0,p.useState)(!1),[c,u]=(0,p.useState)(!0),m=(0,p.useCallback)(e=>!(!e||"string"!=typeof e||""===e.trim()||'""'===e||"''"===e||Array.isArray(e)&&(0===e.length||""===e[0])),[]),g=(0,p.useCallback)(()=>{d(!0),u(!1)},[]),h=(0,p.useCallback)(()=>{u(!1)},[]);return!m(t)||o?(0,a.jsx)(um,{width:i,height:l,borderRadius:s}):(0,a.jsxs)("div",{style:{position:"relative",width:`${i}px`,height:`${l}px`},children:[c&&(0,a.jsx)("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"#f8f9fa",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:s,border:"1px solid #dee2e6",zIndex:1},children:(0,a.jsx)("div",{style:{width:"16px",height:"16px",border:"2px solid #dee2e6",borderTop:"2px solid #6c757d",borderRadius:"50%",animation:"spin 1s linear infinite"}})}),(0,a.jsx)("img",{src:t,alt:r,onError:g,onLoad:h,style:{width:`${i}px`,height:`${l}px`,objectFit:"cover",borderRadius:s,display:c?"none":"block",...n}})]})},up=e=>{let{paymentData:t,gateway:r,orderTracking:i,paymentStatus:l,source:s}=e,n=(0,g.s0)(),o=(0,m.I0)(),d=(0,g.TH)(),{orderfinalreceipt:c,loadingfinalreceipt:u,errorfinalreceipt:h}=(0,m.v9)(e=>e.cartfinalreceipt),{paymentLink:x,loading:b,error:f}=(0,m.v9)(e=>e.getPaymentLink),[y,j]=(0,p.useState)(5),v=(0,p.useMemo)(()=>d.state||{},[d.state]),C=s||"",w=(0,p.useMemo)(()=>{var e,t,r,a,i,s,n;return l?JSON.stringify({orderId:null==(e=l.order)?void 0:e.order_id,totalPrice:null==(t=l.order)?void 0:t.totalPriceToPay,sellerId:null==(s=l.order)||null==(i=s.sellers)||null==(a=i[0])||null==(r=a.seller)?void 0:r.id,itemsCount:null==(n=l.orderItems)?void 0:n.length}):""},[l]),k=(0,p.useMemo)(()=>{var e,r;return t?JSON.stringify({sellerId:null==(e=t.seller)?void 0:e.id,price:t.priceApplyEachSeller,itemsCount:null==(r=t.items)?void 0:r.length,orderIds:t.orderIds,orderItemIds:t.orderItemIds}):""},[t]),S=(0,p.useCallback)(e=>{if(!e)return"نامشخص";if("string"==typeof e)return"melli"===e?"بانک ملی":e;if("object"==typeof e){for(let t of[e.name,e.paymentMethod,e.method,e.type,e.gateway])if("string"==typeof t&&t.length>0)return"melli"===t?"بانک ملی":t;if(e.paymentMethod&&"object"==typeof e.paymentMethod)return S(e.paymentMethod)}return"نامشخص"},[]),I=(0,p.useMemo)(()=>{if("checkstatus"===C&&l){var e,r,a,i,s,n,o,d,c,u,m,g,p;let t=((null==(r=l.order)||null==(e=r.sellers)?void 0:e[0])||{}).seller||{},h=(null==(a=l.order)?void 0:a.totalPriceToPay)||0,x=(null==(i=l.orderItems)?void 0:i.map(e=>{var t,r;return{item:(null==(r=e.product_id)||null==(t=r[0])?void 0:t.productDetails)||{},quantity:e.quantity||1,orderItemId:e.id,orderId:e.order_id}}))||[];return{seller:t,priceApplyEachSeller:h,items:x,vatRequested:(null==(n=l.orderItems)||null==(s=n[0])?void 0:s.vatRequested)||!1,paymentMethod:(null==(d=l.orderItems)||null==(o=d[0])?void 0:o.paymentMethod)||{},orderId:null==(c=l.order)?void 0:c.order_id,orderItemId:null==(m=l.orderItems)||null==(u=m[0])?void 0:u.id,orderIds:[null==(g=l.order)?void 0:g.order_id].filter(Boolean),orderItemIds:(null==(p=l.orderItems)?void 0:p.map(e=>e.id).filter(Boolean))||[],sellerId:t.id,totalAmount:h,sellerName:t.label||"نامشخص"}}if(t){let e=t.seller||{},r=t.priceApplyEachSeller||0,a=t.items||[],i=t.vatRequested||!1,l=t.paymentMethod||{},s=t.orderIds||[v.orderId,v.order_id].filter(Boolean)||a.map(e=>{var t;return e.orderId||(null==(t=e.item)?void 0:t.orderId)}).filter(Boolean)||[],n=t.orderItemIds||[v.orderItemId,v.order_item_id].filter(Boolean)||a.map(e=>{var t;return e.orderItemId||(null==(t=e.item)?void 0:t.orderItemId)}).filter(Boolean)||[];return{seller:e,priceApplyEachSeller:r,items:a,vatRequested:i,paymentMethod:l,orderId:s[0],orderItemId:n[0],orderIds:s,orderItemIds:n,sellerId:v.sellerId||e.id,totalAmount:r,sellerName:e.label||"نامشخص"}}return null},[C,w,k,v]);if(!I)return(0,a.jsxs)("div",{style:{padding:"20px",background:"#f8f9fa",border:"1px solid #dee2e6",borderRadius:"8px"},children:[(0,a.jsx)("h3",{children:"Loading Payment Information..."}),(0,a.jsxs)("div",{style:{fontSize:"14px",color:"#666",marginTop:"10px"},children:[(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Source:"})," ",C||"undefined"]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Has PaymentData:"})," ",t?"Yes":"No"]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Has PaymentStatus:"})," ",l?"Yes":"No"]}),!1]})]});let{seller:F,priceApplyEachSeller:M,items:T,vatRequested:P,paymentMethod:E,orderId:_,orderItemId:L,orderIds:B,orderItemIds:O,sellerId:R,totalAmount:W,sellerName:Z}=I,U=(0,p.useCallback)(e=>{if(!e||!Array.isArray(e)||0===e.length)return null;let t={material:"جنس",جنس:"جنس",color:"رنگ",رنگ:"رنگ",size:"سایز",سایز:"سایز"},r=[];return e.forEach(e=>{Object.entries(e).forEach(e=>{let[a,i]=e;if(null!=i&&""!==i){let e=t[a]||a;r.push({key:a,label:e,value:i,isColor:"color"===a||"رنگ"===a})}})}),(0,a.jsx)(se.x,{size:"xs",c:"gray",mt:"xs",children:r.map((e,t)=>(0,a.jsxs)("span",{children:[e.label,":"," ",e.isColor?(0,a.jsx)("span",{style:{color:e.value},children:"⬤"}):e.value,t<r.length-1&&" | "]},e.key))})},[]);(0,p.useEffect)(()=>{o(en())},[o]);let $=(0,p.useMemo)(()=>({seller:F,priceApplyEachSeller:M,items:T,vatRequested:P,paymentMethod:E,orderId:_,orderItemId:L,orderIds:B,orderItemIds:O,amount:M}),[F,M,T,P,E,_,L,B,O]);(0,p.useEffect)(()=>{c&&(_||B&&B.length>0)&&o(eM({paymentRequestData:{paymentData:$,orderTracking:(null==i?void 0:i[0])||null}}))},[c,o,$,i,_,L,B,O]),(0,p.useEffect)(()=>{if(null==x?void 0:x.link_url){let e=setInterval(()=>{j(t=>{if(1===t)if(clearInterval(e),x.link_url.includes("fake-gateway")||"fake"===r){let e=new URLSearchParams;try{let t=JSON.parse(x.body||"{}");Object.keys(t).forEach(r=>{e.append(r,t[r])})}catch(t){e.append("order_id",_||""),e.append("order_item_id",L||""),e.append("amount_to_pay",W||0),e.append("user_id",v.user_id||""),e.append("sellerId",R||"")}n(`/fake-gateway?${e.toString()}`,{state:{...x.body?JSON.parse(x.body):{},...$,order_id:_,order_item_id:L,amount_to_pay:W,user_id:v.user_id,sellerId:R,paymentMethod:S(E),totalItems:T.length}})}else try{let e=document.createElement("form");if(e.method="POST",e.action=x.link_url,e.style.display="none",e.target="_self",x.body){let t=JSON.parse(x.body);Object.keys(t).forEach(r=>{let a=document.createElement("input");a.type="hidden",a.name=r,a.value=t[r],e.appendChild(a)})}document.body.appendChild(e),e.submit(),setTimeout(()=>{document.body.contains(e)&&document.body.removeChild(e)},1e3)}catch(e){console.error("Error submitting payment form:",e),window.location.href=x.link_url}return t-1})},1e3);return()=>clearInterval(e)}},[x,n,$,W,R,E,T.length,r,_,L,v.user_id,S]);let q=(0,p.useCallback)(()=>{(null==x?void 0:x.link_url)&&(x.link_url.includes("fake-gateway")||"fake"===r?n("/fake-gateway",{state:{...$,order_id:_,order_item_id:L,amount_to_pay:W,user_id:v.user_id,sellerId:R,paymentMethod:S(E),totalItems:T.length}}):window.location.href=x.link_url)},[null==x?void 0:x.link_url,r,n,$,_,L,W,v.user_id,R,E,T.length,S]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("style",{jsx:!0,children:`
        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
      `}),(0,a.jsx)(sN.r,{mt:"md",gutter:"lg",children:(0,a.jsx)(sD.$,{span:12,children:(0,a.jsxs)(N.X,{p:"md",shadow:"xs",fullWidth:!0,children:[(0,a.jsxs)(sw.K,{mb:"lg",children:[(0,a.jsx)(D.D,{fw:"600",c:"gray.8",order:2,children:"در حال انتقال به درگاه پرداخت ..."}),(0,a.jsxs)(l9.k,{align:"center",gap:"md",children:[(0,a.jsxs)(se.x,{size:"lg",c:"blue",fw:"500",children:["فروشنده: ",Z]}),P&&(0,a.jsx)(se.x,{size:"sm",c:"green",bg:"green.0",px:"sm",py:"xs",style:{borderRadius:"4px",fontSize:"11px"},children:"فاکتور درخواست شده"})]})]}),(0,a.jsx)(sH.i,{my:"md"}),(0,a.jsxs)(sw.K,{mb:"lg",children:[(0,a.jsx)(D.D,{order:4,c:"gray.7",mb:"md",children:"محصولات این فروشنده:"}),T.map((e,t)=>{var r,i;let{item:l}=e;return(0,a.jsx)(N.X,{p:"sm",bg:"gray.0",radius:"sm",children:(0,a.jsxs)(l9.k,{gap:"md",align:"flex-start",children:[(0,a.jsx)(ug,{src:l.image,alt:l.name||l.title||"محصول",width:60,height:60,borderRadius:"4px"}),(0,a.jsxs)(sw.K,{gap:"xs",style:{flex:1},children:[(0,a.jsx)(se.x,{size:"sm",fw:"500",lineClamp:2,children:l.name||l.title||"محصول نامشخص"}),U(l.attributes),(0,a.jsxs)(l9.k,{justify:"space-between",align:"center",children:[(0,a.jsxs)(se.x,{size:"xs",c:"gray",children:["تعداد: ",e.quantity||l.count||1]}),(0,a.jsx)(se.x,{size:"sm",fw:"600",c:"dark",children:(null==(r=l.priceWithVat)?void 0:r.discountedPriceWithVat)?`${Number(l.priceWithVat.discountedPriceWithVat).toLocaleString()} \u{62A}\u{648}\u{645}\u{627}\u{646}`:(null==(i=l.priceWithVat)?void 0:i.regularPriceWithVat)?`${Number(l.priceWithVat.regularPriceWithVat).toLocaleString()} \u{62A}\u{648}\u{645}\u{627}\u{646}`:"قیمت نامشخص"})]})]})]})},t)})]}),(0,a.jsx)(sH.i,{my:"md"}),(0,a.jsx)(N.X,{py:"xl",px:"md",bg:"blue.0",radius:"sm",mb:"lg",children:(0,a.jsxs)(sw.K,{gap:"md",children:[(0,a.jsxs)(l9.k,{direction:"row",justify:"space-between",align:"center",children:[(0,a.jsx)(se.x,{size:"lg",c:"gray.8",fw:"500",children:"مبلغ قابل پرداخت:"}),(0,a.jsxs)(se.x,{size:"xl",fw:"700",c:"blue.8",children:[Number(W||0).toLocaleString()," تومان"]})]}),(0,a.jsxs)(l9.k,{direction:"row",justify:"space-between",align:"center",children:[(0,a.jsx)(se.x,{size:"sm",c:"gray.6",children:"روش پرداخت:"}),(0,a.jsx)(se.x,{size:"sm",c:"gray.8",fw:"500",children:S(E)})]}),(0,a.jsxs)(l9.k,{direction:"row",justify:"space-between",align:"center",children:[(0,a.jsx)(se.x,{size:"sm",c:"gray.6",children:"تعداد محصولات:"}),(0,a.jsxs)(se.x,{size:"sm",c:"gray.8",children:[T.length," محصول"]})]})]})}),(null==x?void 0:x.link_url)&&(0,a.jsxs)(N.X,{p:"lg",bg:"orange.0",radius:"sm",ta:"center",mb:"md",children:[(0,a.jsxs)(se.x,{size:"lg",fw:"500",c:"orange.8",mb:"sm",children:["انتقال به درگاه پرداخت در ",y," ثانیه"]}),(0,a.jsx)(se.x,{size:"sm",c:"gray.6",children:"لطفاً صبر کنید تا به درگاه پرداخت منتقل شوید"})]}),(null==x?void 0:x.link_url)&&(0,a.jsx)(si.M,{mb:"md",children:(0,a.jsx)(z.z,{onClick:q,variant:"outline",size:"sm",children:"انتقال فوری به درگاه پرداخت"})}),b&&(0,a.jsx)(si.M,{mt:"lg",children:(0,a.jsxs)(sw.K,{align:"center",gap:"sm",children:[(0,a.jsx)(A.a,{size:"md"}),(0,a.jsx)(se.x,{size:"sm",c:"gray",children:"در حال آماده‌سازی درگاه پرداخت..."})]})}),f&&(0,a.jsx)(N.X,{p:"md",bg:"red.0",mt:"lg",children:(0,a.jsxs)(se.x,{c:"red.8",size:"sm",ta:"center",fw:"500",children:["خطا در دریافت لینک پرداخت: ",f]})}),!(null==x?void 0:x.link_url)&&!b&&!f&&c&&(0,a.jsx)(N.X,{p:"md",bg:"yellow.0",mt:"lg",children:(0,a.jsx)(se.x,{c:"yellow.8",size:"sm",ta:"center",fw:"500",children:"در حال بررسی اطلاعات پرداخت..."})})]})})})]})},uh=()=>{var e;let t=(0,m.I0)(),r=(0,g.s0)(),{orderfinalreceipt:i,loadingfinalreceipt:l,errorfinalreceipt:s}=(0,m.v9)(e=>e.cartfinalreceipt);return((0,p.useEffect)(()=>{t(fetchFinalReceipt())},[t]),i)?"cod"!==i.paymentMethod.paymentMethod||(null==i?void 0:i.isPaid)!=!1?null:(0,a.jsxs)(sN.r,{mt:"md",gutter:"lg",children:[(null==i||null==(e=i.sellers)?void 0:e.length)>0?i.sellers.map(e=>(0,a.jsx)(sD.$,{span:12,children:(0,a.jsxs)(N.X,{p:"md",shadow:"xs",fullWidth:!0,children:[(0,a.jsx)(sH.i,{my:"sm"}),(0,a.jsx)(sw.K,{children:"سفارش شما با موفقیت ثبت شد، برای کسب اطلاعات بیشتر و پیگیری سفارش می‌توانید به بخش سفارشات در پنل کاربری خود مراجعه کنید."})]})},e.seller.id)):(0,a.jsx)(se.x,{children:"هیچ آیتمی موجود نیست"}),(0,a.jsx)(sD.$,{span:12,children:(0,a.jsx)(z.z,{fullWidth:!0,mt:"lg",onClick:()=>r("/account/orders"),children:"مشاهده سفارشات"})})]}):(0,a.jsx)(A.a,{})},ux=[{id:123,title:"گوشی موبایل اپل مدل پرومکس دو سیم‌ کارت نات اکتیو سیزده",slug:"brand0-category0-subCategory1-item0i0000",regularPrice:21e6,image:"https://dkstatics-public.digikala.com/digikala-products/c0e079b958167bd0fdef1f0e12440e7fed29b1bd_1727853611.jpg?x-oss-process=image/resize,m_lfit,h_800,w_800/format,webp/quality,q_90"},{id:124,title:"گوشی موبایل سامسونگ مدل گلکسی A54 دو سیم‌ کارت",slug:"brand1-category0-subCategory1-item0is0001",regularPrice:15e6,discountedPrice:105e5,discountPercent:"30",image:"https://dkstatics-public.digikala.com/digikala-products/ddeaf714d818733ba1d7077a3682aa8ffebde268_1727162245.jpg?x-oss-process=image/resize,m_lfit,h_800,w_800/format,webp/quality,q_90"},{id:125,title:"ساعت هوشمند اپل سری 8 مدل GPS",slug:"brand0-category1-subCategory2-item0i0002",regularPrice:2e7,discountedPrice:18e6,discountPercent:"10",image:"https://dkstatics-public.digikala.com/digikala-products/b0af2ec78668c85506c1edc260b42ff447f019c8_1667201885.jpg?x-oss-process=image/resize,m_lfit,h_800,w_800/format,webp/quality,q_90"},{id:126,title:"تلویزیون هوشمند ال جی مدل OLED55C1GI",slug:"brand6-category2-subCategory1-item0lg0003",regularPrice:4e7,discountedPrice:36e6,discountPercent:"10",image:"https://dkstatics-public.digikala.com/digikala-products/3cca1d5f59bfe07ba8d27a8c8c60ef1956ff2291_1734332212.jpg?x-oss-process=image/resize,m_lfit,h_800,w_800/format,webp/quality,q_90"},{id:127,title:"لپ تاپ ایسوس مدل TUF Dash F15",slug:"brand4-category1-subCategory0-item0as0005",regularPrice:5e7,discountedPrice:45e6,discountPercent:"10",image:"https://dkstatics-public.digikala.com/digikala-products/2abc557175aac1753bfbe11bed27ebb55ab4633a_1724603081.jpg?x-oss-process=image/resize,m_lfit,h_800,w_800/format,webp/quality,q_90"},{id:128,title:"هدفون بی سیم بیتس مدل Studio 3 – The Beats Skyline Collection",slug:"brand5-category1-subCategory1-item0b0004",regularPrice:8e6,discountedPrice:64e5,discountPercent:"20",image:"https://dkstatics-public.digikala.com/digikala-products/4528651.jpg?x-oss-process=image/resize,m_lfit,h_800,w_800/format,webp/quality,q_90"}],ub={totalPages:20,price:{min:0,max:15e6},products:ux,filters:[{title:"برندها",key:"brands",options:[{label:"اپل",value:"apple"},{label:"سامسونگ",value:"samsung"},{label:"ایسوس",value:"asus"},{label:"بیتس",value:"beats"},{label:"ال جی",value:"lg"}]},{title:"رنگ‌ها",key:"colors",options:[{label:"قرمز",value:"red"},{label:"آبی",value:"blue"},{label:"سبز",value:"green"},{label:"مشکی",value:"black"},{label:"سفید",value:"white"}]},{title:"محدوده ارسال",key:"delivery_areas",options:[{label:"تهران",value:"tehran"},{label:"کرج",value:"karaj"},{label:"فارس",value:"fars"},{label:"شیراز",value:"shiraz"}]}]},uf=[[{image:"https://dkstatics-public.digikala.com/digikala-products/c0e079b958167bd0fdef1f0e12440e7fed29b1bd_1727853611.jpg?x-oss-process=image/resize,m_lfit,h_800,w_800/format,webp/quality,q_90",url:"123",title:"گوشی موبایل اپل مدل پرومکس دو سیم‌ کارت نات اکتیو سیزده"},{image:"https://dkstatics-public.digikala.com/digikala-products/ddeaf714d818733ba1d7077a3682aa8ffebde268_1727162245.jpg?x-oss-process=image/resize,m_lfit,h_800,w_800/format,webp/quality,q_90",url:"345",title:"گوشی موبایل سامسونگ مدل گلکسی A54 دو سیم‌ کارت"},{image:"https://dkstatics-public.digikala.com/digikala-products/b0af2ec78668c85506c1edc260b42ff447f019c8_1667201885.jpg?x-oss-process=image/resize,m_lfit,h_800,w_800/format,webp/quality,q_90",url:"678",title:"ساعت هوشمند اپل سری 8 مدل GPS"}],[{image:"https://dkstatics-public.digikala.com/digikala-products/c0e079b958167bd0fdef1f0e12440e7fed29b1bd_1727853611.jpg?x-oss-process=image/resize,m_lfit,h_800,w_800/format,webp/quality,q_90",url:"123",title:"گوشی موبایل اپل مدل پرومکس دو سیم‌ کارت نات اکتیو سیزده"},{image:"https://dkstatics-public.digikala.com/digikala-products/ddeaf714d818733ba1d7077a3682aa8ffebde268_1727162245.jpg?x-oss-process=image/resize,m_lfit,h_800,w_800/format,webp/quality,q_90",url:"345",title:"گوشی موبایل سامسونگ مدل گلکسی A54 دو سیم‌ کارت"},{image:"https://dkstatics-public.digikala.com/digikala-products/b0af2ec78668c85506c1edc260b42ff447f019c8_1667201885.jpg?x-oss-process=image/resize,m_lfit,h_800,w_800/format,webp/quality,q_90",url:"678",title:"ساعت هوشمند اپل سری 8 مدل GPS"}],[{image:"https://dkstatics-public.digikala.com/digikala-products/c0e079b958167bd0fdef1f0e12440e7fed29b1bd_1727853611.jpg?x-oss-process=image/resize,m_lfit,h_800,w_800/format,webp/quality,q_90",url:"123",title:"گوشی موبایل اپل مدل پرومکس دو سیم‌ کارت نات اکتیو سیزده"},{image:"https://dkstatics-public.digikala.com/digikala-products/ddeaf714d818733ba1d7077a3682aa8ffebde268_1727162245.jpg?x-oss-process=image/resize,m_lfit,h_800,w_800/format,webp/quality,q_90",url:"345",title:"گوشی موبایل سامسونگ مدل گلکسی A54 دو سیم‌ کارت"},{image:"https://dkstatics-public.digikala.com/digikala-products/b0af2ec78668c85506c1edc260b42ff447f019c8_1667201885.jpg?x-oss-process=image/resize,m_lfit,h_800,w_800/format,webp/quality,q_90",url:"678",title:"ساعت هوشمند اپل سری 8 مدل GPS"}]],uy=[{title:"گوشی موبایل",url:"mobile",children:[{image:"https://dkstatics-public.digikala.com/digikala-products/c0e079b958167bd0fdef1f0e12440e7fed29b1bd_1727853611.jpg?x-oss-process=image/resize,m_lfit,h_800,w_800/format,webp/quality,q_90",url:"123"},{image:"https://dkstatics-public.digikala.com/digikala-products/ddeaf714d818733ba1d7077a3682aa8ffebde268_1727162245.jpg?x-oss-process=image/resize,m_lfit,h_800,w_800/format,webp/quality,q_90",url:"123"},{image:"https://dkstatics-public.digikala.com/digikala-products/b0af2ec78668c85506c1edc260b42ff447f019c8_1667201885.jpg?x-oss-process=image/resize,m_lfit,h_800,w_800/format,webp/quality,q_90",url:"123"},{image:"https://dkstatics-public.digikala.com/digikala-products/c0e079b958167bd0fdef1f0e12440e7fed29b1bd_1727853611.jpg?x-oss-process=image/resize,m_lfit,h_800,w_800/format,webp/quality,q_90",url:"123"}]},{title:"گوشی موبایل",url:"mobile",children:[{image:"https://dkstatics-public.digikala.com/digikala-products/c0e079b958167bd0fdef1f0e12440e7fed29b1bd_1727853611.jpg?x-oss-process=image/resize,m_lfit,h_800,w_800/format,webp/quality,q_90",url:"123"},{image:"https://dkstatics-public.digikala.com/digikala-products/ddeaf714d818733ba1d7077a3682aa8ffebde268_1727162245.jpg?x-oss-process=image/resize,m_lfit,h_800,w_800/format,webp/quality,q_90",url:"123"},{image:"https://dkstatics-public.digikala.com/digikala-products/b0af2ec78668c85506c1edc260b42ff447f019c8_1667201885.jpg?x-oss-process=image/resize,m_lfit,h_800,w_800/format,webp/quality,q_90",url:"123"},{image:"https://dkstatics-public.digikala.com/digikala-products/c0e079b958167bd0fdef1f0e12440e7fed29b1bd_1727853611.jpg?x-oss-process=image/resize,m_lfit,h_800,w_800/format,webp/quality,q_90",url:"123"}]},{title:"گوشی موبایل",url:"mobile",children:[{image:"https://dkstatics-public.digikala.com/digikala-products/c0e079b958167bd0fdef1f0e12440e7fed29b1bd_1727853611.jpg?x-oss-process=image/resize,m_lfit,h_800,w_800/format,webp/quality,q_90",url:"123"},{image:"https://dkstatics-public.digikala.com/digikala-products/ddeaf714d818733ba1d7077a3682aa8ffebde268_1727162245.jpg?x-oss-process=image/resize,m_lfit,h_800,w_800/format,webp/quality,q_90",url:"123"},{image:"https://dkstatics-public.digikala.com/digikala-products/b0af2ec78668c85506c1edc260b42ff447f019c8_1667201885.jpg?x-oss-process=image/resize,m_lfit,h_800,w_800/format,webp/quality,q_90",url:"123"},{image:"https://dkstatics-public.digikala.com/digikala-products/c0e079b958167bd0fdef1f0e12440e7fed29b1bd_1727853611.jpg?x-oss-process=image/resize,m_lfit,h_800,w_800/format,webp/quality,q_90",url:"123"}]},{title:"گوشی موبایل",url:"mobile",children:[{image:"https://dkstatics-public.digikala.com/digikala-products/c0e079b958167bd0fdef1f0e12440e7fed29b1bd_1727853611.jpg?x-oss-process=image/resize,m_lfit,h_800,w_800/format,webp/quality,q_90",url:"123"},{image:"https://dkstatics-public.digikala.com/digikala-products/ddeaf714d818733ba1d7077a3682aa8ffebde268_1727162245.jpg?x-oss-process=image/resize,m_lfit,h_800,w_800/format,webp/quality,q_90",url:"123"},{image:"https://dkstatics-public.digikala.com/digikala-products/b0af2ec78668c85506c1edc260b42ff447f019c8_1667201885.jpg?x-oss-process=image/resize,m_lfit,h_800,w_800/format,webp/quality,q_90",url:"123"},{image:"https://dkstatics-public.digikala.com/digikala-products/c0e079b958167bd0fdef1f0e12440e7fed29b1bd_1727853611.jpg?x-oss-process=image/resize,m_lfit,h_800,w_800/format,webp/quality,q_90",url:"123"}]}],uj=[{image:"/uploads/assets/banners/1.webp",url:"https://digikala.com"},{image:"/uploads/assets/banners/2.webp",url:"https://digikala.com"},{image:"/uploads/assets/banners/3.webp",url:"https://digikala.com"},{image:"/uploads/assets/banners/4.webp",url:"https://digikala.com"}],uv={title:"محبوب ترین برندها",children:[{image:"https://dkstatics-public.digikala.com/digikala-brands/2c36ceb629598fa31b9b321fcd4e47773bd93ef7_1649498016.png?x-oss-process=image/resize,m_lfit,h_160,w_160/quality,q_80",url:"123"},{image:"https://dkstatics-public.digikala.com/digikala-brands/7d615272ba7fc5dd708195ae858e2971de86a06f_1649498033.png?x-oss-process=image/resize,m_lfit,h_160,w_160/quality,q_80",url:"123"},{image:"https://dkstatics-public.digikala.com/digikala-brands/6091.png?x-oss-process=image/resize,m_lfit,h_160,w_160/quality,q_80",url:"123"},{image:"https://dkstatics-public.digikala.com/digikala-brands/af664f0bcf9bc412b741c618e6e52fc2d090198f_1619269008.png?x-oss-process=image/resize,m_lfit,h_160,w_160/quality,q_80",url:"123"},{image:"https://dkstatics-public.digikala.com/digikala-brands/7857.png?x-oss-process=image/resize,m_lfit,h_160,w_160/quality,q_80",url:"123"},{image:"https://dkstatics-public.digikala.com/digikala-brands/5a10ae95eb42fc96906c8062563b28062668d418_1722238640.png?x-oss-process=image/resize,m_lfit,h_160,w_160/quality,q_80",url:"123"},{image:"https://dkstatics-public.digikala.com/digikala-brands/3f0e8a262651232007912c06d7cd69f7d9b4bfa4_1662306119.jpg?x-oss-process=image/resize,m_lfit,h_160,w_160/quality,q_80",url:"123"},{image:"https://dkstatics-public.digikala.com/digikala-brands/d23e8875d5f7a9735e433f1fd86a1513902efc8b_1604470597.jpg?x-oss-process=image/resize,m_lfit,h_160,w_160/quality,q_80",url:"123"},{image:"https://dkstatics-public.digikala.com/digikala-brands/3960.jpg?x-oss-process=image/resize,m_lfit,h_160,w_160/quality,q_80",url:"123"}]},uC=[{image:"https://dkstatics-public.digikala.com/digikala-mega-menu/25804b8cb794b9ff36002f37117c4d84764d0475_1733131384.png?x-oss-process=image/resize,m_lfit,h_300,w_300/quality,q_80",title:"موبایل",url:"mobile",display:!0,subscriptionModel:{modelId:"basic"}},{image:"https://dkstatics-public.digikala.com/digikala-mega-menu/811055abd27571021d484336b05c3d867993cc4f_1733131393.png?x-oss-process=image/resize,m_lfit,h_300,w_300/quality,q_80",title:"کالای دیجیتال",url:"digital",display:!0,subscriptionModel:{modelId:"basic"}},{image:"https://dkstatics-public.digikala.com/digikala-mega-menu/92bd44f2cdb518e533c6bb4d52ea68c3d741f4ea_1733131423.png?x-oss-process=image/resize,m_lfit,h_300,w_300/quality,q_80",title:"خانه و آشپزخانه",url:"home-and-kitched",display:!0,subscriptionModel:{modelId:"basic"}},{image:"https://dkstatics-public.digikala.com/digikala-mega-menu/202435741cee671580b15b215f208e96d8badf69_1733131548.png?x-oss-process=image/resize,m_lfit,h_300,w_300/quality,q_80",title:"خودرو و موتورسیکلت",url:"car-and-motor",display:!0,subscriptionModel:{modelId:"basic"}},{image:"https://dkstatics-public.digikala.com/digikala-mega-menu/cf66c8ecfdd57549773cc7fd379d7b73cdfebf5a_1733131436.png?x-oss-process=image/resize,m_lfit,h_300,w_300/quality,q_80",title:"لوازم خانگی برقی",url:"home-appliance",display:!0,subscriptionModel:{modelId:"basic"}},{image:"https://dkstatics-public.digikala.com/digikala-mega-menu/285792b2a54984c4570ba6bd61d5bfb8beb8f3b6_1733131459.png?x-oss-process=image/resize,m_lfit,h_300,w_300/quality,q_80",title:"مد و پوشاک",url:"apparel",display:!0,subscriptionModel:{modelId:"basic"}},{image:"https://dkstatics-public.digikala.com/digikala-mega-menu/415b937ea92f8d6881ed0b5bb0f9fd5b536674db_1733131478.png?x-oss-process=image/resize,m_lfit,h_300,w_300/quality,q_80",title:"طلا و نقره",url:"gold-jwerly",display:!0,subscriptionModel:{modelId:"basic"}},{image:"https://dkstatics-public.digikala.com/digikala-mega-menu/554f74e939eba973d2f2d9abcd4cd3f8606642f7_1733131506.png?x-oss-process=image/resize,m_lfit,h_300,w_300/quality,q_80",title:"آرایشی بهداشتی",url:"personal-appliance",display:!0,subscriptionModel:{modelId:"basic"}},{image:"https://dkstatics-public.digikala.com/digikala-mega-menu/5cc11e8e1d8e3cdbcfb13dde4f784f8de9544b28_1733131558.png?x-oss-process=image/resize,m_lfit,h_300,w_300/quality,q_80",title:"ابزار آلات و تجهیزات",url:"vehicles",display:!0,subscriptionModel:{modelId:"basic"}},{image:"https://dkstatics-public.digikala.com/digikala-mega-menu/e2ec23cbb06bcf8461eae13e188b1036553da148_1733131406.png?x-oss-process=image/resize,m_lfit,h_300,w_300/quality,q_80",title:"کتاب، لوازم تحریر و هنر",url:"book-and-media",display:!0,subscriptionModel:{modelId:"basic"}},{image:"https://dkstatics-public.digikala.com/digikala-mega-menu/38484bbb412223b1eccb85047c5caf4202e362e1_1733131530.png?x-oss-process=image/resize,m_lfit,h_300,w_300/quality,q_80",title:"تجهیزات پزشکی و سلامت",url:"medical-and-health-equipment",display:!0,subscriptionModel:{modelId:"basic"}},{image:"https://dkstatics-public.digikala.com/digikala-mega-menu/18864f7f01629bf782bc6615e42122761ac5c1fe_1733131540.png?x-oss-process=image/resize,m_lfit,h_300,w_300/quality,q_80",title:"ورزش و سفر",url:"sport-and-travel",display:!0,subscriptionModel:{modelId:"basic"}},{image:"https://dkstatics-public.digikala.com/digikala-mega-menu/58ab49968071551785ba7b7c0b6fab6e41a135c3_1733131568.png?x-oss-process=image/resize,m_lfit,h_300,w_300/quality,q_80",title:"کارت هدیه و گیفت کارت",url:"gifts",display:!0,subscriptionModel:{modelId:"basic"}},{image:"https://dkstatics-public.digikala.com/digikala-mega-menu/67742925ecdee66602161472466550cec0d84a6d_1733131580.png?x-oss-process=image/resize,m_lfit,h_300,w_300/quality,q_80",title:"کالای خوراکی و اساسی",url:"food-beverage",display:!0,subscriptionModel:{modelId:"basic"}},{image:"https://dkstatics-public.digikala.com/digikala-mega-menu/9617736d06b5bdded22100ae967542e720449c55_1733131617.png?x-oss-process=image/resize,m_lfit,h_300,w_300/quality,q_80",title:"اسباب بازی، کودک و نوزاد",url:"mother-and-child",display:!0,subscriptionModel:{modelId:"basic"}},{image:"https://dkstatics-public.digikala.com/digikala-mega-menu/337e6da79b6d397c3cd3db35a5af6a77d2eb657e_1733131627.png?x-oss-process=image/resize,m_lfit,h_300,w_300/quality,q_80",title:"اسباب بازی، کودک و نوزاد",url:"rural-products",display:!1,subscriptionModel:{modelId:"pro"}},{image:"https://dkstatics-public.digikala.com/digikala-mega-menu/337e6da79b6d397c3cd3db35a5af6a77d2eb657e_1733131627.png?x-oss-process=image/resize,m_lfit,h_300,w_300/quality,q_80",title:"محصولات اختصاصی",url:"exclusive-products",display:!1,subscriptionModel:{modelId:"gold"}}],uw=[{filters:[{title:"برندها",key:"brands",options:[{label:"اپل",value:"apple"},{label:"سامسونگ",value:"samsung"},{label:"ایسوس",value:"asus"},{label:"بیتس",value:"beats"},{label:"ال جی",value:"lg"}]},{title:"رنگ‌ها",key:"colors",options:[{label:"قرمز",value:"red"},{label:"آبی",value:"blue"},{label:"سبز",value:"green"},{label:"مشکی",value:"black"},{label:"سفید",value:"white"}]},{title:"محدوده ارسال",key:"delivery_areas",options:[{label:"تهران",value:"tehran"},{label:"کرج",value:"karaj"},{label:"فارس",value:"fars"},{label:"شیراز",value:"shiraz"}]}],price:{min:0,max:15e6},totalPages:20}],uk=r.p+"static/image/1.812d88ff.webp",uS=["محصول عالی بود، کاملاً راضی هستم!","کیفیت ساخت بسیار بالا، من خیلی خوشحالم که این رو خریدم.","مورد پسند من نبود، متاسفانه برای من مناسب نبود.","ارسال سریع بود و بسته بندی خوبی داشت.","انتظارم از محصول بیشتر بود، اما در کل خوب بود.","دقیقاً همون چیزی که نیاز داشتم.","کاملاً برام مفید بود و راضی هستم.","متاسفانه کالا با تصویر متفاوت بود.","محصول خیلی باکیفیتی بود، حتماً دوباره میخرم.","همه چیز عالی بود به جز کمی تاخیر در ارسال.","قیمت مناسب و کیفیت خوب، توصیه می‌کنم.","خریدم و هیچ مشکلی نداشتم، خیلی خوب بود.","اصلاً فکر نمی‌کردم اینقدر راضی باشم.","کاملاً با توضیحات مطابقت داشت.","برای استفاده روزمره عالیه، ارزش خرید داره."];uS[Math.floor(Math.random()*uS.length)],uS[Math.floor(Math.random()*uS.length)],uS[Math.floor(Math.random()*uS.length)],uS[Math.floor(Math.random()*uS.length)],uS[Math.floor(Math.random()*uS.length)],uS[Math.floor(Math.random()*uS.length)],uS[Math.floor(Math.random()*uS.length)],uS[Math.floor(Math.random()*uS.length)],uS[Math.floor(Math.random()*uS.length)],uS[Math.floor(Math.random()*uS.length)],uS[Math.floor(Math.random()*uS.length)],uS[Math.floor(Math.random()*uS.length)],uS[Math.floor(Math.random()*uS.length)],uS[Math.floor(Math.random()*uS.length)];let uI=[{productId:"brand0-category0-subCategory1-item0i0000",comments:[{commentId:"pid126-comid19-sid1-cid2",name:"فرهاد باقری",date:"15 آبان 1403",rating:"3",status:"agreed",commentText:"بد بود",_id:"67e8030f60352647680d1b77",supplierName:"دیجی کالا",supplierId:1},{commentId:"pid126-comid19-sid1-cid3",name:"فرهاد باقری",date:"15 آبان 1403",rating:"2",status:"agreed",commentText:"عالی بود",_id:"67e8030f60352647680d1b78",supplierName:"دیجی کالا",supplierId:1},{commentId:"pid126-comid19-sid1-cid1",name:"فرهاد باقری",date:"15 آبان 1403",rating:"4",status:"agreed",commentText:"خوب بود",_id:"67e8030f60352647680d1b79",supplierName:"دیجی کالا",supplierId:1},{commentId:"pid126-comid19-sid9-cid1",name:"فرهاد باقری",date:"15 آبان 1403",rating:"3.5",status:"agreed",commentText:"دیر رسید",_id:"67e8030f60352647680d1b7b",supplierName:"مشهد کالا",supplierId:9},{commentId:"pid126-comid19-sid3-cid1",name:"فرهاد باقری",date:"15 آبان 1403",rating:"3",status:"agreed",commentText:"سریعتر بفرستید",_id:"67e8030f60352647680d1b7d",supplierName:"زنبیل",supplierId:3}],suppliers:[{supplierId:1,supplierName:"دیجی کالا",commentsCount:3,averageRating:108},{supplierId:9,supplierName:"مشهد کالا",commentsCount:1,averageRating:3.5},{supplierId:3,supplierName:"زنبیل",commentsCount:1,averageRating:3}],totalComments:5,averageRating:648.7}],uz={main:[{id:"146",label:"منوی اصلی",icon:'<i class="ti ti-menu-2"></i>',mega:!0,url:null,links:[{id:380,label:"پرده",icon:'<i class="ti ti-currency-solana"></i>',mega:!1,url:null,links:[{id:384,label:"عنوان 1",icon:'<i class="ti ti-headset"></i>',mega:!1,url:"/category/curtain_tools",links:[{id:385,label:"عنوان 11",icon:'<i class="ti ti-alpha"></i>',mega:!1,url:"/category/curtain_tools",links:[]}]}]},{id:382,label:"تجهیزات جانبی پرده",icon:null,mega:!1,url:"/category/curtain_tools",links:[]},{id:378,label:"خانه",icon:'<i class="fa-regular fa-house"></i>',mega:!1,url:"/",links:[]},{id:381,label:"روتختی",icon:null,mega:!1,url:"/category/bedspread",links:[]},{id:379,label:"محصولات",icon:'<i class="fa-regular fa-grid-2"></i>',mega:!1,url:null,links:[]},{id:383,label:"وبلاگ",icon:null,mega:!1,url:"/blog",links:[]}]},{id:"206",label:"دسترسی سریع",icon:null,mega:!1,url:null,links:[{id:209,label:"سفارش سریع",icon:null,mega:!1,url:"/fastorder",links:[]},{id:232,label:"ادیت سریع",icon:null,mega:!1,url:"/fastedit",links:[]},{id:207,label:"صفحه ی خانه",icon:null,mega:!1,url:"/",links:[]},{id:210,label:"علاقه مندی ها",icon:null,mega:!1,url:"/account/favorites",links:[]},{id:1234,label:"فروشگاه",icon:null,mega:!1,url:"/shop",links:[]},{id:1234,label:"محصول 123",icon:null,mega:!1,url:"/product/123",links:[]},{id:208,label:"ورود/ثبت نام",icon:null,mega:!1,url:"/login",links:[]},{id:208,label:"سبد خرید",icon:null,mega:!1,url:"/basket",links:[]}]}],footer:[{id:"188",label:"دسته بندی ها",icon:null,mega:!1,url:null,links:[{id:198,label:"آینه",icon:null,mega:!1,url:"#",links:[]},{id:189,label:"پرده",icon:null,mega:!1,url:"#",links:[]},{id:190,label:"رو تختی",icon:null,mega:!1,url:"#",links:[]},{id:193,label:"فرش",icon:null,mega:!1,url:"#",links:[]},{id:196,label:"قالیچه و پادری",icon:null,mega:!1,url:"#",links:[]},{id:191,label:"کاغذ دیواری",icon:null,mega:!1,url:"#",links:[]},{id:194,label:"کوسن و روبالشی",icon:null,mega:!1,url:"#",links:[]},{id:195,label:"لوستر و آباژور",icon:null,mega:!1,url:"#",links:[]},{id:197,label:"مبلمان",icon:null,mega:!1,url:"#",links:[]},{id:192,label:"موکت",icon:null,mega:!1,url:"#",links:[]}]}],social:[{id:"214",label:"شبکه‌های اجتماعی",icon:null,mega:!1,url:null,links:[{id:265,label:"Instagram",icon:'<i class="ti ti-brand-instagram"></i>',mega:!1,url:"https://www.instagram.com/",links:[]},{id:267,label:"LinkedIn",icon:'<i class="ti ti-brand-linkedin"></i>',mega:!1,url:"https://www.linkedin.com/",links:[]},{id:269,label:"Telegram",icon:'<i class="ti ti-brand-telegram"></i>',mega:!1,url:"https://telegram.org/",links:[]},{id:266,label:"Twitter",icon:'<i class="ti ti-brand-twitter"></i>',mega:!1,url:"https://twitter.com/",links:[]},{id:268,label:"WhatsApp",icon:'<i class="ti ti-brand-whatsapp"></i>',mega:!1,url:"https://web.whatsapp.com/",links:[]}]}]},uN=r.p+"static/image/2.7f34a781.webp",uD=r.p+"static/image/3.8f0e971a.webp",uA=r.p+"static/image/4.df3f6e8e.webp",uF=r.p+"static/image/5.894dec69.webp",uM=r.p+"static/image/1.b1c8bca3.jpg",uT=r.p+"static/image/2.c3e35504.webp",uP=r.p+"static/image/3.b14e9ba6.jpg",uE=r.p+"static/image/1.766f0c03.jpg",u_=r.p+"static/image/2.1ae41396.jpg",uL=r.p+"static/image/3.f964d93d.jpg",uB=r.p+"static/image/1.7dd24565.jpg",uO=r.p+"static/image/2.d63039da.jpg",uR=r.p+"static/image/3.eb647f1f.jpg",uW=r.p+"static/image/1.8f942fab.avif",uZ=r.p+"static/image/2.564c7e4f.avif",uU=r.p+"static/image/3.7610b8d9.avif",u$=r.p+"static/image/1.0abec22d.webp",uq=r.p+"static/image/2.661841f8.jpg",uK=[{id:"brand0-category0-subCategory1-item0i0000",general:{slug:null,title:"گوشی موبایل اپل مدل پرومکس دو سیم‌ کارت نات اکتیو سیزده",brandId:"brand0",brandName:"apple",brandNamePer:"اپل",categoryName:"phone",categoryNamePer:"موبایل",categoryId:"category0",subCategoryName:"smartphone",subCategoryNamePer:"گوشی هوشمند",subCategoryId:"category0-subCategory1",english_title:"iphone 13 pro 256 zaa black",addedToFavorite:!0,images:[uk,uN,uD,uA,uF],description:"<p>توضیحات نمونه برای محصول 4</p>",specifications:null,priceHistory:[{date:"2024-02-01",minPrice:9e5,maxPrice:115e4},{date:"2024-03-01",minPrice:87e4,maxPrice:11e5},{date:"2024-04-01",minPrice:88e4,maxPrice:108e4},{date:"2024-05-01",minPrice:86e4,maxPrice:105e4},{date:"2024-01-01",minPrice:95e4,maxPrice:12e5}]},options:[{id:1,label:"رنگ",slug:"color",type:"color",children:[{id:16,label:"صورتی",value:"#ff00ff",selected:!0},{id:17,label:"قرمز",value:"#ff0000"},{id:33,label:"آبي",value:"#0000ff"},{id:36,label:"سبز",value:"#00ff00"}]},{id:81,label:"جنس",slug:"material",type:"select",children:[{id:18,label:"فلزی",value:"فلزی",selected:!0},{id:19,label:"پلاستیک",value:"پلاستیک"}]}],combinations:[{id:19,selected:!0,options:[{id:16,value:"#ff00ff",attribute_name:"رنگ",type:"color",attribute_id:1},{id:18,value:"فلزی",attribute_name:"جنس",type:"material",attribute_id:81}],suppliers:[{id:1,name:"دیجی کالا",shortName:"applepromaxk4z8n",action:3,deliveryTime:{label:"کمتر از 1 روز",value:"in1day"},images:[],psid:"brand0-category0-subCategory1-item0i0000-c19-s1",payment_type:"Cash",delivery:[{locationName:"Shiraz",locationId:0,locationLabel:"شیراز"},{locationName:"Esfahan",locationId:1,locationLabel:"اصفهان"}],buy_type:"Retail",price:{regularPrice:1e6,discountedPrice:95e4,discountPercent:null,ICPrice:[{ICID:"IC1",label:"usd",name:"دلار آمریکا",amount:10},{ICID:"IC2",label:"AED",name:"دینار امارات",amount:250}]},sku:"SKU-001",stock:10,minOrder:10,maxOrder:94,rating:"4.50",reviews_count:0,reviews:[],selected:!0,special_offer:"1403-12-29"},{id:2,name:"تک اسیا",action:3,deliveryTime:{label:"کمتر از 1 روز",value:"in1day"},shortName:"applepromaxk4z8a",images:[],psid:"brand0-category0-subCategory1-item0i0000-c19-s2",payment_type:"Credit",delivery:[{locationName:"Shiraz",locationId:0,locationLabel:"شیراز"},{locationName:"Esfahan",locationId:1,locationLabel:"اصفهان"}],buy_type:"Wholesale",price:{regularPrice:"110.00",discountedPrice:"130.00",discountPercent:null,ICPrice:[{ICID:"IC1",label:"usd",name:"دلار آمریکا",amount:10},{ICID:"IC2",label:"AED",name:"دینار امارات",amount:250}]},sku:"SKU-002",stock:15,minOrder:2,maxOrder:150,rating:"4.80",reviews_count:0,reviews:[]},{id:1,name:"دیجی کالا",action:3,deliveryTime:{label:"کمتر از 1 روز",value:"in1day"},shortName:"applepromaxk4z8v",images:[],psid:"brand0-category0-subCategory1-item0i0000-c19-s1",payment_type:"Cash",delivery:[{locationName:"Shiraz",locationId:0,locationLabel:"شیراز"},{locationName:"Esfahan",locationId:1,locationLabel:"اصفهان"}],buy_type:"Retail",price:{regularPrice:1e6,discountedPrice:95e4,discountPercent:null,ICPrice:[{ICID:"IC1",label:"usd",name:"دلار آمریکا",amount:10},{ICID:"IC2",label:"AED",name:"دینار امارات",amount:250}]},sku:"SKU-001",stock:10,minOrder:10,maxOrder:94,rating:"4.50",reviews_count:0,reviews:[],selected:!0,special_offer:"1403-12-29"}]},{id:20,options:[{id:16,value:"#ff00ff",attribute_name:"رنگ",type:"color",attribute_id:1},{id:19,value:"پلاستیک",attribute_name:"جنس",type:"material",attribute_id:81}],suppliers:[{id:4,name:"ترب",payment_type:"Credit",action:3,deliveryTime:{label:"کمتر از یک هفته",value:"in1week"},shortName:"applepromaxk4z8q",images:[],psid:"brand0-category0-subCategory1-item0i0000-c20-s4",delivery:[{locationName:"Shiraz",locationId:0,locationLabel:"شیراز"},{locationName:"Esfahan",locationId:1,locationLabel:"اصفهان"}],buy_type:"Wholesale",price:{regularPrice:"110.00",discountedPrice:"130.00",discountPercent:null,ICPrice:[{ICID:"IC1",label:"usd",name:"دلار آمریکا",amount:10},{ICID:"IC2",label:"AED",name:"دینار امارات",amount:250}]},sku:"SKU-002",stock:15,minOrder:2,maxOrder:150,rating:"4.80",reviews_count:0,reviews:[]}]},{id:21,options:[{id:17,value:"#ff0000",attribute_name:"رنگ",type:"color",attribute_id:1},{id:18,value:"فلزی",attribute_name:"جنس",type:"material",attribute_id:81}],suppliers:[{id:1,name:"دیجی کالا",action:3,shortName:"applepromaxk4z8b",deliveryTime:{label:"کمتر از 1 روز",value:"in1day"},images:[],psid:"brand0-category0-subCategory1-item0i0000-c21-s1",payment_type:"Cash",delivery:[{locationName:"Shiraz",locationId:0,locationLabel:"شیراز"},{locationName:"Esfahan",locationId:1,locationLabel:"اصفهان"}],buy_type:"Retail",price:{regularPrice:"100.00",discountedPrice:"120.00",discountPercent:null,ICPrice:[{ICID:"IC1",label:"usd",name:"دلار آمریکا",amount:10},{ICID:"IC2",label:"AED",name:"دینار امارات",amount:250}]},sku:"SKU-001",stock:10,minOrder:1,maxOrder:46,rating:"4.50",reviews_count:0,reviews:[]}]}]},{id:"brand1-category0-subCategory1-item0is0001",general:{slug:null,title:"گوشی موبایل سامسونگ مدل گلکسی A54 دو سیم کارت",brandId:"brand1",brandName:"samsung",brandNamePer:"سامسونگ",categoryName:"phone",categoryNamePer:"موبایل",categoryId:"category0",subCategoryName:"smartphone",subCategoryNamePer:"گوشی هوشمند",subCategoryId:"category0-subCategory1",english_title:"samsung A54 2 SIM",addedToFavorite:!0,images:[uP,uM,uT],description:"<p>توضیحات نمونه برای محصول 4</p>",specifications:null,priceHistory:[{date:"2024-02-01",minPrice:9e5,maxPrice:115e4},{date:"2024-03-01",minPrice:87e4,maxPrice:11e5},{date:"2024-04-01",minPrice:88e4,maxPrice:108e4},{date:"2024-05-01",minPrice:86e4,maxPrice:105e4},{date:"2024-01-01",minPrice:95e4,maxPrice:12e5}]},options:[{id:1,label:"رنگ",slug:"color",type:"color",children:[{id:16,label:"صورتی",value:"#ff00ff",selected:!0},{id:17,label:"قرمز",value:"#ff0000"},{id:33,label:"آبي",value:"#0000ff"},{id:36,label:"سبز",value:"#00ff00"}]},{id:81,label:"جنس",slug:"material",type:"select",children:[{id:18,label:"فلزی",value:"فلزی",selected:!0},{id:19,label:"پلاستیک",value:"پلاستیک"}]}],combinations:[{id:19,selected:!0,options:[{id:16,value:"#ff00ff",attribute_name:"رنگ",type:"color",attribute_id:1},{id:18,value:"فلزی",attribute_name:"جنس",type:"material",attribute_id:81}],suppliers:[{id:1,name:"دیجی کالا",shortName:"a54k4z8v",action:3,deliveryTime:{label:"کمتر از 1 روز",value:"in1day"},images:[],psid:"brand1-category0-subCategory1-item0is0001-c19-s1",payment_type:"Cash",delivery:[{locationName:"Shiraz",locationId:0,locationLabel:"شیراز"},{locationName:"Esfahan",locationId:1,locationLabel:"اصفهان"}],buy_type:"Retail",price:{regularPrice:1e6,discountedPrice:95e4,discountPercent:null,ICPrice:[{ICID:"IC1",label:"usd",name:"دلار آمریکا",amount:10},{ICID:"IC2",label:"AED",name:"دینار امارات",amount:250}]},sku:"SKU-001",stock:10,minOrder:10,maxOrder:94,rating:"4.50",reviews_count:0,reviews:[],selected:!0,special_offer:"1403-12-29"},{id:2,name:"تک اسیا",payment_type:"Credit",shortName:"a54k4z8r",action:3,deliveryTime:{label:"کمتر از یک هفته",value:"in1week"},images:[],psid:"brand1-category0-subCategory1-item0is0001-c19-s2",delivery:[{locationName:"Shiraz",locationId:0,locationLabel:"شیراز"},{locationName:"Esfahan",locationId:1,locationLabel:"اصفهان"}],buy_type:"Wholesale",price:{regularPrice:"110.00",discountedPrice:"130.00",discountPercent:null,ICPrice:[{ICID:"IC1",label:"usd",name:"دلار آمریکا",amount:10},{ICID:"IC2",label:"AED",name:"دینار امارات",amount:250}]},sku:"SKU-002",stock:15,minOrder:2,maxOrder:150,rating:"4.80",reviews_count:0,reviews:[]}]},{id:20,options:[{id:16,value:"#ff00ff",attribute_name:"رنگ",type:"color",attribute_id:1},{id:19,value:"پلاستیک",attribute_name:"جنس",type:"material",attribute_id:81}],suppliers:[{id:4,name:"ترب",shortName:"a54k4z8f",action:3,deliveryTime:{label:"کمتر از یک هفته",value:"in1week"},images:[],psid:"brand1-category0-subCategory1-item0is0001-c20-s4",payment_type:"Credit",delivery:[{locationName:"Shiraz",locationId:0,locationLabel:"شیراز"},{locationName:"Esfahan",locationId:1,locationLabel:"اصفهان"}],buy_type:"Wholesale",price:{regularPrice:"110.00",discountedPrice:"130.00",discountPercent:null,ICPrice:[{ICID:"IC1",label:"usd",name:"دلار آمریکا",amount:10},{ICID:"IC2",label:"AED",name:"دینار امارات",amount:250}]},sku:"SKU-002",stock:15,minOrder:2,maxOrder:150,rating:"4.80",reviews_count:0,reviews:[]}]},{id:21,options:[{id:17,value:"#ff0000",attribute_name:"رنگ",type:"color",attribute_id:1},{id:18,value:"فلزی",attribute_name:"جنس",type:"material",attribute_id:81}],suppliers:[{id:1,name:"دیجی کالا",shortName:"a54k4z8y",action:3,deliveryTime:{label:"کمتر از یک هفته",value:"in1week"},images:[],psid:"brand1-category0-subCategory1-item0is0001-c21-s1",payment_type:"Cash",action:3,deliveryTime:{label:"کمتر از یک هفته",value:"in1week"},delivery:[{locationName:"Shiraz",locationId:0,locationLabel:"شیراز"},{locationName:"Esfahan",locationId:1,locationLabel:"اصفهان"}],buy_type:"Retail",price:{regularPrice:"100.00",discountedPrice:"120.00",discountPercent:null,ICPrice:[{ICID:"IC1",label:"usd",name:"دلار آمریکا",amount:10},{ICID:"IC2",label:"AED",name:"دینار امارات",amount:250}]},sku:"SKU-001",stock:10,minOrder:1,maxOrder:46,rating:"4.50",reviews_count:0,reviews:[]}]}]},{id:"brand0-category1-subCategory2-item0i0002",general:{slug:null,title:"ساعت هوشمند اپل سری 8 مدل GPS",brandId:"brand0",brandName:"apple",brandNamePer:"اپل",categoryName:"electronics",categoryNamePer:"کالای دیجیتال",categoryId:"category1",subCategoryName:"smartwatch",subCategoryNamePer:"ساعت هوشمند",subCategoryId:"category1-subCategory2",english_title:"Apple Watch 8 Series GPS",addedToFavorite:!0,images:[uE,u_,uL],description:"<p>توضیحات نمونه برای محصول 4</p>",specifications:null,priceHistory:[{date:"2024-02-01",minPrice:9e5,maxPrice:115e4},{date:"2024-03-01",minPrice:87e4,maxPrice:11e5},{date:"2024-04-01",minPrice:88e4,maxPrice:108e4},{date:"2024-05-01",minPrice:86e4,maxPrice:105e4},{date:"2024-01-01",minPrice:95e4,maxPrice:12e5}]},options:[{id:1,label:"رنگ",slug:"color",type:"color",children:[{id:16,label:"صورتی",value:"#ff00ff",selected:!0},{id:17,label:"قرمز",value:"#ff0000"},{id:33,label:"آبي",value:"#0000ff"},{id:36,label:"سبز",value:"#00ff00"}]},{id:81,label:"جنس",slug:"material",type:"select",children:[{id:18,label:"فلزی",value:"فلزی",selected:!0},{id:19,label:"پلاستیک",value:"پلاستیک"}]}],combinations:[{id:19,selected:!0,options:[{id:16,value:"#ff00ff",attribute_name:"رنگ",type:"color",attribute_id:1},{id:18,value:"فلزی",attribute_name:"جنس",type:"material",attribute_id:81}],suppliers:[{id:1,name:"دیجی کالا",action:3,deliveryTime:{label:"کمتر از یک هفته",value:"in1week"},shortName:"appleseries8k4z8v",images:[],psid:"brand0-category1-subCategory2-item0i0002-c19-s1",payment_type:"Cash",delivery:[{locationName:"Shiraz",locationId:0,locationLabel:"شیراز"},{locationName:"Esfahan",locationId:1,locationLabel:"اصفهان"}],buy_type:"Retail",price:{regularPrice:1e6,discountedPrice:95e4,discountPercent:null,ICPrice:[{ICID:"IC1",label:"usd",name:"دلار آمریکا",amount:10},{ICID:"IC2",label:"AED",name:"دینار امارات",amount:250}]},sku:"SKU-001",stock:10,minOrder:10,maxOrder:94,rating:"4.50",reviews_count:0,reviews:[],selected:!0,special_offer:"1403-12-29"},{id:2,name:"تک اسیا",action:3,deliveryTime:{label:"کمتر از یک هفته",value:"in1week"},shortName:"appleseries8k4z8b",images:[],psid:"brand0-category1-subCategory2-item0i0002-c19-s2",payment_type:"Credit",delivery:[{locationName:"Shiraz",locationId:0,locationLabel:"شیراز"},{locationName:"Esfahan",locationId:1,locationLabel:"اصفهان"}],buy_type:"Wholesale",price:{regularPrice:"110.00",discountedPrice:"130.00",discountPercent:null,ICPrice:[{ICID:"IC1",label:"usd",name:"دلار آمریکا",amount:10},{ICID:"IC2",label:"AED",name:"دینار امارات",amount:250}]},sku:"SKU-002",stock:15,minOrder:2,maxOrder:150,rating:"4.80",reviews_count:0,reviews:[]}]},{id:20,options:[{id:16,value:"#ff00ff",attribute_name:"رنگ",type:"color",attribute_id:1},{id:19,value:"پلاستیک",attribute_name:"جنس",type:"material",attribute_id:81}],suppliers:[{id:4,name:"ترب",action:3,deliveryTime:{label:"کمتر از یک هفته",value:"in1week"},shortName:"appleseries8k4z8h",images:[],psid:"brand0-category1-subCategory2-item0i0002-c20-s4",payment_type:"Credit",delivery:[{locationName:"Shiraz",locationId:0,locationLabel:"شیراز"},{locationName:"Esfahan",locationId:1,locationLabel:"اصفهان"}],buy_type:"Wholesale",price:{regularPrice:"110.00",discountedPrice:"130.00",discountPercent:null,ICPrice:[{ICID:"IC1",label:"usd",name:"دلار آمریکا",amount:10},{ICID:"IC2",label:"AED",name:"دینار امارات",amount:250}]},sku:"SKU-002",stock:15,minOrder:2,maxOrder:150,rating:"4.80",reviews_count:0,reviews:[]}]},{id:21,options:[{id:17,value:"#ff0000",attribute_name:"رنگ",type:"color",attribute_id:1},{id:18,value:"فلزی",attribute_name:"جنس",type:"material",attribute_id:81}],suppliers:[{id:1,name:"دیجی کالا",action:3,deliveryTime:{label:"کمتر از یک هفته",value:"in1week"},shortName:"appleseries8k4z4v",images:[],psid:"brand0-category1-subCategory2-item0i0002-c21-s1",payment_type:"Cash",action:3,deliveryTime:{label:"کمتر از یک هفته",value:"in1week"},delivery:[{locationName:"Shiraz",locationId:0,locationLabel:"شیراز"},{locationName:"Esfahan",locationId:1,locationLabel:"اصفهان"}],buy_type:"Retail",price:{regularPrice:"100.00",discountedPrice:"120.00",discountPercent:null,ICPrice:[{ICID:"IC1",label:"usd",name:"دلار آمریکا",amount:10},{ICID:"IC2",label:"AED",name:"دینار امارات",amount:250}]},sku:"SKU-001",stock:10,minOrder:1,maxOrder:46,rating:"4.50",reviews_count:0,reviews:[]}]}]},{id:"brand5-category1-subCategory1-item0b0004",general:{slug:null,title:"هدفون بی سیم بیتس مدل Skyeline",brandId:"brand5",brandName:"beats",brandNamePer:"بیتس",categoryName:"electronics",categoryNamePer:"کالای دیجیتال",categoryId:"category1",subCategoryName:"wirelessheadphone",subCategoryNamePer:"هدفون بی سیم",subCategoryId:"category1-subCategory1",english_title:"Beats Headphone Skyline",addedToFavorite:!0,images:[uB,uO,uR],description:"<p>توضیحات نمونه برای محصول 4</p>",specifications:null,priceHistory:[{date:"2024-02-01",minPrice:9e5,maxPrice:115e4},{date:"2024-03-01",minPrice:87e4,maxPrice:11e5},{date:"2024-04-01",minPrice:88e4,maxPrice:108e4},{date:"2024-05-01",minPrice:86e4,maxPrice:105e4},{date:"2024-01-01",minPrice:95e4,maxPrice:12e5}]},options:[{id:1,label:"رنگ",slug:"color",type:"color",children:[{id:16,label:"صورتی",value:"#ff00ff",selected:!0},{id:17,label:"قرمز",value:"#ff0000"},{id:33,label:"آبي",value:"#0000ff"},{id:36,label:"سبز",value:"#00ff00"}]},{id:81,label:"جنس",slug:"material",type:"select",children:[{id:18,label:"فلزی",value:"فلزی",selected:!0},{id:19,label:"پلاستیک",value:"پلاستیک"}]}],combinations:[{id:19,selected:!0,options:[{id:16,value:"#ff00ff",attribute_name:"رنگ",type:"color",attribute_id:1},{id:18,value:"فلزی",attribute_name:"جنس",type:"material",attribute_id:81}],suppliers:[{id:1,name:"دیجی کالا",payment_type:"Cash",action:3,deliveryTime:{label:"کمتر از یک هفته",value:"in1week"},shortName:"beatsskylinek4z8v",images:[],psid:"brand5-category1-subCategory1-item0b0004-c19-s1",delivery:[{locationName:"Shiraz",locationId:0,locationLabel:"شیراز"},{locationName:"Esfahan",locationId:1,locationLabel:"اصفهان"}],buy_type:"Retail",price:{regularPrice:1e6,discountedPrice:95e4,discountPercent:null,ICPrice:[{ICID:"IC1",label:"usd",name:"دلار آمریکا",amount:10},{ICID:"IC2",label:"AED",name:"دینار امارات",amount:250}]},sku:"SKU-001",stock:10,minOrder:10,maxOrder:94,rating:"4.50",reviews_count:0,reviews:[],selected:!0,special_offer:"1403-12-29"},{id:2,name:"تک اسیا",payment_type:"Credit",action:3,deliveryTime:{label:"کمتر از یک هفته",value:"in1week"},shortName:"beatsskylinek4z4v",images:[],psid:"brand5-category1-subCategory1-item0b0004-c19-s2",delivery:[{locationName:"Shiraz",locationId:0,locationLabel:"شیراز"},{locationName:"Esfahan",locationId:1,locationLabel:"اصفهان"}],buy_type:"Wholesale",price:{regularPrice:"110.00",discountedPrice:"130.00",discountPercent:null,ICPrice:[{ICID:"IC1",label:"usd",name:"دلار آمریکا",amount:10},{ICID:"IC2",label:"AED",name:"دینار امارات",amount:250}]},sku:"SKU-002",stock:15,minOrder:2,maxOrder:150,rating:"4.80",reviews_count:0,reviews:[]}]},{id:20,options:[{id:16,value:"#ff00ff",attribute_name:"رنگ",type:"color",attribute_id:1},{id:19,value:"پلاستیک",attribute_name:"جنس",type:"material",attribute_id:81}],suppliers:[{id:4,name:"ترب",payment_type:"Credit",action:3,deliveryTime:{label:"کمتر از یک هفته",value:"in1week"},shortName:"beatsskyline14z8v",images:[],psid:"brand5-category1-subCategory1-item0b0004-c20-s4",delivery:[{locationName:"Shiraz",locationId:0,locationLabel:"شیراز"},{locationName:"Esfahan",locationId:1,locationLabel:"اصفهان"}],buy_type:"Wholesale",price:{regularPrice:"110.00",discountedPrice:"130.00",discountPercent:null,ICPrice:[{ICID:"IC1",label:"usd",name:"دلار آمریکا",amount:10},{ICID:"IC2",label:"AED",name:"دینار امارات",amount:250}]},sku:"SKU-002",stock:15,minOrder:2,maxOrder:150,rating:"4.80",reviews_count:0,reviews:[]}]},{id:21,options:[{id:17,value:"#ff0000",attribute_name:"رنگ",type:"color",attribute_id:1},{id:18,value:"فلزی",attribute_name:"جنس",type:"material",attribute_id:81}],suppliers:[{id:1,name:"دیجی کالا",payment_type:"Cash",action:3,deliveryTime:{label:"کمتر از یک هفته",value:"in1week"},shortName:"beatsskylinek4z8e",images:[],psid:"brand5-category1-subCategory1-item0b0004-c21-s1",delivery:[{locationName:"Shiraz",locationId:0,locationLabel:"شیراز"},{locationName:"Esfahan",locationId:1,locationLabel:"اصفهان"}],buy_type:"Retail",price:{regularPrice:"100.00",discountedPrice:"120.00",discountPercent:null,ICPrice:[{ICID:"IC1",label:"usd",name:"دلار آمریکا",amount:10},{ICID:"IC2",label:"AED",name:"دینار امارات",amount:250}]},sku:"SKU-001",stock:10,minOrder:1,maxOrder:46,rating:"4.50",reviews_count:0,reviews:[]}]}]},{id:"brand6-category2-subCategory1-item0lg0003",general:{slug:null,title:"تلویزیون هوشمند ال جی مدل OLED55C1G1",brandId:"brand6",brandName:"lg",brandNamePer:"ال جی",categoryName:"electricalappliances",categoryNamePer:"لوازم برقی",categoryId:"category2",subCategoryName:"smarttv",subCategoryNamePer:"تلویزیون هوشمند",subCategoryId:"category2-subCategory1",english_title:"OLED LG TV 55C1G1",addedToFavorite:!0,images:[uW,uZ,uU],description:"<p>توضیحات نمونه برای محصول 4</p>",specifications:null,priceHistory:[{date:"2024-02-01",minPrice:9e5,maxPrice:115e4},{date:"2024-03-01",minPrice:87e4,maxPrice:11e5},{date:"2024-04-01",minPrice:88e4,maxPrice:108e4},{date:"2024-05-01",minPrice:86e4,maxPrice:105e4},{date:"2024-01-01",minPrice:95e4,maxPrice:12e5}]},options:[{id:1,label:"رنگ",slug:"color",type:"color",children:[{id:16,label:"صورتی",value:"#ff00ff",selected:!0},{id:17,label:"قرمز",value:"#ff0000"},{id:33,label:"آبي",value:"#0000ff"},{id:36,label:"سبز",value:"#00ff00"}]},{id:81,label:"جنس",slug:"material",type:"select",children:[{id:18,label:"فلزی",value:"فلزی",selected:!0},{id:19,label:"پلاستیک",value:"پلاستیک"}]}],combinations:[{id:19,selected:!0,options:[{id:16,value:"#ff00ff",attribute_name:"رنگ",type:"color",attribute_id:1},{id:18,value:"فلزی",attribute_name:"جنس",type:"material",attribute_id:81}],suppliers:[{id:1,name:"دیجی کالا",action:3,action:3,deliveryTime:{label:"کمتر از یک هفته",value:"in1week"},shortName:"lgoled55c1g1k4z8v",images:[],psid:"brand6-category2-subCategory1-item0lg0003-c19-s1",deliveryTime:{label:"کمتر از یک هفته",value:"in1week"},payment_type:"Cash",delivery:[{locationName:"Shiraz",locationId:0,locationLabel:"شیراز"},{locationName:"Esfahan",locationId:1,locationLabel:"اصفهان"}],buy_type:"Retail",price:{regularPrice:1e6,discountedPrice:95e4,discountPercent:null,ICPrice:[{ICID:"IC1",label:"usd",name:"دلار آمریکا",amount:10},{ICID:"IC2",label:"AED",name:"دینار امارات",amount:250}]},sku:"SKU-001",stock:10,minOrder:10,maxOrder:94,rating:"4.50",reviews_count:0,reviews:[],selected:!0,special_offer:"1403-12-29"},{id:2,name:"تک اسیا",action:3,deliveryTime:{label:"کمتر از یک هفته",value:"in1week"},shortName:"lgoled55c1g1q4z8v",images:[],psid:"brand6-category2-subCategory1-item0lg0003-c19-s2",payment_type:"Credit",delivery:[{locationName:"Shiraz",locationId:0,locationLabel:"شیراز"},{locationName:"Esfahan",locationId:1,locationLabel:"اصفهان"}],buy_type:"Wholesale",price:{regularPrice:"110.00",discountedPrice:"130.00",discountPercent:null,ICPrice:[{ICID:"IC1",label:"usd",name:"دلار آمریکا",amount:10},{ICID:"IC2",label:"AED",name:"دینار امارات",amount:250}]},sku:"SKU-002",stock:15,minOrder:2,maxOrder:150,rating:"4.80",reviews_count:0,reviews:[]}]},{id:20,options:[{id:16,value:"#ff00ff",attribute_name:"رنگ",type:"color",attribute_id:1},{id:19,value:"پلاستیک",attribute_name:"جنس",type:"material",attribute_id:81}],suppliers:[{id:4,name:"ترب",action:3,deliveryTime:{label:"کمتر از یک هفته",value:"in1week"},images:[],psid:"brand0-category0-subCategory0-item0i0003-c20-s4",shortName:"lgoled55c1g1k4x8v",payment_type:"Credit",delivery:[{locationName:"Shiraz",locationId:0,locationLabel:"شیراز"},{locationName:"Esfahan",locationId:1,locationLabel:"اصفهان"}],buy_type:"Wholesale",price:{regularPrice:"110.00",discountedPrice:"130.00",discountPercent:null,ICPrice:[{ICID:"IC1",label:"usd",name:"دلار آمریکا",amount:10},{ICID:"IC2",label:"AED",name:"دینار امارات",amount:250}]},sku:"SKU-002",stock:15,minOrder:2,maxOrder:150,rating:"4.80",reviews_count:0,reviews:[]}]},{id:21,options:[{id:17,value:"#ff0000",attribute_name:"رنگ",type:"color",attribute_id:1},{id:18,value:"فلزی",attribute_name:"جنس",type:"material",attribute_id:81}],suppliers:[{id:1,name:"دیجی کالا",action:3,deliveryTime:{label:"کمتر از یک هفته",value:"in1week"},shortName:"lgoled55c1g1k5z8v",images:[],psid:"brand0-category0-subCategory0-item0i0003-c21-s1",payment_type:"Cash",delivery:[{locationName:"Shiraz",locationId:0,locationLabel:"شیراز"},{locationName:"Esfahan",locationId:1,locationLabel:"اصفهان"}],buy_type:"Retail",price:{regularPrice:"100.00",discountedPrice:"120.00",discountPercent:null,ICPrice:[{ICID:"IC1",label:"usd",name:"دلار آمریکا",amount:10},{ICID:"IC2",label:"AED",name:"دینار امارات",amount:250}]},sku:"SKU-001",stock:10,minOrder:1,maxOrder:46,rating:"4.50",reviews_count:0,reviews:[]}]}]},{id:"brand4-category1-subCategory0-item0as0005",general:{slug:null,title:"لپ تاپ گیمینگ TUF F15",brandId:"brand4",brandName:"asus",brandNamePer:"ایسوس",categoryName:"electronics",categoryNamePer:"کالای دیجیتال",categoryId:"category1",subCategoryName:"laptop",subCategoryNamePer:"لپ تاپ",subCategoryId:"category1-subCategory0",english_title:"TUF F15 ASUS",addedToFavorite:!0,images:[u$,uq,r.p+"static/image/3.9b9d7f06.jpg"],description:"<p>توضیحات نمونه برای محصول 4</p>",specifications:null,priceHistory:[{date:"2024-02-01",minPrice:9e5,maxPrice:115e4},{date:"2024-03-01",minPrice:87e4,maxPrice:11e5},{date:"2024-04-01",minPrice:88e4,maxPrice:108e4},{date:"2024-05-01",minPrice:86e4,maxPrice:105e4},{date:"2024-01-01",minPrice:95e4,maxPrice:12e5}]},options:[{id:1,label:"رنگ",slug:"color",type:"color",children:[{id:16,label:"قهوه ای",value:"#332e1d",selected:!0},{id:17,label:"خاکستری",value:"#879996"}]},{id:81,label:"جنس",slug:"material",type:"select",children:[{id:18,label:"فلزی",value:"فلزی",selected:!0},{id:19,label:"پلاستیک",value:"پلاستیک"}]}],combinations:[{id:19,selected:!0,options:[{id:16,value:"#ff00ff",attribute_name:"رنگ",type:"color",attribute_id:1},{id:18,value:"فلزی",attribute_name:"جنس",type:"material",attribute_id:81}],suppliers:[{id:1,name:"دیجی کالا",action:3,deliveryTime:{label:"کمتر از یک هفته",value:"in1week"},shortName:"tuff15k4z8v",images:[],psid:"brand4-category1-subCategory0-item0as0005-c19-s1",payment_type:"Cash",delivery:[{locationName:"Shiraz",locationId:0,locationLabel:"شیراز"},{locationName:"Esfahan",locationId:1,locationLabel:"اصفهان"}],buy_type:"Retail",price:{regularPrice:1e6,discountedPrice:95e4,discountPercent:null,ICPrice:[{ICID:"IC1",label:"usd",name:"دلار آمریکا",amount:10},{ICID:"IC2",label:"AED",name:"دینار امارات",amount:250}]},sku:"SKU-001",stock:10,minOrder:10,maxOrder:94,rating:"4.50",reviews_count:0,reviews:[],selected:!0,special_offer:"1403-12-29"},{id:2,name:"تک اسیا",action:3,deliveryTime:{label:"کمتر از یک هفته",value:"in1week"},shortName:"tuff15k4r8v",images:[],psid:"brand4-category1-subCategory0-item0as0005-c19-s2",payment_type:"Credit",delivery:[{locationName:"Shiraz",locationId:0,locationLabel:"شیراز"},{locationName:"Esfahan",locationId:1,locationLabel:"اصفهان"}],buy_type:"Wholesale",price:{regularPrice:"110.00",discountedPrice:"130.00",discountPercent:null,ICPrice:[{ICID:"IC1",label:"usd",name:"دلار آمریکا",amount:10},{ICID:"IC2",label:"AED",name:"دینار امارات",amount:250}]},sku:"SKU-002",stock:15,minOrder:2,maxOrder:150,rating:"4.80",reviews_count:0,reviews:[]}]},{id:20,options:[{id:16,value:"#ff00ff",attribute_name:"رنگ",type:"color",attribute_id:1},{id:19,value:"پلاستیک",attribute_name:"جنس",type:"material",attribute_id:81}],suppliers:[{id:4,name:"ترب",action:3,deliveryTime:{label:"کمتر از یک هفته",value:"in1week"},shortName:"tuff15k4v8v",images:[],psid:"brand4-category1-subCategory0-item0as0005-c20-s4",payment_type:"Credit",delivery:[{locationName:"Shiraz",locationId:0,locationLabel:"شیراز"},{locationName:"Esfahan",locationId:1,locationLabel:"اصفهان"}],buy_type:"Wholesale",price:{regularPrice:"110.00",discountedPrice:"130.00",discountPercent:null,ICPrice:[{ICID:"IC1",label:"usd",name:"دلار آمریکا",amount:10},{ICID:"IC2",label:"AED",name:"دینار امارات",amount:250}]},sku:"SKU-002",stock:15,minOrder:2,maxOrder:150,rating:"4.80",reviews_count:0,reviews:[]}]},{id:21,options:[{id:17,value:"#ff0000",attribute_name:"رنگ",type:"color",attribute_id:1},{id:18,value:"فلزی",attribute_name:"جنس",type:"material",attribute_id:81}],suppliers:[{id:1,name:"دیجی کالا",action:3,deliveryTime:{label:"کمتر از یک هفته",value:"in1week"},shortName:"tuff15k4m8v",images:[],psid:"brand4-category1-subCategory0-item0as0005-c21-s1",payment_type:"Cash",action:3,deliveryTime:{label:"کمتر از یک هفته",value:"in1week"},delivery:[{locationName:"Shiraz",locationId:0,locationLabel:"شیراز"},{locationName:"Esfahan",locationId:1,locationLabel:"اصفهان"}],buy_type:"Retail",price:{regularPrice:"100.00",discountedPrice:"120.00",discountPercent:null,ICPrice:[{ICID:"IC1",label:"usd",name:"دلار آمریکا",amount:10},{ICID:"IC2",label:"AED",name:"دینار امارات",amount:250}]},sku:"SKU-001",stock:10,minOrder:1,maxOrder:46,rating:"4.50",reviews_count:0,reviews:[]}]}]},{id:"brand1-category0-subCategory1-item1h0000",general:{slug:null,title:"گوشی موبایل آنر مدل مجیک 5 پرو دو سیم‌ کارت",brandId:"brand1",brandName:"honor",brandNamePer:"آنر",categoryName:"phone",categoryNamePer:"موبایل",categoryId:"category0",subCategoryName:"smartphone",subCategoryNamePer:"گوشی هوشمند",subCategoryId:"category0-subCategory1",english_title:"Honor Magic 5 Pro 512GB Green",addedToFavorite:!1,images:["Image1","Image2","Image3"],description:"<p>گوشی هوشمند آنر با امکانات پیشرفته</p>",specifications:null,priceHistory:[{date:"2024-02-01",minPrice:85e4,maxPrice:11e5},{date:"2024-03-01",minPrice:83e4,maxPrice:105e4},{date:"2024-04-01",minPrice:82e4,maxPrice:102e4}]},options:[{id:1,label:"رنگ",slug:"color",type:"color",children:[{id:21,label:"سبز",value:"#008000",selected:!0},{id:22,label:"مشکی",value:"#000000"}]},{id:81,label:"حافظه داخلی",slug:"storage",type:"select",children:[{id:31,label:"256GB",value:"256GB"},{id:32,label:"512GB",value:"512GB",selected:!0}]}],combinations:[{id:51,selected:!0,options:[{id:21,value:"#008000",attribute_name:"رنگ",type:"color",attribute_id:1},{id:32,value:"512GB",attribute_name:"حافظه داخلی",type:"internal_storage",attribute_id:81}],suppliers:[{id:1,name:"دیجی کالا",action:3,deliveryTime:{label:"کمتر از یک هفته",value:"in1week"},psid:"brand1-category0-subCategory1-item1h0000-c51-s1",shortName:"honormagic5prok4z8v",payment_type:"Cash",delivery:[{locationName:"Shiraz",locationId:0,locationLabel:"شیراز"},{locationName:"Esfahan",locationId:1,locationLabel:"اصفهان"}],buy_type:"Retail",price:{regularPrice:1e6,discountedPrice:95e4,discountPercent:null,ICPrice:[{ICID:"IC1",label:"usd",name:"دلار آمریکا",amount:10},{ICID:"IC2",label:"AED",name:"دینار امارات",amount:250}]},sku:"SKU-101",stock:20,minOrder:1,maxOrder:50,rating:"4.70",reviews_count:0,reviews:[],selected:!0,special_offer:"1403-12-29"}]}]},{id:"brand4-category1-subCategory0-item1i0001",general:{slug:null,title:"لپ‌تاپ ایسوس مدل ROG Strix G16",brandId:"brand4",brandName:"asus",brandNamePer:"ایسوس",categoryName:"digital goods",categoryNamePer:"کالای دیجیتال",categoryId:"category1",subCategoryName:"laptop",subCategoryNamePer:"لپ‌تاپ",subCategoryId:"category1-subCategory0",english_title:"ASUS ROG Strix G16 Gaming Laptop",addedToFavorite:!1,images:["Image1","Image2","Image3","Image4","Image5"],description:"<p>یک لپ‌تاپ گیمینگ قدرتمند از ایسوس با پردازنده Core i9 و کارت گرافیک RTX 4070</p>",specifications:null,priceHistory:[{date:"2024-02-01",minPrice:5e7,maxPrice:53e6},{date:"2024-03-01",minPrice:48e6,maxPrice:52e6},{date:"2024-04-01",minPrice:47e6,maxPrice:51e6}]},options:[{id:1,label:"رنگ",slug:"color",type:"color",children:[{id:16,label:"مشکی",value:"#000000",selected:!0},{id:17,label:"نقره‌ای",value:"#C0C0C0"}]},{id:81,label:"حافظه رم",slug:"ram",type:"select",children:[{id:18,label:"16 گیگابایت",value:"16GB",selected:!0},{id:19,label:"32 گیگابایت",value:"32GB"}]}],combinations:[{id:19,selected:!0,options:[{id:16,value:"#000000",attribute_name:"رنگ",type:"color",attribute_id:1},{id:18,value:"16GB",attribute_name:"حافظه رم",type:"ram",attribute_id:81}],suppliers:[{id:1,name:"دیجی کالا",action:3,deliveryTime:{label:"کمتر از یک هفته",value:"in1week"},images:[],shortName:"rogg16k4z8v",psid:"brand4-category1-subCategory0-item1i0001-c19-s1",payment_type:"Cash",delivery:[{locationName:"Shiraz",locationId:0,locationLabel:"شیراز"},{locationName:"Esfahan",locationId:1,locationLabel:"اصفهان"}],buy_type:"Retail",price:{regularPrice:5e7,discountedPrice:48e6,discountPercent:null,ICPrice:[{ICID:"IC1",label:"usd",name:"دلار آمریکا",amount:10},{ICID:"IC2",label:"AED",name:"دینار امارات",amount:250}]},sku:"SKU-1001",stock:5,minOrder:1,maxOrder:10,rating:"4.70",reviews_count:0,reviews:[]}]},{id:20,options:[{id:17,value:"#C0C0C0",attribute_name:"رنگ",type:"color",attribute_id:1},{id:19,value:"32GB",attribute_name:"حافظه رم",type:"ram",attribute_id:81}],suppliers:[{id:2,name:"تک اسیا",action:3,deliveryTime:{label:"کمتر از یک هفته",value:"in1week"},images:[],shortName:"rogg16k4a8v",psid:"brand4-category1-subCategory0-item1i0001-c20-s2",payment_type:"Credit",delivery:[{locationName:"Shiraz",locationId:0,locationLabel:"شیراز"},{locationName:"Esfahan",locationId:1,locationLabel:"اصفهان"}],buy_type:"Wholesale",price:{regularPrice:53e6,discountedPrice:51e6,discountPercent:null,ICPrice:[{ICID:"IC1",label:"usd",name:"دلار آمریکا",amount:10},{ICID:"IC2",label:"AED",name:"دینار امارات",amount:250}]},sku:"SKU-1002",stock:7,minOrder:1,maxOrder:15,rating:"4.80",reviews_count:0,reviews:[]}]}]},{id:"brand3-category3-subCategory0-item2i0002",general:{slug:null,title:"دستبند شیائومی مدل Mi Band 8",brandId:"brand3",brandName:"xiaomi",brandNamePer:"شیائومی",categoryName:"accessory",categoryNamePer:"اکسسوری",categoryId:"category3",subCategoryName:"bracelet",subCategoryNamePer:"دستبند ساده",subCategoryId:"category3-subCategory0",english_title:"Xiaomi Mi Band 8 Smart Bracelet",addedToFavorite:!1,images:["Image1","Image2","Image3","Image4","Image5"],description:"<p>دستبند هوشمند شیائومی Mi Band 8 با قابلیت پایش سلامت و صفحه نمایش AMOLED</p>",specifications:null,priceHistory:[{date:"2024-02-01",minPrice:1e6,maxPrice:12e5},{date:"2024-03-01",minPrice:95e4,maxPrice:115e4},{date:"2024-04-01",minPrice:97e4,maxPrice:11e5}]},options:[{id:1,label:"رنگ",slug:"color",type:"color",children:[{id:16,label:"مشکی",value:"#000000",selected:!0},{id:17,label:"نقره‌ای",value:"#C0C0C0"},{id:18,label:"طلایی",value:"#FFD700"}]},{id:81,label:"نوع بند",slug:"strap_type",type:"select",children:[{id:18,label:"سیلیکونی",value:"silicone",selected:!0},{id:19,label:"فلزی",value:"metal"}]}],combinations:[{id:19,selected:!0,options:[{id:16,value:"#000000",attribute_name:"رنگ",type:"color",attribute_id:1},{id:18,value:"silicone",attribute_name:"نوع بند",type:"br",attribute_id:81}],suppliers:[{id:1,name:"دیجی کالا",action:3,deliveryTime:{label:"کمتر از یک هفته",value:"in1week"},images:[],shortName:"miband8k4z8v",psid:"brand3-category3-subCategory0-item2i0002-c19-s1",payment_type:"Cash",delivery:[{locationName:"Shiraz",locationId:0,locationLabel:"شیراز"},{locationName:"Esfahan",locationId:1,locationLabel:"اصفهان"}],buy_type:"Retail",price:{regularPrice:1e6,discountedPrice:95e4,discountPercent:null,ICPrice:[{ICID:"IC1",label:"usd",name:"دلار آمریکا",amount:10},{ICID:"IC2",label:"AED",name:"دینار امارات",amount:250}]},sku:"SKU-2001",stock:10,minOrder:1,maxOrder:50,rating:"4.50",reviews_count:0,reviews:[]}]},{id:20,options:[{id:17,value:"#C0C0C0",attribute_name:"رنگ",type:"color",attribute_id:1},{id:19,value:"metal",attribute_name:"نوع بند",type:"br",attribute_id:81}],suppliers:[{id:2,name:"تک اسیا",action:3,deliveryTime:{label:"کمتر از یک هفته",value:"in1week"},images:[],shortName:"miband8kqq8v",psid:"brand3-category3-subCategory0-item2i0002-c20-s2",payment_type:"Credit",delivery:[{locationName:"Shiraz",locationId:0,locationLabel:"شیراز"},{locationName:"Esfahan",locationId:1,locationLabel:"اصفهان"}],buy_type:"Wholesale",price:{regularPrice:12e5,discountedPrice:11e5,discountPercent:null,ICPrice:[{ICID:"IC1",label:"usd",name:"دلار آمریکا",amount:10},{ICID:"IC2",label:"AED",name:"دینار امارات",amount:250}]},sku:"SKU-2002",stock:15,minOrder:1,maxOrder:30,rating:"4.70",reviews_count:0,reviews:[]}]}]},{id:"brand3-category0-subCategory1-item3i0003",general:{slug:null,title:"گوشی موبایل شیائومی مدل Redmi Note 12 Pro",brandId:"brand3",brandName:"xiaomi",brandNamePer:"شیائومی",categoryName:"phone",categoryNamePer:"موبایل",categoryId:"category0",subCategoryName:"smartphone",subCategoryNamePer:"گوشی هوشمند",subCategoryId:"category0-subCategory1",english_title:"Xiaomi Redmi Note 12 Pro 256GB",addedToFavorite:!1,images:["Image1","Image2","Image3","Image4","Image5"],description:"<p>گوشی شیائومی ردمی نوت 12 پرو با صفحه نمایش 120 هرتزی و دوربین 108 مگاپیکسلی</p>",specifications:null,priceHistory:[{date:"2024-02-01",minPrice:12e6,maxPrice:14e6},{date:"2024-03-01",minPrice:115e5,maxPrice:135e5},{date:"2024-04-01",minPrice:11e6,maxPrice:13e6}]},options:[{id:1,label:"رنگ",slug:"color",type:"color",children:[{id:16,label:"مشکی",value:"#000000",selected:!0},{id:17,label:"سفید",value:"#FFFFFF"},{id:18,label:"آبی",value:"#0000FF"}]},{id:81,label:"حافظه داخلی",slug:"storage",type:"select",children:[{id:18,label:"128GB",value:"128GB",selected:!0},{id:19,label:"256GB",value:"256GB"}]}],combinations:[{id:19,selected:!0,options:[{id:16,value:"#000000",attribute_name:"رنگ",type:"color",attribute_id:1},{id:18,value:"128GB",attribute_name:"حافظه داخلی",type:"internal_storage",attribute_id:81}],suppliers:[{id:1,name:"دیجی کالا",action:3,deliveryTime:{label:"کمتر از یک هفته",value:"in1week"},images:[],shortName:"xiaominote12prok4z8v",psid:"brand3-category0-subCategory1-item3i0003-c19-s1",payment_type:"Cash",delivery:[{locationName:"Shiraz",locationId:0,locationLabel:"شیراز"},{locationName:"Esfahan",locationId:1,locationLabel:"اصفهان"}],buy_type:"Retail",price:{regularPrice:12e6,discountedPrice:115e5,discountPercent:null,ICPrice:[{ICID:"IC1",label:"usd",name:"دلار آمریکا",amount:10},{ICID:"IC2",label:"AED",name:"دینار امارات",amount:250}]},sku:"SKU-3001",stock:10,minOrder:1,maxOrder:50,rating:"4.50",reviews_count:0,reviews:[]}]},{id:20,options:[{id:17,value:"#FFFFFF",attribute_name:"رنگ",type:"color",attribute_id:1},{id:19,value:"256GB",attribute_name:"حافظه داخلی",type:"internal_storage",attribute_id:81}],suppliers:[{id:2,name:"تک اسیا",action:3,deliveryTime:{label:"کمتر از یک هفته",value:"in1week"},images:[],shortName:"xiaominote12prok1z8v",psid:"brand3-category0-subCategory1-item3i0003-c20-s2",payment_type:"Credit",delivery:[{locationName:"Shiraz",locationId:0,locationLabel:"شیراز"},{locationName:"Esfahan",locationId:1,locationLabel:"اصفهان"}],buy_type:"Wholesale",price:{regularPrice:14e6,discountedPrice:13e6,discountPercent:null,ICPrice:[{ICID:"IC1",label:"usd",name:"دلار آمریکا",amount:10},{ICID:"IC2",label:"AED",name:"دینار امارات",amount:250}]},sku:"SKU-3002",stock:15,minOrder:1,maxOrder:30,rating:"4.70",reviews_count:0,reviews:[]}]}]},{id:"brand0-category0-subCategory1-item0i0006",general:{slug:null,title:"گوشی موبایل اپل مدل آیفون 13 پرو 256 گیگابایت",brandId:"brand0",brandName:"apple",brandNamePer:"اپل",categoryName:"phone",categoryNamePer:"موبایل",categoryId:"category0",subCategoryName:"smartphone",subCategoryNamePer:"گوشی هوشمند",subCategoryId:"category0-subCategory1",english_title:"iphone 13 pro 256gb",addedToFavorite:!1,images:["https://example.com/images/iphone13_pro_1.jpg","https://example.com/images/iphone13_pro_2.jpg","https://example.com/images/iphone13_pro_3.jpg"],description:"<p>گوشی موبایل اپل مدل آیفون 13 پرو با حافظه 256 گیگابایت و رنگ مشکی. این مدل از بهترین ویژگی‌های دوربین و نمایشگر برخوردار است.</p>",specifications:{display:"6.1 inch OLED",processor:"A15 Bionic",battery:"3095 mAh",camera:"12 MP (wide), 12 MP (ultra-wide), 12 MP (telephoto)"},priceHistory:[{date:"2024-02-01",minPrice:2e6,maxPrice:23e5},{date:"2024-03-01",minPrice:19e5,maxPrice:22e5}]},options:[{id:1,label:"رنگ",slug:"color",type:"color",children:[{id:16,label:"مشکی",value:"#000000",selected:!0},{id:17,label:"نقره‌ای",value:"#c0c0c0"}]},{id:81,label:"جنس",slug:"material",type:"select",children:[{id:18,label:"فلزی",value:"فلزی",selected:!0},{id:19,label:"پلاستیک",value:"پلاستیک"}]}],combinations:[{id:19,selected:!0,options:[{id:16,value:"#000000",attribute_name:"رنگ",type:"color",attribute_id:1},{id:18,value:"فلزی",attribute_name:"جنس",type:"material",attribute_id:81}],suppliers:[{id:1,name:"دیجی کالا",action:3,shortName:"apple13prok4z8v",deliveryTime:{label:"کمتر از یک هفته",value:"in1week"},images:[],psid:"brand0-category0-subCategory1-item0i0006-c19-s1",payment_type:"Cash",delivery:[{locationName:"Shiraz",locationId:0,locationLabel:"شیراز"},{locationName:"Esfahan",locationId:1,locationLabel:"اصفهان"}],buy_type:"Retail",price:{regularPrice:22e5,discountedPrice:21e5,discountPercent:5,ICPrice:[{ICID:"IC1",label:"usd",name:"دلار آمریکا",amount:10},{ICID:"IC2",label:"AED",name:"دینار امارات",amount:250}]},sku:"SKU-003",stock:15,minOrder:1,maxOrder:50,rating:"4.80",reviews_count:5,reviews:[],selected:!0}]},{id:20,options:[{id:17,value:"#c0c0c0",attribute_name:"رنگ",type:"color",attribute_id:1},{id:19,value:"پلاستیک",attribute_name:"جنس",type:"material",attribute_id:81}],suppliers:[{id:2,name:"تک اسیا",action:3,deliveryTime:{label:"کمتر از یک هفته",value:"in1week"},images:[],shortName:"apple13prokaz8v",psid:"brand0-category0-subCategory1-item0i0006-c20-s2",payment_type:"Credit",delivery:[{locationName:"Shiraz",locationId:0,locationLabel:"شیراز"},{locationName:"Esfahan",locationId:1,locationLabel:"اصفهان"}],buy_type:"Wholesale",price:{regularPrice:22e5,discountedPrice:21e5,discountPercent:5,ICPrice:[{ICID:"IC1",label:"usd",name:"دلار آمریکا",amount:10},{ICID:"IC2",label:"AED",name:"دینار امارات",amount:250}]},sku:"SKU-004",stock:20,minOrder:2,maxOrder:100,rating:"4.60",reviews_count:4,reviews:[]}]}]},{id:"brand0-category2-subCategory0-item0i0007",general:{slug:null,title:"جارو برقی اپل مدل A1234",brandId:"brand0",brandName:"apple",brandNamePer:"اپل",categoryName:"electricalappliances",categoryNamePer:"لوازم برقی",categoryId:"category2",subCategoryName:"vacuum",subCategoryNamePer:"جارو برقی",subCategoryId:"category2-subCategory0",english_title:"apple vacuum cleaner A1234",addedToFavorite:!1,images:["https://example.com/images/apple_vacuum_1.jpg","https://example.com/images/apple_vacuum_2.jpg","https://example.com/images/apple_vacuum_3.jpg"],description:"<p>جارو برقی اپل مدل A1234 با قابلیت مکش قوی و طراحی زیبا. این مدل برای استفاده در خانه‌های مدرن مناسب است.</p>",specifications:{power:"2000W",capacity:"3L",weight:"5kg",color:"Silver"},priceHistory:[{date:"2024-02-01",minPrice:3e6,maxPrice:35e5},{date:"2024-03-01",minPrice:29e5,maxPrice:34e5}]},options:[{id:1,label:"رنگ",slug:"color",type:"color",children:[{id:16,label:"نقره‌ای",value:"#c0c0c0",selected:!0},{id:17,label:"مشکی",value:"#000000"}]},{id:81,label:"جنس",slug:"material",type:"select",children:[{id:18,label:"فلزی",value:"فلزی",selected:!0},{id:19,label:"پلاستیک",value:"پلاستیک"}]}],combinations:[{id:19,selected:!0,options:[{id:16,value:"#c0c0c0",attribute_name:"رنگ",type:"color",attribute_id:1},{id:18,value:"فلزی",attribute_name:"جنس",type:"material",attribute_id:81}],suppliers:[{id:7,name:"ادبازار",action:3,deliveryTime:{label:"کمتر از یک هفته",value:"in1week"},images:[],shortName:"applea1234k4z8v",psid:"brand0-category2-subCategory0-item0i0007-c19-s7",payment_type:"Cash",delivery:[{locationName:"Shiraz",locationId:0,locationLabel:"شیراز"},{locationName:"Esfahan",locationId:1,locationLabel:"اصفهان"}],buy_type:"Retail",price:{regularPrice:34e5,discountedPrice:32e5,discountPercent:5,ICPrice:[{ICID:"IC1",label:"usd",name:"دلار آمریکا",amount:10},{ICID:"IC2",label:"AED",name:"دینار امارات",amount:250}]},sku:"SKU-005",stock:30,minOrder:1,maxOrder:50,rating:"4.80",reviews_count:3,reviews:[],selected:!0},{id:8,name:"کالا 118",action:3,deliveryTime:{label:"کمتر از یک هفته",value:"in1week"},images:[],shortName:"applea1234k4r8v",psid:"brand0-category2-subCategory0-item0i0007-c19-s8",payment_type:"Credit",delivery:[{locationName:"Shiraz",locationId:0,locationLabel:"شیراز"},{locationName:"Esfahan",locationId:1,locationLabel:"اصفهان"}],buy_type:"Wholesale",price:{regularPrice:35e5,discountedPrice:33e5,discountPercent:5,ICPrice:[{ICID:"IC1",label:"usd",name:"دلار آمریکا",amount:10},{ICID:"IC2",label:"AED",name:"دینار امارات",amount:250}]},sku:"SKU-006",stock:20,minOrder:2,maxOrder:100,rating:"4.70",reviews_count:2,reviews:[]},{id:9,name:"مشهد کالا",action:3,deliveryTime:{label:"کمتر از یک هفته",value:"in1week"},images:[],shortName:"applea1234k4z81",psid:"brand0-category2-subCategory0-item0i0007-c19-s9",payment_type:"Cash",delivery:[{locationName:"Shiraz",locationId:0,locationLabel:"شیراز"},{locationName:"Esfahan",locationId:1,locationLabel:"اصفهان"}],buy_type:"Retail",price:{regularPrice:33e5,discountedPrice:31e5,discountPercent:5,ICPrice:[{ICID:"IC1",label:"usd",name:"دلار آمریکا",amount:10},{ICID:"IC2",label:"AED",name:"دینار امارات",amount:250}]},sku:"SKU-007",stock:25,minOrder:1,maxOrder:70,rating:"4.90",reviews_count:5,reviews:[]}]}]},{id:"brand4-category2-subCategory0-item343a323",general:{slug:null,title:"لوازم برقی ایسوس مدل ABC1234",brandId:"brand4",brandName:"asus",brandNamePer:"ایسوس",categoryName:"electricalappliances",categoryNamePer:"لوازم برقی",categoryId:"category2",subCategoryName:"vacuum",subCategoryNamePer:"جارو برقی",subCategoryId:"category2-subCategory0",english_title:"Asus Vacuum Cleaner ABC1234",addedToFavorite:!1,images:["https://example.com/images/asus_vacuum_1.jpg","https://example.com/images/asus_vacuum_2.jpg","https://example.com/images/asus_vacuum_3.jpg"],description:"<p>جارو برقی ایسوس مدل ABC1234 با قدرت مکش بالا و طراحی مدرن.</p>",specifications:{power:"2500W",capacity:"4L",weight:"6kg",color:"Black"},priceHistory:[{date:"2024-02-01",minPrice:4e6,maxPrice:45e5},{date:"2024-03-01",minPrice:39e5,maxPrice:44e5}]},options:[{id:1,label:"رنگ",slug:"color",type:"color",children:[{id:16,label:"مشکی",value:"#000000",selected:!0},{id:17,label:"سفید",value:"#FFFFFF"}]}],combinations:[{id:19,selected:!0,options:[{id:16,value:"#000000",attribute_name:"رنگ",type:"color",attribute_id:1}],suppliers:[{id:7,name:"ادبازار",action:3,deliveryTime:{label:"کمتر از یک هفته",value:"in1week"},images:[],shortName:"asusabc1234k4z8v",psid:"brand4-category2-subCategory0-item343a323-c19-s7",payment_type:"Cash",delivery:[{locationName:"Shiraz",locationId:0,locationLabel:"شیراز"},{locationName:"Esfahan",locationId:1,locationLabel:"اصفهان"}],buy_type:"Retail",price:{regularPrice:42e5,discountedPrice:4e6,discountPercent:5,ICPrice:[{ICID:"IC1",label:"usd",name:"دلار آمریکا",amount:10},{ICID:"IC2",label:"AED",name:"دینار امارات",amount:250}]},sku:"SKU-010",stock:30,minOrder:1,maxOrder:50,rating:"4.80",reviews_count:5,reviews:[]}]}]},{id:"brand5-category1-subCategory0-item6f4d3c9",general:{slug:null,title:"هدفون با سیم بیتس مدل XYZ123",brandId:"brand5",brandName:"beats",brandNamePer:"بیتس",categoryName:"electronics",categoryNamePer:"کالای دیجیتال",categoryId:"category1",subCategoryName:"headphone",subCategoryNamePer:"هدفون با سیم",subCategoryId:"category1-subCategory0",english_title:"Beats Wired Headphone XYZ123",addedToFavorite:!1,images:["https://example.com/images/beats_headphone_1.jpg","https://example.com/images/beats_headphone_2.jpg","https://example.com/images/beats_headphone_3.jpg"],description:"<p>هدفون با سیم بیتس مدل XYZ123 با کیفیت صدای عالی و طراحی راحت.</p>",specifications:{driver_size:"40mm",frequency_response:"20Hz - 20kHz",impedance:"32Ω",weight:"250g",color:"Red"},priceHistory:[{date:"2024-02-01",minPrice:25e5,maxPrice:27e5},{date:"2024-03-01",minPrice:24e5,maxPrice:26e5}]},options:[{id:1,label:"رنگ",slug:"color",type:"color",children:[{id:16,label:"قرمز",value:"#FF0000",selected:!0},{id:17,label:"سیاه",value:"#000000"}]}],combinations:[{id:19,selected:!0,options:[{id:16,value:"#FF0000",attribute_name:"رنگ",type:"color",attribute_id:1}],suppliers:[{id:7,name:"ادبازار",action:3,deliveryTime:{label:"کمتر از 1 روز",value:"in1day"},images:[],shortName:"beatsxyz1234k4z8v",psid:"brand5-category1-subCategory0-item6f4d3c9-c19-s7",payment_type:"Cash",delivery:[{locationName:"Shiraz",locationId:0,locationLabel:"شیراز"},{locationName:"Esfahan",locationId:1,locationLabel:"اصفهان"}],buy_type:"Retail",price:{regularPrice:25e5,discountedPrice:24e5,discountPercent:4,ICPrice:[{ICID:"IC1",label:"usd",name:"دلار آمریکا",amount:10},{ICID:"IC2",label:"AED",name:"دینار امارات",amount:250}]},sku:"SKU-011",stock:50,minOrder:1,maxOrder:100,rating:"4.75",reviews_count:8,reviews:[]}]}]},{id:"brand6-category2-subCategory0-item9a2b1d4",general:{slug:null,title:"تلویزیون ساده ال جی مدل ABC123",brandId:"brand6",brandName:"lg",brandNamePer:"ال جی",categoryName:"electricalappliances",categoryNamePer:"لوازم برقی",categoryId:"category2",subCategoryName:"tv",subCategoryNamePer:"تلویزیون ساده",subCategoryId:"category2-subCategory0",english_title:"LG Simple TV Model ABC123",addedToFavorite:!1,images:["https://example.com/images/lg_tv_1.jpg","https://example.com/images/lg_tv_2.jpg","https://example.com/images/lg_tv_3.jpg"],description:"<p>تلویزیون ساده ال جی مدل ABC123 با کیفیت تصویر عالی و طراحی شیک.</p>",specifications:{screen_size:"43 inches",resolution:"Full HD",hdmi_ports:"3",weight:"7kg",color:"Black"},priceHistory:[{date:"2024-01-01",minPrice:12e6,maxPrice:13e6},{date:"2024-03-01",minPrice:115e5,maxPrice:125e5}]},options:[{id:1,label:"رنگ",slug:"color",type:"color",children:[{id:16,label:"مشکی",value:"#000000",selected:!0},{id:17,label:"سفید",value:"#FFFFFF"}]}],combinations:[{id:19,selected:!0,options:[{id:16,value:"#000000",attribute_name:"رنگ",type:"color",attribute_id:1}],suppliers:[{id:8,name:"خانه بازار",action:3,deliveryTime:{label:"کمتر از یک هفته",value:"in1week"},images:[],shortName:"lgabc123k4z8v",psid:"brand6-category2-subCategory0-item9a2b1d4-c19-s8",payment_type:"Cash",delivery:[{locationName:"Shiraz",locationId:0,locationLabel:"شیراز"},{locationName:"Esfahan",locationId:1,locationLabel:"اصفهان"}],buy_type:"Retail",price:{regularPrice:12e6,discountedPrice:115e5,discountPercent:4.17,ICPrice:[{ICID:"IC1",label:"usd",name:"دلار آمریکا",amount:10},{ICID:"IC2",label:"AED",name:"دینار امارات",amount:250}]},sku:"SKU-022",stock:30,minOrder:1,maxOrder:100,rating:"4.50",reviews_count:12,reviews:[]}]}]},{id:"brand4-category4-subCategory0-item3a8c0f1",general:{slug:null,title:"میز تلویزیون ایسوس مدل XYZ123",brandId:"brand4",brandName:"asus",brandNamePer:"ایسوس",categoryName:"misc",categoryNamePer:"سایر کالاها",categoryId:"category4",subCategoryName:"tvtable",subCategoryNamePer:"میز تلویزیون",subCategoryId:"category4-subCategory0",english_title:"Asus TV Table Model XYZ123",addedToFavorite:!1,images:["https://example.com/images/asus_tvtable_1.jpg","https://example.com/images/asus_tvtable_2.jpg","https://example.com/images/asus_tvtable_3.jpg"],description:"<p>میز تلویزیون ایسوس مدل XYZ123 با طراحی مدرن و کیفیت ساخت عالی.</p>",specifications:{material:"Wood",color:"Brown",dimensions:"120x40x45 cm",weight:"15kg"},priceHistory:[{date:"2024-01-01",minPrice:25e5,maxPrice:27e5},{date:"2024-03-01",minPrice:245e4,maxPrice:265e4}]},options:[{id:1,label:"رنگ",slug:"color",type:"color",children:[{id:16,label:"قهوه ای",value:"#8B4513",selected:!0},{id:17,label:"مشکی",value:"#000000"}]}],combinations:[{id:20,selected:!0,options:[{id:16,value:"#8B4513",attribute_name:"رنگ",type:"color",attribute_id:1}],suppliers:[{id:9,name:"بازار آنلاین",action:3,shortName:"asusxyz123k4z8v",deliveryTime:{label:"کمتر از 1 روز",value:"in1day"},images:[],psid:"brand4-category4-subCategory0-item3a8c0f1-c20-s9",payment_type:"Cash",delivery:[{locationName:"Shiraz",locationId:0,locationLabel:"شیراز"},{locationName:"Esfahan",locationId:1,locationLabel:"اصفهان"}],buy_type:"Retail",price:{regularPrice:25e5,discountedPrice:245e4,discountPercent:2,ICPrice:[{ICID:"IC1",label:"usd",name:"دلار آمریکا",amount:10},{ICID:"IC2",label:"AED",name:"دینار امارات",amount:250}]},sku:"SKU-023",stock:50,minOrder:1,maxOrder:100,rating:"4.75",reviews_count:8,reviews:[]}]}]}],uV=(0,_.hg)("singleProducts/batchImport",async(e,t)=>{let{singleProducts:r}=e,{rejectWithValue:a}=t;try{let e=await fetch(et("/master-dash/singleproducts/batch-import"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({singleProducts:r})});if(!e.ok){let t=await e.json().catch(()=>({}));return a((null==t?void 0:t.message)||"Failed to batch import single products")}return await e.json()}catch(e){return console.error("Network error:",e),a("Network error or server not responding")}}),uH=e=>{let{productId:t=125,seller:r=3,onChange:i,options:l={t:""},productName:s="",productImages:n="",item:o,formData:d}=e,{loadingBrandModeUpdate:c,brandModeUpdate:u,errorBrandModeUpdate:g,successMessageBrandModeUpdate:h}=(0,m.v9)(e=>e.fastEditBrandMode),x=(0,m.I0)(),[b,f]=(0,p.useState)(!1);return b?(0,a.jsx)(si.M,{children:(0,a.jsx)(nS.f,{})}):(0,a.jsx)(a.Fragment,{children:b?(0,a.jsx)(si.M,{children:(0,a.jsx)(A.a,{})}):(0,a.jsx)(z.z,{h:35,onClick:()=>{let e=Object.keys(d).find(e=>e===o.psid),t=e?d[e]:null;f(!0),x(i0({updateData:t,itemId:o.psid})),setTimeout(()=>{f(!1)},2e3)},children:"ادیت"})})},uG=e=>{var t;let{item:r,columns:i,selectedNodes:l,visibleColumns:s,formData:n,setFormData:o,availableLocations:d=[],filterValues:c,filters_category_mode:u}=e,m=()=>{},p=(null==l?void 0:l[r.id])||r,h=null==(t=i.filter(e=>!s.includes(e.key))[0])?void 0:t.key,x=(e,t,r)=>{o(a=>{let i=structuredClone(a[e]||{}),l=t.split("."),s=i;for(let e=0;e<l.length-1;e++){let t=l[e];s[t]||(s[t]="ICPrice"===t?[]:{}),s=s[t]}let n=l[l.length-1];if("ICPrice"===l[l.length-2]){let t=s.findIndex(e=>e.label===n);if(-1!==t){let e=s[t];s[t]={...e,amount:r}}else{var o,d,c;let t=null==(c=a[e])||null==(d=c.price)||null==(o=d.ICPrice)?void 0:o.find(e=>e.label===n);s.push({ICID:(null==t?void 0:t.ICID)??"default_id",label:n,name:(null==t?void 0:t.name)??"Unknown",amount:r})}}else s[n]=r;return{...a,[e]:i}})};return(0,a.jsx)(cn.X2,{item:r,className:"items-center justify-center",style:{width:"100%",tableLayout:"auto"},children:i.map((e,t)=>{var i,l,o,u,b,f,y,j,v,C,w,k,S,I,z,N,D,A,F;let M;if(s.includes(e.key))return null;switch(e.key){case"image":M=r.nodes?(0,a.jsx)(sl.E,{src:r.image,w:50,h:50}):"";break;case"name":M=(0,a.jsx)(g.OL,{to:`/product/${r.id}`,className:"text-md md:text-sm text-blue-500 hover:text-red-700 transition-colors duration-200",children:(0,a.jsx)(se.x,{style:{fontSize:"10px",minWidth:"80px",display:"inline-block",whiteSpace:"normal",wordWrap:"break-word",overflow:"hidden",textOverflow:"ellipsis"},children:r.name})});break;case"shortName":M=(0,a.jsx)(se.x,{style:{fontSize:"10px",minWidth:"80px",display:"inline-block",whiteSpace:"normal",wordWrap:"break-word",overflow:"hidden",textOverflow:"ellipsis"},children:r.shortName});break;case"psid":M=(0,a.jsx)(se.x,{style:{fontSize:"10px",minWidth:"80px",display:"inline-block",whiteSpace:"normal",wordWrap:"break-word",overflow:"hidden",textOverflow:"ellipsis"},children:r.psid});break;case"attributes":M=(0,a.jsx)(cg,{items:r.attributes});break;case"price":M=(0,a.jsx)("input",{type:"number",value:"number"==typeof(null==(l=n[null==r?void 0:r.psid])||null==(i=l.price)?void 0:i.regularPrice)?null==(u=n[null==r?void 0:r.psid])||null==(o=u.price)?void 0:o.regularPrice:0,min:"0",onChange:e=>{let t=Math.max(0,Number(e.target.value)||0);x(r.psid,"price.regularPrice",t)},style:{fontSize:"12px",minWidth:"80px",width:"100%",padding:"6px 8px",textAlign:"center",border:"1px solid #ccc",borderRadius:"6px",backgroundColor:"#fff",boxShadow:"inset 0 1px 3px rgba(0,0,0,0.1)",outline:"none",transition:"border-color 0.2s, box-shadow 0.2s"},onFocus:e=>e.target.style.borderColor="#007BFF",onBlur:e=>e.target.style.borderColor="#ccc"});break;case"ICPrice_usd":let P=(null==(y=n[null==r?void 0:r.psid])||null==(f=y.price)||null==(b=f.ICPrice)?void 0:b.find(e=>"usd"===e.label))||{amount:0};M=(0,a.jsx)("input",{type:"number",value:P.amount,min:"0",onChange:e=>{let t=Math.max(0,Number(e.target.value)||0);x(r.psid,"price.ICPrice.usd",t)},style:{fontSize:"12px",minWidth:"80px",width:"100%",padding:"6px 8px",textAlign:"center",border:"1px solid #ccc",borderRadius:"6px",backgroundColor:"#fff",boxShadow:"inset 0 1px 3px rgba(0,0,0,0.1)",outline:"none",transition:"border-color 0.2s, box-shadow 0.2s"}});break;case"ICPrice_AED":let E=(null==(C=n[null==r?void 0:r.psid])||null==(v=C.price)||null==(j=v.ICPrice)?void 0:j.find(e=>"AED"===e.label))||{amount:0};M=(0,a.jsx)("input",{type:"number",value:E.amount,min:"0",onChange:e=>{let t=Math.max(0,Number(e.target.value)||0);x(r.psid,"price.ICPrice.AED",t)},style:{fontSize:"12px",minWidth:"80px",width:"100%",padding:"6px 8px",textAlign:"center",border:"1px solid #ccc",borderRadius:"6px",backgroundColor:"#fff",boxShadow:"inset 0 1px 3px rgba(0,0,0,0.1)",outline:"none",transition:"border-color 0.2s, box-shadow 0.2s"}});break;case"discount":M=(0,a.jsx)("input",{type:"number",value:(null==(w=n[r.psid])?void 0:w.price.discountedPrice)??0,min:"0",onChange:e=>{let t=Math.max(0,Number(e.target.value)||0);x(r.psid,"price.discountedPrice",t)},style:{fontSize:"12px",minWidth:"80px",width:"100%",padding:"6px 8px",textAlign:"center",border:"1px solid #ccc",borderRadius:"6px",backgroundColor:"#fff",boxShadow:"inset 0 1px 3px rgba(0,0,0,0.1)",outline:"none",transition:"border-color 0.2s, box-shadow 0.2s"},onFocus:e=>e.target.style.borderColor="#007BFF",onBlur:e=>e.target.style.borderColor="#ccc"});break;case"stock":M=(0,a.jsx)("input",{type:"number",value:(null==(k=n[r.psid])?void 0:k.stock)??0,min:"0",onChange:e=>{let t=Math.max(0,Number(e.target.value)||0);x(r.psid,"stock",t)},style:{fontSize:"12px",minWidth:"80px",width:"100%",padding:"6px 8px",textAlign:"center",border:"1px solid #ccc",borderRadius:"6px",backgroundColor:"#fff",boxShadow:"inset 0 1px 3px rgba(0,0,0,0.1)",outline:"none",transition:"border-color 0.2s, box-shadow 0.2s"},onFocus:e=>e.target.style.borderColor="#007BFF",onBlur:e=>e.target.style.borderColor="#ccc"});break;case"minOrder":M=(0,a.jsx)("input",{type:"number",value:(null==(S=n[r.psid])?void 0:S.minOrder)??0,min:"0",onChange:e=>{let t=Math.max(0,Number(e.target.value)||0);x(r.psid,"minOrder",t)},style:{fontSize:"12px",minWidth:"80px",width:"100%",padding:"6px 8px",textAlign:"center",border:"1px solid #ccc",borderRadius:"6px",backgroundColor:"#fff",boxShadow:"inset 0 1px 3px rgba(0,0,0,0.1)",outline:"none",transition:"border-color 0.2s, box-shadow 0.2s"},onFocus:e=>e.target.style.borderColor="#007BFF",onBlur:e=>e.target.style.borderColor="#ccc"});break;case"maxOrder":M=(0,a.jsx)("input",{type:"number",value:(null==(I=n[r.psid])?void 0:I.maxOrder)??0,min:"0",onChange:e=>{let t=Math.max(0,Number(e.target.value)||0);x(r.psid,"maxOrder",t)},style:{fontSize:"12px",minWidth:"80px",width:"100%",padding:"6px 8px",textAlign:"center",border:"1px solid #ccc",borderRadius:"6px",backgroundColor:"#fff",boxShadow:"inset 0 1px 3px rgba(0,0,0,0.1)",outline:"none",transition:"border-color 0.2s, box-shadow 0.2s"},onFocus:e=>e.target.style.borderColor="#007BFF",onBlur:e=>e.target.style.borderColor="#ccc"});break;case"seller":M=(0,a.jsxs)(sh.Z,{gap:3,align:"center",children:[(0,a.jsx)(T.e,{size:"sm",className:"text-blue-500 hover:text-red-700 transition-colors duration-200",component:g.OL,to:`/seller/${r.seller.id}`,children:r.seller.label}),(0,a.jsx)(sZ.k,{size:16,variant:"transparent",children:(0,a.jsx)(sb.IconUserCircle,{})})]});break;case"deliveryTime":M=(0,a.jsx)("select",{value:(null==(z=n[r.psid])?void 0:z.deliveryTime)||(null==c||null==(D=c.deliveryTime)||null==(N=D[0])?void 0:N.value)||"Cash",onChange:e=>x(r.psid,"deliveryTime",e.target.value),style:{fontSize:"12px",minWidth:"80px",width:"100%",padding:"6px 8px",textAlign:"center",border:"1px solid #ccc",borderRadius:"6px",backgroundColor:"#fff",boxShadow:"inset 0 1px 3px rgba(0,0,0,0.1)",outline:"none",transition:"border-color 0.2s, box-shadow 0.2s"},onFocus:e=>e.target.style.borderColor="#007BFF",onBlur:e=>e.target.style.borderColor="#ccc",children:(null==c||null==(A=c.deliveryTime)?void 0:A.length)>0?c.deliveryTime.map(e=>(0,a.jsx)("option",{value:e.value,children:e.label},e._id)):(0,a.jsx)("option",{disabled:!0,children:"گزینه‌ای یافت نشد"})});break;case"payment_type":M=(0,a.jsxs)("select",{value:(null==(F=n[r.psid])?void 0:F.payment_type)??"Cash",onChange:e=>x(r.psid,"payment_type",e.target.value),style:{fontSize:"12px",minWidth:"80px",width:"100%",padding:"6px 8px",textAlign:"center",border:"1px solid #ccc",borderRadius:"6px",backgroundColor:"#fff",boxShadow:"inset 0 1px 3px rgba(0,0,0,0.1)",outline:"none",transition:"border-color 0.2s, box-shadow 0.2s"},onFocus:e=>e.target.style.borderColor="#007BFF",onBlur:e=>e.target.style.borderColor="#ccc",children:[(0,a.jsx)("option",{value:"Cash",children:"نقدی"}),(0,a.jsx)("option",{value:"Credit",children:"غیر نقدی"})]});break;case"delivery":M=(0,a.jsx)("div",{style:{maxHeight:"120px",overflowY:"auto",border:"1px solid #ccc",borderRadius:"6px",padding:"6px 8px",backgroundColor:"#fff",boxShadow:"inset 0 1px 3px rgba(0,0,0,0.1)"},children:null==d?void 0:d.map(e=>{var t;return(0,a.jsxs)("label",{style:{display:"block",fontSize:"12px",padding:"4px 0"},children:[(0,a.jsx)("input",{type:"checkbox",checked:Array.isArray(null==(t=n[r.psid])?void 0:t.delivery)?n[r.psid].delivery.some(t=>t.locationName===e.locationName):!!Array.isArray(r.delivery)&&r.delivery.some(t=>t.locationName===e.locationName),onChange:t=>{var a;let i=Array.isArray(null==(a=n[r.psid])?void 0:a.delivery)?n[r.psid].delivery:Array.isArray(r.delivery)?r.delivery:[],l=t.target.checked?[...i,e]:i.filter(t=>t.locationName!==e.locationName);x(r.psid,"delivery",l)},style:{marginRight:"6px"}}),e.locationLabel]},e.locationId)})});break;case"action":M=(0,a.jsx)(uH,{text:"انتخاب",withButton:!0,style:{minWidth:"50px"},item:r,formData:n,onChange:()=>handleReplaceNode(p),onClick:m},r.psid);break;default:M=""}return e.key===h&&r.nodes?(cc.r4,e.key):cn.bL,(0,a.jsx)(cn.bL,{style:{minWidth:"100px",maxWidth:"200px",textAlign:"center",wordBreak:"break-word",whiteSpace:"normal",overflow:"hidden",textOverflow:"ellipsis"},children:M},t)})})},uX=e=>{let{nodes:t,setNodes:r,COLUMNS:i,filterValues:l,availableLocations:s,type:n,setVisibleColumns:o,visibleColumns:d,filters_category_mode:c,icPriceKeys:u,isPortrait:m,isLandscape:g}=e;if(!t||0===t.length)return null;let h=(0,sq.a)("(max-width: 768px)"),x=(0,sq.a)("(max-width: 1024px)"),b=cu(),{primaryColor:f}=(0,sE.rZ)(),[y,j]=(0,p.useState)({});(0,p.useEffect)(()=>{let e=[];e=h?["image","minOrder","deliveryTime","discount","attributes","psid","minOrder","maxOrder","seller","deliveryTime","payment_type","delivery","psid"]:x?["image","maxOrder","deliveryTime","stock","minOrder"]:["image","deliveryTime","discount","minOrder","maxOrder","seller","delivery"],b&&(e=["image","stock","minOrder","deliveryTime"]),u&&u.length>0&&(e=[...e,...u]),o(e)},[h,x,m,g,b,u]),(0,p.useEffect)(()=>{let e=function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.forEach(t=>{var a,i,l,s;r[t.psid]={price:{regularPrice:(null==(a=t.price)?void 0:a.regularPrice)??0,discountedPrice:(null==(i=t.price)?void 0:i.discountedPrice)??0,discountPercent:(null==(l=t.price)?void 0:l.discountPercent)??null,ICPrice:Array.isArray(null==(s=t.price)?void 0:s.ICPrice)?t.price.ICPrice.map(e=>({ICID:e.ICID??"default_id",label:e.label??"unknown",name:e.name??"Unknown",amount:e.amount??0})):[]},stock:t.stock??0,minOrder:t.minOrder??0,maxOrder:t.maxOrder??0,priceLabel:c.priceFormat,deliveryTime:{label:(null==t?void 0:t.deliveryTime.label)??"کمتر از یک روز",value:(null==t?void 0:t.deliveryTime.value)??"in1day"},delivery:Array.isArray(t.delivery)?t.delivery:[],payment_type:t.payment_type||""},t.nodes&&t.nodes.length>0&&e(t.nodes,r)}),r};j(e(t))},[t]);let v=(0,cc.ZT)({nodes:t||[]},{},{treeIcon:{iconRight:b?null:(0,a.jsx)(sb.IconChevronLeft,{}),iconDown:b?null:(0,a.jsx)(sb.IconChevronDown,{})}}),C=(0,cd.gh)(cd.WN),w=(0,co.u)(C);return(0,a.jsx)(sa.x,{style:{overflowX:"auto",width:"100%",maxWidth:"100%",WebkitOverflowScrolling:"touch",whiteSpace:"nowrap"},children:(0,a.jsx)("div",{style:{minWidth:`${h&&g?500:h&&m?800:120*i.length}px`,overflowX:"auto"},children:(0,a.jsx)(cn.iA,{data:{nodes:t},theme:w,tree:v,layout:{isDiv:!0,fixedHeader:!0},style:{width:"100%",tableLayout:"auto"},children:e=>(0,a.jsxs)(a.Fragment,{children:["head"===n?(0,a.jsx)(cn.h4,{}):(0,a.jsx)(sa.x,{className:"hidden",children:(0,a.jsx)(cn.h4,{children:(0,a.jsx)(cn.VJ,{children:i.map(e=>(0,a.jsxs)(cn.qN,{style:{fontSize:h?"10px":"12px",minWidth:"120px",maxWidth:"200px",textAlign:"center",whiteSpace:"normal",wordBreak:"break-word"},hide:d.includes(e.key),children:[e.label,"price"===e.key&&"million"===c.priceFormat&&(0,a.jsx)(se.x,{size:"sm",style:{marginTop:"5px"},children:"میلیون تومان"}),"price"===e.key&&"hezar"===c.priceFormat&&(0,a.jsx)(se.x,{size:"sm",style:{marginTop:"5px"},children:"هزار تومان"})]},e.key))})})}),"head"===n?null:(0,a.jsxs)(cn.uT,{children:[(0,a.jsx)(cn.VJ,{children:i.map(e=>(0,a.jsxs)(cn.qN,{style:{fontSize:h?"10px":"12px",minWidth:"120px",maxWidth:"200px",textAlign:"center",whiteSpace:"normal",wordBreak:"break-word"},hide:d.includes(e.key),children:[e.label,"price"===e.key&&"million"===c.priceFormat&&(0,a.jsx)(se.x,{style:{marginTop:"5px",fontSize:"8px"},children:"میلیون تومان"}),"price"===e.key&&"hezar"===c.priceFormat&&(0,a.jsx)(se.x,{style:{marginTop:"5px",fontSize:"8px"},children:"هزار تومان"})]},e.key))}),e.map(e=>(0,a.jsx)(uG,{item:e,columns:i,visibleColumns:d,filterValues:l,availableLocations:s,formData:y,filters_category_mode:c,setFormData:j},e.psid))]})]})})})})},uY=e=>{var t;let{item:r,columns:i,selectedNodes:l,visibleColumns:s,formData:n,setFormData:o,availableLocations:d=[],filterValues:c,filters_brand_mode:u}=e,m=()=>{},p=(null==l?void 0:l[r.id])||r,h=null==(t=i.filter(e=>!s.includes(e.key))[0])?void 0:t.key,x=(e,t,r)=>{o(a=>{let i=structuredClone(a[e]||{}),l=t.split("."),s=i;for(let e=0;e<l.length-1;e++){let t=l[e];s[t]||(s[t]="ICPrice"===t?[]:{}),s=s[t]}let n=l[l.length-1];if("ICPrice"===l[l.length-2]){let t=s.findIndex(e=>e.label===n);if(-1!==t){let e=s[t];s[t]={...e,amount:r}}else{var o,d,c;let t=null==(c=a[e])||null==(d=c.price)||null==(o=d.ICPrice)?void 0:o.find(e=>e.label===n);s.push({ICID:(null==t?void 0:t.ICID)??"default_id",label:n,name:(null==t?void 0:t.name)??"Unknown",amount:r})}}else s[n]=r;return{...a,[e]:i}})};return(0,a.jsx)(cn.X2,{item:r,className:"items-center justify-center",style:{width:"100%",tableLayout:"auto"},children:i.map((e,t)=>{var i,l,o,u,b,f,y,j,v,C,w,k,S,I,z,N,D,A,F,M;let P;if(s.includes(e.key))return null;switch(e.key){case"image":P=r.nodes?(0,a.jsx)(sl.E,{src:r.image,w:50,h:50}):"";break;case"name":P=(0,a.jsx)(g.OL,{to:`/product/${r.id}`,className:"text-md md:text-sm text-blue-500 hover:text-red-700 transition-colors duration-200",children:(0,a.jsx)(se.x,{style:{fontSize:"10px",minWidth:"80px",display:"inline-block",whiteSpace:"normal",wordWrap:"break-word",overflow:"hidden",textOverflow:"ellipsis"},children:r.name})});break;case"shortName":P=(0,a.jsx)(se.x,{style:{fontSize:"10px",minWidth:"80px",display:"inline-block",whiteSpace:"normal",wordWrap:"break-word",overflow:"hidden",textOverflow:"ellipsis"},children:r.shortName});break;case"psid":P=(0,a.jsx)(se.x,{style:{fontSize:"10px",minWidth:"80px",display:"inline-block",whiteSpace:"normal",wordWrap:"break-word",overflow:"hidden",textOverflow:"ellipsis"},children:r.psid});break;case"attributes":P=(0,a.jsx)(cg,{items:r.attributes});break;case"price":P=(0,a.jsx)("input",{type:"number",value:"number"==typeof(null==(l=n[null==r?void 0:r.psid])||null==(i=l.price)?void 0:i.regularPrice)?null==(u=n[null==r?void 0:r.psid])||null==(o=u.price)?void 0:o.regularPrice:0,min:"0",onChange:e=>{let t=Math.max(0,Number(e.target.value)||0);x(r.psid,"price.regularPrice",t)},style:{fontSize:"12px",minWidth:"80px",width:"100%",padding:"6px 8px",textAlign:"center",border:"1px solid #ccc",borderRadius:"6px",backgroundColor:"#fff",boxShadow:"inset 0 1px 3px rgba(0,0,0,0.1)",outline:"none",transition:"border-color 0.2s, box-shadow 0.2s"},onFocus:e=>e.target.style.borderColor="#007BFF",onBlur:e=>e.target.style.borderColor="#ccc"});break;case"ICPrice_usd":let E=(null==(y=n[null==r?void 0:r.psid])||null==(f=y.price)||null==(b=f.ICPrice)?void 0:b.find(e=>"usd"===e.label))||{amount:0};P=(0,a.jsx)("input",{type:"number",value:E.amount,min:"0",onChange:e=>{let t=Math.max(0,Number(e.target.value)||0);x(r.psid,"price.ICPrice.usd",t)},style:{fontSize:"12px",minWidth:"80px",width:"100%",padding:"6px 8px",textAlign:"center",border:"1px solid #ccc",borderRadius:"6px",backgroundColor:"#fff",boxShadow:"inset 0 1px 3px rgba(0,0,0,0.1)",outline:"none",transition:"border-color 0.2s, box-shadow 0.2s"}});break;case"ICPrice_AED":let _=(null==(C=n[null==r?void 0:r.psid])||null==(v=C.price)||null==(j=v.ICPrice)?void 0:j.find(e=>"AED"===e.label))||{amount:0};P=(0,a.jsx)("input",{type:"number",value:_.amount,min:"0",onChange:e=>{let t=Math.max(0,Number(e.target.value)||0);x(r.psid,"price.ICPrice.AED",t)},style:{fontSize:"12px",minWidth:"80px",width:"100%",padding:"6px 8px",textAlign:"center",border:"1px solid #ccc",borderRadius:"6px",backgroundColor:"#fff",boxShadow:"inset 0 1px 3px rgba(0,0,0,0.1)",outline:"none",transition:"border-color 0.2s, box-shadow 0.2s"}});break;case"discount":P=(0,a.jsx)("input",{type:"number",value:(null==(w=n[r.psid])?void 0:w.price.discountedPrice)??0,min:"0",onChange:e=>{let t=Math.max(0,Number(e.target.value)||0);x(r.psid,"price.discountedPrice",t)},style:{fontSize:"12px",minWidth:"80px",width:"100%",padding:"6px 8px",textAlign:"center",border:"1px solid #ccc",borderRadius:"6px",backgroundColor:"#fff",boxShadow:"inset 0 1px 3px rgba(0,0,0,0.1)",outline:"none",transition:"border-color 0.2s, box-shadow 0.2s"},onFocus:e=>e.target.style.borderColor="#007BFF",onBlur:e=>e.target.style.borderColor="#ccc"});break;case"stock":P=(0,a.jsx)("input",{type:"number",value:(null==(k=n[r.psid])?void 0:k.stock)??0,min:"0",onChange:e=>{let t=Math.max(0,Number(e.target.value)||0);x(r.psid,"stock",t)},style:{fontSize:"12px",minWidth:"80px",width:"100%",padding:"6px 8px",textAlign:"center",border:"1px solid #ccc",borderRadius:"6px",backgroundColor:"#fff",boxShadow:"inset 0 1px 3px rgba(0,0,0,0.1)",outline:"none",transition:"border-color 0.2s, box-shadow 0.2s"},onFocus:e=>e.target.style.borderColor="#007BFF",onBlur:e=>e.target.style.borderColor="#ccc"});break;case"minOrder":P=(0,a.jsx)("input",{type:"number",value:(null==(S=n[r.psid])?void 0:S.minOrder)??0,min:"0",onChange:e=>{let t=Math.max(0,Number(e.target.value)||0);x(r.psid,"minOrder",t)},style:{fontSize:"12px",minWidth:"80px",width:"100%",padding:"6px 8px",textAlign:"center",border:"1px solid #ccc",borderRadius:"6px",backgroundColor:"#fff",boxShadow:"inset 0 1px 3px rgba(0,0,0,0.1)",outline:"none",transition:"border-color 0.2s, box-shadow 0.2s"},onFocus:e=>e.target.style.borderColor="#007BFF",onBlur:e=>e.target.style.borderColor="#ccc"});break;case"maxOrder":P=(0,a.jsx)("input",{type:"number",value:(null==(I=n[r.psid])?void 0:I.maxOrder)??0,min:"0",onChange:e=>{let t=Math.max(0,Number(e.target.value)||0);x(r.psid,"maxOrder",t)},style:{fontSize:"12px",minWidth:"80px",width:"100%",padding:"6px 8px",textAlign:"center",border:"1px solid #ccc",borderRadius:"6px",backgroundColor:"#fff",boxShadow:"inset 0 1px 3px rgba(0,0,0,0.1)",outline:"none",transition:"border-color 0.2s, box-shadow 0.2s"},onFocus:e=>e.target.style.borderColor="#007BFF",onBlur:e=>e.target.style.borderColor="#ccc"});break;case"seller":P=(0,a.jsxs)(sh.Z,{gap:3,align:"center",children:[(0,a.jsx)(T.e,{size:"sm",className:"text-blue-500 hover:text-red-700 transition-colors duration-200",component:g.OL,to:`/seller/${r.seller.id}`,children:r.seller.label}),(0,a.jsx)(sZ.k,{size:16,variant:"transparent",children:(0,a.jsx)(sb.IconUserCircle,{})})]});break;case"deliveryTime":P=(0,a.jsx)("select",{value:(null==(N=n[null==r?void 0:r.psid])||null==(z=N.deliveryTime)?void 0:z.value)||"",label:(null==(A=n[null==r?void 0:r.psid])||null==(D=A.deliveryTime)?void 0:D.label)||"",onChange:e=>{var t;let a=e.target.value;x(r.psid,"deliveryTime",{...null==(t=n[null==r?void 0:r.psid])?void 0:t.deliveryTime,value:a,label:e.target.options[e.target.selectedIndex].text})},style:{fontSize:"12px",minWidth:"80px",width:"100%",padding:"6px 8px",textAlign:"center",border:"1px solid #ccc",borderRadius:"6px",backgroundColor:"#fff",boxShadow:"inset 0 1px 3px rgba(0,0,0,0.1)",outline:"none",transition:"border-color 0.2s, box-shadow 0.2s"},onFocus:e=>e.target.style.borderColor="#007BFF",onBlur:e=>e.target.style.borderColor="#ccc",children:(null==c||null==(F=c.deliveryTime)?void 0:F.length)>0?c.deliveryTime.map((e,t)=>(0,a.jsx)("option",{value:e.value,children:e.label},t)):(0,a.jsx)("option",{disabled:!0,children:"گزینه‌ای یافت نشد"})});break;case"payment_type":P=(0,a.jsxs)("select",{value:(null==(M=n[r.psid])?void 0:M.payment_type)??"Cash",onChange:e=>x(r.psid,"payment_type",e.target.value),style:{fontSize:"12px",minWidth:"80px",width:"100%",padding:"6px 8px",textAlign:"center",border:"1px solid #ccc",borderRadius:"6px",backgroundColor:"#fff",boxShadow:"inset 0 1px 3px rgba(0,0,0,0.1)",outline:"none",transition:"border-color 0.2s, box-shadow 0.2s"},onFocus:e=>e.target.style.borderColor="#007BFF",onBlur:e=>e.target.style.borderColor="#ccc",children:[(0,a.jsx)("option",{value:"Cash",children:"نقدی"}),(0,a.jsx)("option",{value:"Credit",children:"غیر نقدی"})]});break;case"delivery":P=(0,a.jsx)("div",{style:{maxHeight:"120px",overflowY:"auto",border:"1px solid #ccc",borderRadius:"6px",padding:"6px 8px",backgroundColor:"#fff",boxShadow:"inset 0 1px 3px rgba(0,0,0,0.1)"},children:null==d?void 0:d.map(e=>{var t;return(0,a.jsxs)("label",{style:{display:"block",fontSize:"12px",padding:"4px 0"},children:[(0,a.jsx)("input",{type:"checkbox",checked:Array.isArray(null==(t=n[r.psid])?void 0:t.delivery)?n[r.psid].delivery.some(t=>t.locationName===e.locationName):!!Array.isArray(r.delivery)&&r.delivery.some(t=>t.locationName===e.locationName),onChange:t=>{var a;let i=Array.isArray(null==(a=n[r.psid])?void 0:a.delivery)?n[r.psid].delivery:Array.isArray(r.delivery)?r.delivery:[],l=t.target.checked?[...i,e]:i.filter(t=>t.locationName!==e.locationName);x(r.psid,"delivery",l)},style:{marginRight:"6px"}}),e.locationLabel]},e.locationId)})});break;case"action":P=(0,a.jsx)(uH,{text:"انتخاب",withButton:!0,style:{minWidth:"50px"},item:r,formData:n,onChange:()=>handleReplaceNode(p),onClick:m},r.psid);break;default:P=""}return e.key===h&&r.nodes?(cc.r4,e.key):cn.bL,(0,a.jsx)(cn.bL,{style:{minWidth:"100px",maxWidth:"200px",textAlign:"center",wordBreak:"break-word",whiteSpace:"normal",overflow:"hidden",textOverflow:"ellipsis"},children:P},t)})})},uJ=e=>{let{nodes:t,setNodes:r,COLUMNS:i,filterValues:l,availableLocations:s,type:n,setVisibleColumns:o,visibleColumns:d,filters_brand_mode:c,icPriceKeys:u,isPortrait:m,isLandscape:g}=e;if(!t||0===t.length)return null;let h=(0,sq.a)("(max-width: 768px)"),x=(0,sq.a)("(max-width: 1024px)"),b=cu(),{primaryColor:f}=(0,sE.rZ)(),[y,j]=(0,p.useState)({});(0,p.useEffect)(()=>{let e=[];e=h?["image","minOrder","deliveryTime","discount","attributes","psid","minOrder","maxOrder","seller","deliveryTime","payment_type","delivery","psid"]:x?["image","maxOrder","deliveryTime","stock","minOrder"]:["image","deliveryTime","discount","minOrder","maxOrder","seller","delivery"],b&&(e=["image","stock","minOrder","deliveryTime"]),u&&u.length>0&&(e=[...e,...u]),o(e)},[h,x,m,g,b,u]),(0,p.useEffect)(()=>{let e=function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.forEach(t=>{var a,i,l,s;r[t.psid]={price:{regularPrice:(null==(a=t.price)?void 0:a.regularPrice)??0,discountedPrice:(null==(i=t.price)?void 0:i.discountedPrice)??0,discountPercent:(null==(l=t.price)?void 0:l.discountPercent)??null,ICPrice:Array.isArray(null==(s=t.price)?void 0:s.ICPrice)?t.price.ICPrice.map(e=>({ICID:e.ICID??"default_id",label:e.label??"unknown",name:e.name??"Unknown",amount:e.amount??0})):[]},stock:t.stock??0,minOrder:t.minOrder??0,maxOrder:t.maxOrder??0,priceLabel:c.priceFormat,deliveryTime:{label:(null==t?void 0:t.deliveryTime.label)??"کمتر از یک روز",value:(null==t?void 0:t.deliveryTime.value)??"in1day"},delivery:Array.isArray(t.delivery)?t.delivery:[],payment_type:t.payment_type||""},t.nodes&&t.nodes.length>0&&e(t.nodes,r)}),r};j(e(t))},[t]);let v=(0,cc.ZT)({nodes:t||[]},{},{treeIcon:{iconRight:b?null:(0,a.jsx)(sb.IconChevronLeft,{}),iconDown:b?null:(0,a.jsx)(sb.IconChevronDown,{})}}),C=(0,cd.gh)(cd.WN),w=(0,co.u)(C);return(0,a.jsx)(sa.x,{style:{overflowX:"auto",width:"100%",maxWidth:"100%",WebkitOverflowScrolling:"touch",whiteSpace:"nowrap"},children:(0,a.jsx)("div",{style:{minWidth:`${h&&g?500:h&&m?800:120*i.length}px`,overflowX:"auto"},children:(0,a.jsx)(cn.iA,{data:{nodes:t},theme:w,tree:v,layout:{isDiv:!0,fixedHeader:!0},style:{width:"100%",tableLayout:"auto"},children:e=>(0,a.jsxs)(a.Fragment,{children:["head"===n?(0,a.jsx)(cn.h4,{}):(0,a.jsx)(sa.x,{className:"hidden",children:(0,a.jsx)(cn.h4,{children:(0,a.jsx)(cn.VJ,{children:i.map(e=>(0,a.jsxs)(cn.qN,{style:{fontSize:h?"10px":"12px",minWidth:"120px",maxWidth:"200px",textAlign:"center",whiteSpace:"normal",wordBreak:"break-word"},hide:d.includes(e.key),children:[e.label,"price"===e.key&&"million"===c.priceFormat&&(0,a.jsx)(se.x,{size:"sm",style:{marginTop:"5px"},children:"میلیون تومان"}),"price"===e.key&&"hezar"===c.priceFormat&&(0,a.jsx)(se.x,{size:"sm",style:{marginTop:"5px"},children:"هزار تومان"})]},e.key))})})}),"head"===n?null:(0,a.jsxs)(cn.uT,{children:[(0,a.jsx)(cn.VJ,{children:i.map(e=>(0,a.jsxs)(cn.qN,{style:{fontSize:h?"10px":"12px",minWidth:"120px",maxWidth:"200px",textAlign:"center",whiteSpace:"normal",wordBreak:"break-word"},hide:d.includes(e.key),children:[e.label,"price"===e.key&&"million"===c.priceFormat&&(0,a.jsx)(se.x,{style:{marginTop:"5px",fontSize:"8px"},children:"میلیون تومان"}),"price"===e.key&&"hezar"===c.priceFormat&&(0,a.jsx)(se.x,{style:{marginTop:"5px",fontSize:"8px"},children:"هزار تومان"})]},e.key))}),e.map(e=>(0,a.jsx)(uY,{item:e,columns:i,visibleColumns:d,filterValues:l,availableLocations:s,formData:y,filters_brand_mode:c,setFormData:j},e.psid))]})]})})})})},uQ=(0,p.createContext)(),u0=()=>(0,p.useContext)(uQ),u1=e=>{let{children:t}=e,[r,i]=(0,p.useState)({parent:[],categories:[]}),[l,s]=(0,p.useState)({parent:[],subCategory:[],brands:[]}),[n,o]=(0,p.useState)({color:"all",province:"all",stockStatus:"yes",minStock:"",deliveryTime:"",paymentType:"",supplier:"",sort:"bestPrice",priceFormat:"hezar",saleType:"cash",brands:[]});return(0,a.jsx)(uQ.Provider,{value:{brandsContext:r,setBrandsContext:i,categoryContext:l,setCategoryContext:s,filtersContext:n,setFiltersContext:o},children:t})},u6="data:image/svg+xml;base64,"+btoa(`
<svg width="25" height="25" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
  <!-- Background circle -->
  <circle cx="20" cy="20" r="19" fill="#F8F9FA" stroke="#E9ECEF" stroke-width="1"/>
  <!-- Brand/star icon -->
  <path d="M20 8 L22 14 L28 14 L23.5 18 L25.5 24 L20 21 L14.5 24 L16.5 18 L12 14 L18 14 L20 8 Z" fill="#9CA3AF"/>
</svg>
`);function u2(e){var t;let{size:r="md",image:i,title:l,searchType:s,filterBrandStorage:n,setFilterBrandStorage:o,tab:d,item:c,idBrand:u,badge:m,clickType:g,active:p,categories:h,items:x}=e,b=n.includes(c.idBrand);return(0,a.jsx)("div",{className:"flex flex-col",children:!m&&!h&&(0,a.jsx)("div",{className:"w-full",children:(0,a.jsx)("div",{className:"flex flex-col items-center justify-center flex-shrink-0 cursor-pointer",onClick:()=>{"brands"===g&&(n.includes(c.idBrand)?o(e=>e.filter(e=>e!==c.idBrand)):o(e=>[...e,c.idBrand]))},children:(0,a.jsxs)("div",{className:`flex h-[35px] px-3 gap-2 justify-center items-center overflow-hidden border-[1.5px] bg-gray-100 flex-shrink-0
                ${b?"border-red-600":"border-transparent"}`,style:{borderRadius:"18px",minWidth:"fit-content",maxWidth:"120px"},children:[(0,a.jsx)("div",{className:"w-[25px] h-[25px] bg-white rounded-full flex-shrink-0",children:(0,a.jsx)("img",{className:"w-[25px] h-[25px] object-cover rounded-full",src:(t=c.image)&&""!==t.trim()?t:u6,alt:c.title,onError:e=>{e.target.src=u6}})}),(0,a.jsx)("span",{className:"text-center whitespace-nowrap text-[9px] flex-shrink-0 truncate max-w-[70px]",children:c.title})]})})})})}let u4=e=>{let{items:t,clickType:r,searchType:i,tab:l,filterBrandStorage:s,setFilterBrandStorage:n}=e,o=(null==t?void 0:t.map(e=>e.idBrand))||[],d=o.length>0&&o.every(e=>s.includes(e));return(0,a.jsxs)(nU.tq,{modules:[n$.Rv,n$.W_],slidesPerView:"auto",spaceBetween:6,className:"mt-2",style:{width:"100%"},children:[null==t?void 0:t.map(e=>(0,a.jsx)(nU.o5,{style:{width:"auto",display:"flex",margin:0,padding:0},children:(0,a.jsx)(u2,{item:e,clickType:r,searchType:i,tab:l,filterBrandStorage:s,setFilterBrandStorage:n})},e.idBrand)),(0,a.jsx)(nU.o5,{style:{width:"auto",display:"flex",margin:0,padding:0},children:(0,a.jsx)("button",{className:`flex h-[35px] px-4 gap-2 justify-center items-center border-[1.5px] 
            ${d?"border-green-400 bg-green-50":"border-transparent bg-gray-100"} 
            cursor-pointer`,style:{borderRadius:"18px"},onClick:()=>{if("brands"===r){let e=(null==t?void 0:t.map(e=>e.idBrand))||[];e.every(e=>s.includes(e))?n([]):n(e)}},children:(0,a.jsx)("span",{className:"text-[9px] font-medium whitespace-nowrap",children:"انتخاب همه"})})})]})},u3=()=>(0,a.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"w-[20px] h-[20px]",children:[(0,a.jsx)("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",fill:"#F8F9FA",stroke:"#E9ECEF",strokeWidth:"1"}),(0,a.jsx)("rect",{x:"6",y:"6",width:"5",height:"5",rx:"1",fill:"#9CA3AF"}),(0,a.jsx)("rect",{x:"13",y:"6",width:"5",height:"5",rx:"1",fill:"#9CA3AF"}),(0,a.jsx)("rect",{x:"6",y:"13",width:"5",height:"5",rx:"1",fill:"#9CA3AF"}),(0,a.jsx)("rect",{x:"13",y:"13",width:"5",height:"5",rx:"1",fill:"#9CA3AF"})]});function u5(e){let{parentItem:t,searchType:r,clickType:i,tab:l,filterBrandStorage:s,setFilterBrandStorage:n,filterBrandsCategoryStorage:o,setFilterBrandsCategoryStorage:d}=e;if(!t||!Array.isArray(t.categories))return null;let c=s.includes(t.idBrand);return(0,a.jsx)(a.Fragment,{children:c&&(0,a.jsx)("div",{className:"items-center border-gray-300 p-2 rounded-lg flex flex-col gap-4",children:(0,a.jsx)("div",{className:"flex flex-row gap-2 justify-center",children:t.categories.map((e,l)=>{let s=o.some(r=>r.idBrand===t.idBrand&&r.idCategories.includes(e.idCategory)),n=(e=>{if(null==e)return!1;if(Array.isArray(e))return 0!==e.length&&e.some(e=>e&&"string"==typeof e&&""!==e.trim());if("string"==typeof e){let t=e.trim();return""!==t&&"null"!==t&&"undefined"!==t&&"[]"!==t}return!1})(e.image);return(0,a.jsx)("div",{className:"text-sm w-fit flex flex-col items-center cursor-pointer",onClick:()=>((e,t)=>{if("brand"===r&&"brandCategories"===i){let r;if((o||[]).some(e=>e.idBrand===t)){let a=o.find(e=>e.idBrand===t);r=a.idCategories.includes(e.idCategory)?a.idCategories.filter(t=>t!==e.idCategory):[...a.idCategories,e.idCategory],d(e=>e.map(e=>e.idBrand===t?{...e,idCategories:r}:e).filter(e=>e.idCategories.length>0))}else r=[e.idCategory],d(e=>[...e,{idBrand:t,idCategories:r}])}})(e,t.idBrand),children:(0,a.jsxs)("div",{className:`flex px-3 h-[32px] w-full gap-2 justify-center items-center border-[1.5px]
                    ${s?"border-red-600":"border-none"} bg-gray-100`,style:{borderRadius:"16px"},children:[(0,a.jsx)("div",{className:"w-[20px] h-[20px] bg-white rounded-full flex-shrink-0 image-container relative flex items-center justify-center",children:n?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("img",{className:"w-[20px] h-[20px] object-cover rounded-full",src:e.image,alt:e.title,onError:t=>((e,t)=>{console.warn(`Failed to load category image: ${e.target.src} for category: ${t}`),e.target.style.display="none";let r=e.target.closest(".image-container");if(r){let e=r.querySelector(".fallback-icon");e&&(e.style.display="flex")}})(t,e.title),style:{display:"block"}}),(0,a.jsx)("div",{className:"fallback-icon w-[20px] h-[20px] bg-white rounded-full items-center justify-center absolute inset-0",style:{display:"none"},children:(0,a.jsx)(u3,{})})]}):(0,a.jsx)(u3,{})}),(0,a.jsx)("span",{className:"text-center text-[10px] font-medium leading-tight break-words",children:e.title})]})},l)})})})})}let u8=e=>{let{items:t,clickType:r,searchType:i,tab:l,filterBrandStorage:s,setFilterBrandStorage:n,filterBrandsCategoryStorage:o,setFilterBrandsCategoryStorage:d}=e;return(0,a.jsx)(nU.tq,{modules:[n$.Rv,n$.W_],freeMode:!0,slidesPerView:"auto",spaceBetween:6,className:"mt-2",style:{width:"100%"},children:null==t?void 0:t.map((e,t)=>(0,a.jsx)(nU.o5,{style:{width:"auto",display:"flex",margin:0,padding:0},children:(0,a.jsx)(u5,{parentItem:e,clickType:r,searchType:i,tab:l,filterBrandStorage:s,setFilterBrandStorage:n,filterBrandsCategoryStorage:o,setFilterBrandsCategoryStorage:d})},t))})},u7=()=>(0,a.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"w-[20px] h-[20px] rounded-full",children:[(0,a.jsx)("circle",{cx:"12",cy:"12",r:"11",fill:"#F8F9FA",stroke:"#E9ECEF",strokeWidth:"1"}),(0,a.jsx)("circle",{cx:"8",cy:"8",r:"2",fill:"#9CA3AF"}),(0,a.jsx)("circle",{cx:"16",cy:"8",r:"2",fill:"#9CA3AF"}),(0,a.jsx)("circle",{cx:"8",cy:"16",r:"2",fill:"#9CA3AF"}),(0,a.jsx)("circle",{cx:"16",cy:"16",r:"2",fill:"#9CA3AF"}),(0,a.jsx)("path",{d:"M8 10 L8 14 M10 8 L14 8 M10 16 L14 16 M16 10 L16 14",stroke:"#6B7280",strokeWidth:"1"})]});function u9(e){let{parentItem:t,clickType:r,searchType:i,tab:l,filterBrandStorage:s,setFilterBrandStorage:n,filterBrandsCategoryStorage:o,setFilterBrandsCategoryStorage:d,filterBrandsCategorySubCategoryStorage:c,setFilterBrandsCategorySubCategoryStorage:u}=e;if(!t||!Array.isArray(t.categories))return null;let m=s.includes(t.idBrand),g=t.categories.some(e=>o.some(r=>r.idBrand===t.idBrand&&r.idCategories.includes(e.idCategory)));return(0,a.jsx)(a.Fragment,{children:m&&g&&(0,a.jsx)("div",{className:"items-center justify-center border-gray-300 rounded-lg flex flex-row gap-2",children:t.categories.map((e,l)=>o.some(r=>r.idBrand===t.idBrand&&r.idCategories.includes(e.idCategory))?(0,a.jsx)("div",{className:"flex flex-col items-center rounded-lg",children:(0,a.jsx)("div",{className:"flex flex-row gap-2",children:e.subCategories.map((l,s)=>{let n=c.some(r=>r.idBrand===t.idBrand&&r.idSubCategories.some(t=>t.idCategory===e.idCategory&&t.idSubCategories.includes(l.idSubCategory))),o=(e=>{if(null==e)return!1;if(Array.isArray(e))return 0!==e.length&&e.some(e=>e&&"string"==typeof e&&""!==e.trim());if("string"==typeof e){let t=e.trim();return""!==t&&"null"!==t&&"undefined"!==t&&"[]"!==t}return!1})(l.image);return(0,a.jsx)("div",{className:"text-sm w-fit flex flex-row items-center justify-center cursor-pointer",onClick:()=>{var a;return a=t.idBrand,void("brand"===i&&"brandSubCategories"===r&&u(t=>{let r=(t||[]).map(e=>({...e,idCategories:[...e.idCategories],idSubCategories:e.idSubCategories.map(e=>({...e,idSubCategories:[...e.idSubCategories]}))})),i=r.find(e=>e.idBrand===a);if(!i)return[...r,{idBrand:a,idCategories:[e.idCategory],idSubCategories:[{idCategory:e.idCategory,idSubCategories:[l.idSubCategory]}]}];{i.idCategories.includes(e.idCategory)||i.idCategories.push(e.idCategory);let t=i.idSubCategories.find(t=>t.idCategory===e.idCategory);return(t?t.idSubCategories.includes(l.idSubCategory)?(t.idSubCategories=t.idSubCategories.filter(e=>e!==l.idSubCategory),0===t.idSubCategories.length&&(i.idSubCategories=i.idSubCategories.filter(t=>t.idCategory!==e.idCategory),i.idCategories=i.idCategories.filter(t=>t!==e.idCategory))):t.idSubCategories.push(l.idSubCategory):i.idSubCategories.push({idCategory:e.idCategory,idSubCategories:[l.idSubCategory]}),0===i.idSubCategories.length)?r.filter(e=>e.idBrand!==a):r}}))},children:(0,a.jsxs)("div",{className:`flex px-3 h-[32px] w-full gap-2 justify-center items-center border-[1.5px]
                          ${n?"border-red-600":"border-none"} bg-gray-100`,style:{borderRadius:"16px"},children:[(0,a.jsx)("div",{className:"w-[20px] h-[20px] bg-white rounded-full flex-shrink-0 image-container relative flex items-center justify-center",children:o?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("img",{className:"w-[20px] h-[20px] object-cover rounded-full",src:l.image,alt:l.name,onError:e=>((e,t)=>{console.warn(`Failed to load subcategory image: ${e.target.src} for subcategory: ${t}`),e.target.style.display="none";let r=e.target.closest(".image-container");if(r){let e=r.querySelector(".fallback-icon");e&&(e.style.display="flex")}})(e,l.name),style:{display:"block"}}),(0,a.jsx)("div",{className:"fallback-icon w-[20px] h-[20px] bg-white rounded-full items-center justify-center absolute inset-0",style:{display:"none"},children:(0,a.jsx)(u7,{})})]}):(0,a.jsx)(u7,{})}),(0,a.jsx)("span",{className:"text-center text-[10px] font-medium leading-tight break-words",children:l.name})]})},s)})})},l):null)})})}let me=e=>{let{items:t,clickType:r,searchType:i,tab:l,filterBrandStorage:s,setFilterBrandStorage:n,filterBrandsCategoryStorage:o,setFilterBrandsCategoryStorage:d,filterBrandsCategorySubCategoryStorage:c,setFilterBrandsCategorySubCategoryStorage:u}=e;return(0,a.jsx)(I.W,{fluid:!0,children:(0,a.jsx)(sa.x,{w:"100%",pos:"relative",children:(0,a.jsx)(nU.tq,{modules:[n$.Rv,n$.W_],freeMode:!0,slidesPerView:"auto",spaceBetween:8,className:"mt-2",style:{width:"100%"},loop:!0,children:null==t?void 0:t.map((e,t)=>(0,a.jsx)(nU.o5,{style:{width:"auto",display:"flex",margin:0,padding:0},children:(0,a.jsx)(u9,{parentItem:e,clickType:r,searchType:i,tab:l,filterBrandStorage:s,setFilterBrandStorage:n,filterBrandsCategoryStorage:o,setFilterBrandsCategoryStorage:d,filterBrandsCategorySubCategoryStorage:c,setFilterBrandsCategorySubCategoryStorage:u})},t))})})})},mt="data:image/svg+xml;base64,"+btoa(`
<svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
  <!-- Background circle -->
  <circle cx="20" cy="20" r="20" fill="#F8F9FA"/>
  <!-- Category/folder icon -->
  <path d="M8 12 L16 12 L18 14 L32 14 C33.1 14 34 14.9 34 16 L34 26 C34 27.1 33.1 28 32 28 L8 28 C6.9 28 6 27.1 6 26 L6 14 C6 12.9 6.9 12 8 12 Z" fill="#E9ECEF" stroke="#ADB5BD" stroke-width="1"/>
  <!-- Grid/category symbol -->
  <rect x="12" y="18" width="4" height="4" fill="#6C757D"/>
  <rect x="18" y="18" width="4" height="4" fill="#6C757D"/>
  <rect x="24" y="18" width="4" height="4" fill="#6C757D"/>
  <rect x="12" y="24" width="4" height="4" fill="#6C757D"/>
  <rect x="18" y="24" width="4" height="4" fill="#6C757D"/>
  <rect x="24" y="24" width="4" height="4" fill="#6C757D"/>
</svg>
`);function mr(e){var t;let{parentItem:r,searchType:i,clickType:l,tab:s,filterCategoryStorage:n=[],setFilterCategoryStorage:o,filterCategorySubCategoryStorage:d,setFilterCategorySubCategoryStorage:c,filterCategorySubCategoryBrandsStorage:u,setFilterCategorySubCategoryBrandsStorage:m}=e;if(!r)return null;let g=n.includes(r.idCategory);return(0,a.jsx)("div",{className:"flex flex-col",children:(0,a.jsx)("div",{className:"w-full",children:(0,a.jsx)("div",{className:"flex flex-col items-center justify-center flex-shrink-0 cursor-pointer",onClick:()=>{"categories"===l&&((null==n?void 0:n.includes(r.idCategory))?o([]):o([r.idCategory]),c([]),m([]))},children:(0,a.jsxs)("div",{className:`flex w-fit h-[35px] px-4 gap-2 justify-center items-center overflow-hidden border-[1.5px] bg-gray-100
              ${g?"border-red-600":"border-transparent"}`,style:{borderRadius:"18px"},children:[(0,a.jsx)("div",{className:"w-full h-[25px] bg-white rounded-full",children:(0,a.jsx)("img",{className:"w-full h-full object-cover",src:(t=r.image)&&""!==t.trim()?t:mt,alt:r.title,onError:e=>{e.target.src=mt},onLoad:()=>{}})}),(0,a.jsx)("span",{className:"text-center whitespace-nowrap text-[9px] w-full",children:r.title?r.title:"No title"})]})})})})}let ma=e=>{let{items:t,clickType:r,searchType:i,tab:l,filterCategoryStorage:s=[],setFilterCategoryStorage:n,filterCategorySubCategoryStorage:o,setFilterCategorySubCategoryStorage:d,filterCategorySubCategoryBrandsStorage:c,setFilterCategorySubCategoryBrandsStorage:u}=e;if(!t)return(0,a.jsx)("div",{children:"Loading categories..."});if(!Array.isArray(t))return(0,a.jsx)("div",{children:"Invalid data format"});if(0===t.length)return(0,a.jsx)("div",{children:"No categories available"});let m=(null==t?void 0:t.map(e=>e.idCategory))||[],g=m.length>0&&m.every(e=>s.includes(e));return(0,a.jsxs)(nU.tq,{modules:[n$.Rv],slidesPerView:"auto",spaceBetween:6,style:{width:"100%"},children:[t.map((e,t)=>(0,a.jsx)(nU.o5,{style:{width:"auto",display:"flex",margin:0,padding:0},children:(0,a.jsx)(mr,{parentItem:e,clickType:r,searchType:i,tab:l,filterCategoryStorage:s,setFilterCategoryStorage:n,filterCategorySubCategoryStorage:o,setFilterCategorySubCategoryStorage:d,filterCategorySubCategoryBrandsStorage:c,setFilterCategorySubCategoryBrandsStorage:u})},e.idCategory||t)),(0,a.jsx)(nU.o5,{style:{width:"auto",display:"flex",margin:0,padding:0},children:(0,a.jsx)("button",{className:`flex h-[35px] px-4 gap-2 justify-center items-center border-2 
            ${g?"border-green-400 bg-green-50":"border-transparent bg-gray-100"} 
            cursor-pointer`,style:{borderRadius:"18px"},onClick:()=>{if("categories"===r){let e=(null==t?void 0:t.map(e=>e.idCategory))||[];e.every(e=>s.includes(e))?n([]):n(e),d([]),u([])}},children:(0,a.jsx)("span",{className:"text-[9px] font-medium whitespace-nowrap",children:"انتخاب همه"})})})]})},mi=()=>(0,a.jsxs)("svg",{width:"25",height:"25",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"w-[25px] h-[25px]",children:[(0,a.jsx)("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",fill:"#F8F9FA",stroke:"#E9ECEF",strokeWidth:"1"}),(0,a.jsx)("circle",{cx:"8",cy:"8",r:"2",fill:"#9CA3AF"}),(0,a.jsx)("circle",{cx:"16",cy:"8",r:"2",fill:"#9CA3AF"}),(0,a.jsx)("circle",{cx:"8",cy:"16",r:"2",fill:"#9CA3AF"}),(0,a.jsx)("circle",{cx:"16",cy:"16",r:"2",fill:"#9CA3AF"}),(0,a.jsx)("path",{d:"M8 10 L8 14 M10 8 L14 8 M10 16 L14 16 M16 10 L16 14",stroke:"#6B7280",strokeWidth:"1"})]});function ml(e){var t;let{parentItem:r,clickType:i,searchType:l,tab:s,filterCategoryStorage:n,setFilterCategoryStorage:o,filterCategorySubCategoryStorage:d,setFilterCategorySubCategoryStorage:c,filterCategorySubCategoryBrandsStorage:u,setFilterCategorySubCategoryBrandsStorage:m}=e;if(!r||!Array.isArray(r.subCategories))return null;let g=n.includes(r.idCategory);return(0,a.jsx)(a.Fragment,{children:(null==r||null==(t=r.subCategories)?void 0:t.length)>0&&g&&(0,a.jsx)("div",{className:"items-center border-gray-300 p-2 rounded-lg flex flex-col gap-4",children:(0,a.jsx)("div",{className:"flex flex-row gap-2 justify-center",children:r.subCategories.map((e,t)=>{let s=d.some(t=>t.idCategory===r.idCategory&&t.idSubCategories.includes(e.idSubCategory)),n=(e=>{if(null==e)return!1;if(Array.isArray(e))return 0!==e.length&&e.some(e=>e&&"string"==typeof e&&""!==e.trim());if("string"==typeof e){let t=e.trim();return""!==t&&"null"!==t&&"undefined"!==t&&"[]"!==t}return!1})(e.image);return(0,a.jsx)("div",{className:"text-sm w-fit flex flex-col items-center cursor-pointer",onClick:()=>{var t;return t=r.idCategory,void("category"===l&&"categorySubCategories"===i&&c(r=>{let a=r||[],i=a.find(e=>e.idCategory===t);if(!i)return[...a,{idCategory:t,idSubCategories:[e.idSubCategory]}];if(i.idSubCategories.includes(e.idSubCategory)){if(i.idSubCategories=i.idSubCategories.filter(t=>t!==e.idSubCategory),0===i.idSubCategories.length)return a.filter(e=>e.idCategory!==t)}else i.idSubCategories.push(e.idSubCategory);return[...a]}))},children:(0,a.jsxs)("div",{className:`flex w-fit px-2 flex-row gap-1 justify-center items-center h-[35px] overflow-hidden border-[1.5px] bg-gray-100
                      ${s?"border-red-600":"border-none"}`,style:{borderRadius:"18px"},children:[n?(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("img",{className:"w-fit h-[25px] object-cover",src:e.image,alt:e.name,onError:t=>((e,t)=>{console.warn(`Failed to load subcategory image: ${e.target.src} for subcategory: ${t}`),e.target.style.display="none";let r=e.target.parentElement.querySelector(".fallback-icon");r&&(r.style.display="block")})(t,e.name),style:{display:"block"}}),(0,a.jsx)("div",{className:"fallback-icon",style:{display:"none"},children:(0,a.jsx)(mi,{})})]}):(0,a.jsx)(mi,{}),(0,a.jsx)("span",{className:"cursor-pointer text-center text-[8px] whitespace-nowrap",children:e.name})]})},t)})})})})}let ms=e=>{let{items:t,clickType:r,searchType:i,tab:l,filterCategoryStorage:s,setFilterCategoryStorage:n,filterCategorySubCategoryStorage:o,setFilterCategorySubCategoryStorage:d,filterCategorySubCategoryBrandsStorage:c,setFilterCategorySubCategoryBrandsStorage:u}=e;return(0,a.jsx)(nU.tq,{modules:[n$.Rv,n$.W_],freeMode:!0,slidesPerView:"auto",spaceBetween:6,className:"mt-2",style:{width:"100%"},children:null==t?void 0:t.map((e,t)=>(0,a.jsx)(nU.o5,{style:{width:"auto",display:"flex",margin:0,padding:0},children:(0,a.jsx)(ml,{parentItem:e,clickType:r,searchType:i,tab:l,filterCategoryStorage:s,setFilterCategoryStorage:n,filterCategorySubCategoryStorage:o,setFilterCategorySubCategoryStorage:d,filterCategorySubCategoryBrandsStorage:c,setFilterCategorySubCategoryBrandsStorage:u})},t))})},mn=()=>(0,a.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"w-[20px] h-[20px] rounded-full",children:[(0,a.jsx)("circle",{cx:"12",cy:"12",r:"11",fill:"#F8F9FA",stroke:"#E9ECEF",strokeWidth:"1"}),(0,a.jsx)("path",{d:"M12 6 L14 10 L18 10 L15 13 L16 18 L12 15 L8 18 L9 13 L6 10 L10 10 L12 6 Z",fill:"#9CA3AF"})]});function mo(e){var t;let{parentItem:r,clickType:i,searchType:l,filterCategoryStorage:s,setFilterCategoryStorage:n,filterCategorySubCategoryStorage:o,setFilterCategorySubCategoryStorage:d,filterCategorySubCategoryBrandsStorage:c,setFilterCategorySubCategoryBrandsStorage:u,tab:m}=e;return(0,a.jsx)(a.Fragment,{children:(null==r||null==(t=r.subCategories)?void 0:t.length)>0&&(0,a.jsx)("div",{className:"items-center justify-center border-gray-300 rounded-lg flex flex-row gap-2",children:r.subCategories.map((e,t)=>(0,a.jsx)("div",{className:"flex flex-col items-center rounded-lg",children:(0,a.jsx)("div",{className:"flex flex-row gap-2",children:e.brands.map((t,i)=>{let l=c.some(r=>r.idBrands.some(r=>r.idSubCategory===e.idSubCategory&&r.idBrands.includes(t.idBrand))),s=(e=>{if(null==e)return!1;if(Array.isArray(e))return 0!==e.length&&e.some(e=>e&&"string"==typeof e&&""!==e.trim());if("string"==typeof e){let t=e.trim();return""!==t&&"null"!==t&&"undefined"!==t&&"[]"!==t}return!1})(t.image);return(0,a.jsx)("div",{className:"text-sm w-fit flex flex-row items-center justify-center cursor-pointer",onClick:()=>{u(a=>{let i=[...a],l=i.findIndex(e=>e.idCategory===r.id);if(-1!==l){let r=i[l],a=r.idBrands.findIndex(t=>t.idSubCategory===e.idSubCategory);if(-1!==a){let i=r.idBrands[a].idBrands;i.includes(t.idBrand)?(r.idBrands[a].idBrands=i.filter(e=>e!==t.idBrand),0===r.idBrands[a].idBrands.length&&(r.idBrands.splice(a,1),r.idSubCategories=r.idSubCategories.filter(t=>t!==e.idSubCategory))):r.idBrands[a].idBrands.push(t.idBrand)}else r.idSubCategories.push(e.idSubCategory),r.idBrands.push({idSubCategory:e.idSubCategory,idBrands:[t.idBrand]});0===r.idBrands.length&&i.splice(l,1)}else i.push({idCategory:r.id,idSubCategories:[e.idSubCategory],idBrands:[{idSubCategory:e.idSubCategory,idBrands:[t.idBrand]}]});return i})},children:(0,a.jsxs)("div",{className:`flex px-3 h-[32px] w-full gap-2 justify-center items-center border-[1.5px]
                          ${l?"border-red-600":"border-none"} bg-gray-100`,style:{borderRadius:"16px"},children:[(0,a.jsx)("div",{className:"w-[20px] h-[20px] bg-white rounded-full flex-shrink-0 image-container relative flex items-center justify-center",children:s?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("img",{className:"w-[20px] h-[20px] object-cover rounded-full",src:t.image,alt:t.name,onError:e=>((e,t)=>{console.warn(`Failed to load brand image: ${e.target.src} for brand: ${t}`),e.target.style.display="none";let r=e.target.closest(".image-container");if(r){let e=r.querySelector(".fallback-icon");e&&(e.style.display="flex")}})(e,t.name),style:{display:"block"}}),(0,a.jsx)("div",{className:"fallback-icon w-[20px] h-[20px] bg-white rounded-full items-center justify-center absolute inset-0",style:{display:"none"},children:(0,a.jsx)(mn,{})})]}):(0,a.jsx)(mn,{})}),(0,a.jsx)("span",{className:"text-center text-[10px] font-medium leading-tight break-words",children:t.name})]})},i)})})},t))})})}let md=e=>{let{items:t,clickType:r,searchType:i,tab:l,filterCategoryStorage:s,setFilterCategoryStorage:n,filterCategorySubCategoryStorage:o,setFilterCategorySubCategoryStorage:d,filterCategorySubCategoryBrandsStorage:c,setFilterCategorySubCategoryBrandsStorage:u}=e,m=(null==o?void 0:o.flatMap(e=>e.idSubCategories))||[],g=null==t?void 0:t.map(e=>({...e,subCategories:e.subCategories.filter(e=>m.includes(e.idSubCategory))})).filter(e=>e.subCategories.length>0);return(0,a.jsx)(I.W,{fluid:!0,children:(0,a.jsx)(sa.x,{w:"100%",pos:"relative",children:(0,a.jsx)(nU.tq,{modules:[n$.Rv,n$.W_],freeMode:!0,slidesPerView:"auto",spaceBetween:8,className:"mt-2",style:{width:"100%"},loop:!0,children:null==g?void 0:g.map(e=>(0,a.jsx)(nU.o5,{style:{width:"auto"},children:(0,a.jsx)(mo,{parentItem:e,clickType:r,searchType:i,tab:l,filterCategoryStorage:s,setFilterCategoryStorage:n,filterCategorySubCategoryStorage:o,setFilterCategorySubCategoryStorage:d,filterCategorySubCategoryBrandsStorage:c,setFilterCategorySubCategoryBrandsStorage:u})},e.idCategory))})})})},mc=function(e){let{items:t,click:r,clickType:i,selectedBrand:l,setBrands:s,subCategoryBrandsUniqueID:n,setSubCategoryBrandsUniqueID:o,filtersContext:d,searchType:c,selectedCategory:u,selectedSubCategory:m,filterBrandStorage:g,setFilterBrandStorage:p,filterBrandsCategoryStorage:h,setFilterBrandsCategoryStorage:x,filterBrandsSubCategoryCategoryStorage:b,setFilterBrandsSubCategoryCategoryStorage:f,filterSubCategoryCategoryStorage:y,setFilterSubCategoryCategoryStorage:j,filterBrandsCategorySubCategoryStorage:v,setFilterBrandsCategorySubCategoryStorage:C,filterCategoryStorage:w,setFilterCategoryStorage:k,filterCategorySubCategoryStorage:S,setFilterCategorySubCategoryStorage:I,filterCategorySubCategoryBrandsStorage:z,setFilterCategorySubCategoryBrandsStorage:N,tab:D,brandsContext:A,setSubCategoryUniqueID:F,subCategoryUniqueID:M}=e;switch(c){case"category":return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{children:(0,a.jsx)(ma,{items:t,clickType:"categories",searchType:c,tab:D,filterCategoryStorage:w,setFilterCategoryStorage:k,filterCategorySubCategoryStorage:S,setFilterCategorySubCategoryStorage:I,filterCategorySubCategoryBrandsStorage:z,setFilterCategorySubCategoryBrandsStorage:N})}),(0,a.jsx)("div",{children:(0,a.jsx)(ms,{items:t,clickType:"categorySubCategories",searchType:c,tab:D,filterCategoryStorage:w,setFilterCategoryStorage:k,filterCategorySubCategoryStorage:S,setFilterCategorySubCategoryStorage:I,filterCategorySubCategoryBrandsStorage:z,setFilterCategorySubCategoryBrandsStorage:N})}),(0,a.jsx)("div",{children:(0,a.jsx)(md,{items:t,clickType:"categoryBrands",searchType:c,tab:D,filterCategoryStorage:w,setFilterCategoryStorage:k,filterCategorySubCategoryStorage:S,setFilterCategorySubCategoryStorage:I,filterCategorySubCategoryBrandsStorage:z,setFilterCategorySubCategoryBrandsStorage:N})})]});case"brand":return(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{children:(0,a.jsx)(u4,{items:t,clickType:"brands",searchType:c,tab:D,filterBrandStorage:g,setFilterBrandStorage:p})}),(0,a.jsx)("div",{children:(0,a.jsx)(u8,{items:t,clickType:"brandCategories",searchType:c,tab:D,filterBrandStorage:g,setFilterBrandStorage:p,filterBrandsCategoryStorage:h,setFilterBrandsCategoryStorage:x})}),(0,a.jsx)("div",{children:(0,a.jsx)(me,{items:t,clickType:"brandSubCategories",searchType:c,tab:D,filterBrandStorage:g,setFilterBrandStorage:p,filterBrandsCategoryStorage:h,setFilterBrandsCategoryStorage:x,filterBrandsCategorySubCategoryStorage:v,setFilterBrandsCategorySubCategoryStorage:C})})]});default:return null}},mu=function(e){let{filters:t,data:r,isLoading:i}=e,[s,{open:n,close:o}]=(0,s$.q)(),d=(0,nh.V)({timeout:2e3}),[c,u]=(0,l.fP)(["user"]),[m,g]=(0,p.useState)({});return((0,p.useEffect)(()=>{if(c.user)try{let e=cJ(c.user);g(e)}catch(e){console.error("Error decoding token:",e),g({})}},[c.user]),(null==m?void 0:m.role)&&"supplier"===m.role)?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(z.z,{size:"xs",rightSection:(0,a.jsx)(sb.IconShare,{size:16}),onClick:n,children:"اشتراک گذاری"}),(0,a.jsx)(sp.u,{centered:!0,title:"اشتراک گذاری محصولات شما",onClose:o,opened:s,children:i?(0,a.jsx)(si.M,{children:(0,a.jsx)(A.a,{})}):(0,a.jsxs)(sw.K,{gap:"md",children:[(0,a.jsx)(se.x,{size:"sm",c:"dimmed",children:"با کلیک روی دکمه زیر، لینک صفحه محصولات شما کپی خواهد شد"}),(0,a.jsx)(z.z,{size:"sm",variant:"light",fullWidth:!0,color:d.copied?"green":"dark",onClick:()=>{let e=`${window.location.origin}${window.location.pathname}?supplierid=${null==m?void 0:m.supplierId}&suppliername=${encodeURIComponent((null==m?void 0:m.supplierName)||"")}`;d.copy(e)},leftSection:d.copied?(0,a.jsx)(sb.IconCheck,{size:16}):(0,a.jsx)(sb.IconCopy,{size:16}),children:d.copied?"کپی شد":"کپی کردن لینک"}),d.copied&&(0,a.jsx)(se.x,{size:"xs",c:"green",ta:"center",children:"لینک با موفقیت کپی شد!"})]})})]}):null},mm=e=>{let{searchType:t,setSearchType:r,setAvailableLocations:i,filters:l,setFilters:s,setNodes:n,setNodesSubCategories:o}=e,d=(0,m.I0)(),[c,u]=(0,p.useState)({parent:[],clickedBrands:[],categories:[]}),[h,x]=(0,p.useState)({parent:[],clickedCategories:[],subCategory:[],brands:[]}),{tableData:b,loading:f}=(0,m.v9)(e=>e.fastEditBrandModeData||{}),y="search_filters_brand_fast_edit",j=(()=>{let e=C.Z.get(y);if(e)try{return JSON.parse(e)}catch(e){}return{searchType:"brand",uniqueIDClickedBrands:[],uniqueIDClickedBrandsCategories:[],filterBrandsCategorySubCategoryStorage:[],filters:{color:"all",province:"all",stockStatus:"all",minStock:"",deliveryTime:"",paymentType:"",supplier:"",sort:"bestPrice",priceFormat:"hezar"}}})(),[v,w]=(0,p.useState)(j.uniqueIDClickedBrands),[k,S]=(0,p.useState)(j.uniqueIDClickedBrandsCategories),[I,z]=(0,p.useState)(j.filterBrandsCategorySubCategoryStorage),[D,A]=(0,p.useState)(j.filters),[F,M]=(0,p.useState)([]),[T,P]=(0,p.useState)([]),[E,_]=(0,p.useState)([]),{setFilterValues:L}=mw(),{id:B}=(0,g.UO)();(0,p.useEffect)(()=>{C.Z.set(y,JSON.stringify({searchType:t,uniqueIDClickedBrands:v,uniqueIDClickedBrandsCategories:k,filterBrandsCategorySubCategoryStorage:I,filters:D}),{expires:7})},[t,v,k,I,l,D]),(0,p.useEffect)(()=>{let e=C.Z.get(y);if(e)try{let t=JSON.parse(e);w(t.uniqueIDClickedBrands||[]),S(t.uniqueIDClickedBrandsCategories||[]),z(t.filterBrandsCategorySubCategoryStorage||[]),A(t.filters||{}),s(t.filters||{}),r(t.searchType||"brand")}catch(e){}},[]);let O=(0,p.useCallback)(()=>{let e={};return"brand"===t?(e.searchType=t,e.uniqueIDClickedBrands=v,e.uniqueIDClickedBrandsCategories=k,e.filterBrandsCategorySubCategoryStorage=I):"category"===t&&(e.searchType="category",e.parent=h.parent,e.subCategory=h.subCategory,e.uniqueIDClickedCategories=F,e.uniqueIDClickedSubCategories=T,e.uniqueIDClickedSubCategoriesBrands=E),e.filters=l,B&&(e.userId=B),C.Z.set(y,JSON.stringify(e),{expires:7}),{thisFilter:e,query:sg().stringify(e,{addQueryPrefix:!0,arrayFormat:"comma"})}},[c,h,t,l,v,k,I,F,T,E,B]);O().query,(0,p.useEffect)(()=>{d(rj({searchType:t,uniqueIDClickedBrands:O().thisFilter.uniqueIDClickedBrands,uniqueIDClickedBrandsCategories:O().thisFilter.uniqueIDClickedBrandsCategories,filterBrandsCategorySubCategoryStorage:O().thisFilter.filterBrandsCategorySubCategoryStorage}))},[d,O().thisFilter.uniqueIDClickedBrands,O().thisFilter.uniqueIDClickedBrandsCategories,O().thisFilter.filterBrandsCategorySubCategoryStorage,v]),(0,p.useEffect)(()=>{b&&(n((null==b?void 0:b.products)||[]),o((null==b?void 0:b.subCategoriesData)||[]),L((null==b?void 0:b.filters)||{}),i((null==b?void 0:b.supplierLocations)||[]))},[b,v]),(0,sq.a)("(max-width: 768px)");let R=(0,sq.a)("(max-width: 1024px)");return console.log("tableData",l),(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(N.X,{mt:{base:"xs",md:"xs"},mb:R?"sm":"",id:"fastorder-search",children:[(0,a.jsxs)("div",{className:"flex flex-row justify-between mb-4",children:[(0,a.jsx)("div",{className:"flex",children:(0,a.jsx)(nq,{children:"ویرایش سریع"})}),(0,a.jsx)("div",{className:"flex",children:(0,a.jsx)(mu,{filters:O().thisFilter})})]}),(0,a.jsx)(nS.f,{pos:"fixed",visible:f,zIndex:1e3,h:"100%"}),(0,a.jsxs)(s1.m,{styles:{panel:{marginTop:"20px"}},variant:"pills",defaultValue:"brand",value:t,onChange:r,children:[(0,a.jsxs)(s1.m.List,{children:[(0,a.jsx)(s1.m.Tab,{value:"brand",children:"جستجو بر اساس برند"}),(0,a.jsx)(s1.m.Tab,{value:"category",children:"جستجو بر اساس دسته بندی"})]}),(0,a.jsx)(s1.m.Panel,{value:"brand",children:"brand"===t&&b?(0,a.jsx)(mc,{tab:c,items:null==b?void 0:b.brands,searchType:t,click:u,filterBrandStorage:v,setFilterBrandStorage:w,filterBrandsCategoryStorage:k,setFilterBrandsCategoryStorage:S,filterBrandsCategorySubCategoryStorage:I,setFilterBrandsCategorySubCategoryStorage:z}):null})]})]})})},mg={closeAllDropdowns:()=>{}};function mp(e){let{data:t=[],value:r,onChange:i,placeholder:l="انتخاب کنید",allLabel:s="همه",size:n="xs",clearable:o=!1,disabled:d=!1,dropdownId:c,...u}=e,m=(0,sE.rZ)(),[g,h]=(0,p.useState)(!1),x=t.map(e=>"string"==typeof e?{label:e,value:e}:e),b=(0,d1.K)({onDropdownClose:()=>{h(!1),b.resetSelectedOption()},onDropdownOpen:()=>{h(!0)}});(0,p.useEffect)(()=>{let e=mg.closeAllDropdowns;return mg.closeAllDropdowns=()=>{g&&(b.closeDropdown(),h(!1)),e()},()=>{mg.closeAllDropdowns=e}},[g,b]),x.find(e=>e.value===r);let f=r||"all",y=x.find(e=>e.value===f),j="all"===f?s:y?y.label:s;return(0,a.jsxs)(d6.h,{store:b,onOptionSubmit:e=>{null==i||i(e||"all"),b.closeDropdown(),h(!1)},size:n,position:"bottom-start",middlewares:{flip:!1,shift:!0},dropdownPadding:4,shadow:"md",children:[(0,a.jsx)(d6.h.Target,{children:(0,a.jsx)(c4.M,{component:"button",type:"button",onClick:e=>{e.stopPropagation(),d||(mg.closeAllDropdowns(),setTimeout(()=>{b.opened?b.closeDropdown():b.openDropdown()},0))},size:n,"aria-expanded":g,disabled:d,...u,style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",width:"100%",textAlign:"left",background:"transparent",border:"none",cursor:d?"not-allowed":"pointer",position:"relative",zIndex:1},children:(0,a.jsxs)(l9.k,{flexDirection:"row",alignItems:"center",gap:8,style:{flex:1},children:[(0,a.jsx)(se.x,{size:"xs",style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",flex:1},children:j}),(0,a.jsx)(sb.IconChevronDown,{size:14,style:{transform:g?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s ease"}})]})})}),(0,a.jsxs)(d6.h.Dropdown,{style:{minWidth:"200px",width:"auto",zIndex:1e3,maxHeight:"250px",overflowY:"auto",overflowX:"hidden",border:"1px solid #ccc",borderRadius:"6px",backgroundColor:"white",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)"},children:[(0,a.jsx)(d6.h.Option,{value:"",disabled:!0,style:{opacity:.7,pointerEvents:"none"},children:(0,a.jsx)(se.x,{size:"xs",color:"dimmed",children:l})}),x.map(e=>{var t;return(0,a.jsx)(d6.h.Option,{value:e.value,style:{cursor:"pointer",borderRadius:"4px"},children:(0,a.jsx)(sh.Z,{position:"apart",style:{width:"100%"},children:(0,a.jsxs)(l9.k,{flexDirection:"row",alignItems:"center",gap:8,style:{flex:1},children:[String(f)===String(e.value)&&(0,a.jsx)(sb.IconCheck,{size:14,color:null==(t=m.colors.gray)?void 0:t[6]}),(0,a.jsx)(se.x,{size:"xs",style:{whiteSpace:"nowrap"},children:e.label})]})})},e.value)})]})]})}let mh=e=>{var t;let{colors:r=[],value:i,onChange:l,placeholder:s="رنگ",dropdownId:n}=e,o=(0,sE.rZ)(),d=[{label:"همه",value:"all"},...r],[c,u]=(0,p.useState)(i||(null==(t=d[0])?void 0:t.value)),[m,g]=(0,p.useState)(!1),h=(0,d1.K)({onDropdownClose:()=>{g(!1),h.resetSelectedOption()},onDropdownOpen:()=>{g(!0)}});(0,p.useEffect)(()=>{let e=mg.closeAllDropdowns;return mg.closeAllDropdowns=()=>{m&&(h.closeDropdown(),g(!1)),e()},()=>{mg.closeAllDropdowns=e}},[m,h]),(0,p.useEffect)(()=>{var e;u(i??(null==(e=d[0])?void 0:e.value))},[i,r]);let x=d.find(e=>e.value===c);return(0,a.jsxs)(d6.h,{store:h,onOptionSubmit:e=>{u(e),null==l||l(e),h.closeDropdown(),g(!1)},position:"bottom-start",middlewares:{flip:!1,shift:!0},dropdownPadding:4,shadow:"md",children:[(0,a.jsx)(d6.h.Target,{children:(0,a.jsx)(c4.M,{component:"button",type:"button",onClick:e=>{e.stopPropagation(),mg.closeAllDropdowns(),setTimeout(()=>{h.opened?h.closeDropdown():h.openDropdown()},0)},size:"xs",style:{display:"flex",alignItems:"center",justifyContent:"flex-start",gap:8,width:"100%",background:"transparent",border:"none",textAlign:"left",position:"relative",zIndex:1},children:(0,a.jsxs)(l9.k,{flexDirection:"row",alignItems:"center",gap:8,style:{flex:1},children:[c&&x?(0,a.jsx)(sh.Z,{gap:6,style:{flex:1},children:"all"===c?(0,a.jsx)(se.x,{size:"xs",style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:"همه رنگ‌ها"}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n0.b,{size:14,color:c}),(0,a.jsx)(se.x,{size:"xs",style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:x.label})]})}):(0,a.jsx)(se.x,{size:"xs",children:s}),(0,a.jsx)(sb.IconChevronDown,{size:14,style:{transform:m?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s ease"}})]})})}),(0,a.jsxs)(d6.h.Dropdown,{style:{minWidth:"200px",width:"auto",zIndex:1e3,maxHeight:"250px",overflowY:"auto",overflowX:"hidden",border:"1px solid #ccc",borderRadius:"6px",backgroundColor:"white",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)"},children:[(0,a.jsx)(d6.h.Option,{value:"",disabled:!0,style:{opacity:.7,pointerEvents:"none"},children:(0,a.jsx)(se.x,{size:"xs",color:"dimmed",children:s})}),d.map(e=>{var t;return(0,a.jsx)(d6.h.Option,{value:e.value,style:{cursor:"pointer",borderRadius:"4px"},children:(0,a.jsxs)(sh.Z,{gap:6,position:"apart",style:{width:"100%"},children:[(0,a.jsxs)(sh.Z,{children:["all"!==e.value&&(0,a.jsx)(n0.b,{color:e.value,size:12}),(0,a.jsx)(se.x,{size:"xs",style:{whiteSpace:"nowrap"},children:e.label})]}),c===e.value&&(0,a.jsx)(sb.IconCheck,{size:12,color:null==(t=o.colors.gray)?void 0:t[6]})]})},e.value)})]})]})},mx=function(e){let{setFilters:t,nodes:r,filters:i,setNodes:l,setNodesSubCategories:s,searchType:n,setSearchType:o}=e,d=new URLSearchParams((0,g.TH)().search),c=d.get("supplierid")||"";d.get("suppliername");let u=!!c,{filterValues:m}=mw(),{filtersContext:h,setFiltersContext:x,brandsContext:b={parent:[]}}=u0(),f=(0,sq.a)("(max-width: 480px)");(0,sq.a)("(max-width: 1024px)");let y=(0,sd.c)({initialValues:{color:(null==i?void 0:i.color)||"all",province:(null==i?void 0:i.province)||"all",stockStatus:(null==i?void 0:i.stockStatus)||!1,minStock:(null==i?void 0:i.minStock)||"all",deliveryTime:(null==i?void 0:i.deliveryTime)||"all",paymentType:(null==i?void 0:i.paymentType)||"all",supplier:(null==i?void 0:i.supplier)||"all",sort:(null==i?void 0:i.sort)||"",priceFormat:(null==i?void 0:i.priceFormat)||"",saleType:(null==i?void 0:i.saleType)||"cash"}});(0,p.useEffect)(()=>{i&&y.setValues(i)},[i]);let j=(e,t)=>{e.stopPropagation(),mg.closeAllDropdowns(),"province"===t?y.setFieldValue("province","mylocation"===y.values.province?"all":"mylocation"):"stockStatus"===t?y.setFieldValue("stockStatus",!y.values.stockStatus):"saleType"===t&&y.setFieldValue("saleType","cash"===y.values.saleType?"credit":"cash")};if((0,p.useEffect)(()=>{let e=e=>{e.target.closest(".swiper-slide")||e.target.closest("[data-combobox-dropdown]")||mg.closeAllDropdowns()};return document.addEventListener("click",e),()=>document.removeEventListener("click",e)},[]),!m||!Array.isArray(m.colors))return(0,a.jsx)(nS.f,{});let v={width:"fit-content",minWidth:"30px",padding:"2px",height:"35px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},C={...v,minWidth:"60px",justifyContent:"flex-end"},w=Array.isArray(m.sellers)?m.sellers.map(e=>"string"==typeof e?{label:e,value:e}:e):[];return(0,a.jsx)(N.X,{mt:{base:"xs",md:"xs"},id:"fastorder-filters",p:f?"sm":"md",style:{overflow:"hidden"},children:(0,a.jsx)("form",{onSubmit:y.onSubmit(e=>{t(e),x(e),mg.closeAllDropdowns()}),children:(0,a.jsxs)(nU.tq,{modules:[n$.Rv],spaceBetween:0,slidesPerView:"auto",freeMode:!0,style:{height:"35px",overflow:"visible"},children:[(0,a.jsx)(nU.o5,{style:C,children:(0,a.jsx)("div",{className:"flex flex-col justify-center h-full",children:(0,a.jsx)(z.z,{type:"submit",size:"sm",leftSection:(0,a.jsx)(sb.IconFilter,{size:18}),children:"اعمال"})})}),(0,a.jsx)(nU.o5,{style:v,children:(0,a.jsx)("div",{className:"flex items-center h-full",children:(0,a.jsx)("div",{style:{flex:1,minWidth:"0"},children:(0,a.jsx)(mp,{placeholder:"ترتیب",allLabel:"همه ترتیب‌ها",data:[{label:"بهترین قیمت",value:"bestPrice"},{label:"بیشترین موجودی",value:"highestStock"}],value:y.values.sort,onChange:e=>y.setFieldValue("sort",e),dropdownId:"sort"})})})}),(0,a.jsx)(nU.o5,{style:v,children:(0,a.jsx)("div",{className:"flex items-center h-full",children:(0,a.jsx)("div",{style:{flex:1},children:(0,a.jsx)(mp,{placeholder:"واحد",allLabel:"همه واحدها",data:[{label:"هزار تومان",value:"hezar"},{label:"میلیون تومان",value:"million"}],value:y.values.priceFormat,onChange:e=>y.setFieldValue("priceFormat",e),dropdownId:"priceFormat"})})})}),(0,a.jsx)(nU.o5,{style:v,children:(0,a.jsx)("div",{className:"flex items-center h-full",children:(0,a.jsx)("div",{style:{flex:1},children:(0,a.jsx)(mh,{placeholder:"رنگ",colors:m.colors||[],value:y.values.color,onChange:e=>y.setFieldValue("color",e),dropdownId:"color"})})})}),(0,a.jsx)(nU.o5,{style:v,children:(0,a.jsx)("div",{className:"flex items-center h-full",children:(0,a.jsx)("div",{style:{flex:1},children:(0,a.jsx)(mp,{placeholder:"ارسال",allLabel:"همه بازه‌های ارسال",data:[{label:"همه",value:"all"},{label:"< 3 ساعت",value:"3hr"},{label:"< 1 روز",value:"1d"},{label:"تا 3 روز",value:"3d"},{label:"تا 1 هفته",value:"7d"},{label:"تا 15 روز",value:"15d"},{label:"تا 30 روز",value:"30d"},{label:"بیش از 30 روز",value:"30d+"}],value:y.values.deliveryTime,onChange:e=>y.setFieldValue("deliveryTime",e),dropdownId:"deliveryTime"})})})}),(0,a.jsx)(nU.o5,{style:v,children:(0,a.jsx)("div",{className:"flex items-center h-full",children:(0,a.jsx)("div",{style:{flex:1},children:(0,a.jsx)(mp,{placeholder:"موجودی",allLabel:"همه موجودی",data:[{label:"همه",value:"all"},{label:"5",value:"5"},{label:"10",value:"10"},{label:"20",value:"20"},{label:"50",value:"50"},{label:"100",value:"100"}],value:y.values.minStock,onChange:e=>y.setFieldValue("minStock",e),dropdownId:"minStock"})})})}),(0,a.jsx)(nU.o5,{style:v,children:(0,a.jsx)("div",{className:"flex items-center h-full",children:(0,a.jsx)("div",{style:{flex:1},children:(0,a.jsx)(mp,{placeholder:"تامین",allLabel:"همه تامین‌کنندگان",data:[{label:"همه",value:"all"},...w],value:u?c:y.values.supplier,onChange:e=>{u||y.setFieldValue("supplier",e)},disabled:u,dropdownId:"supplier"})})})}),(0,a.jsx)(nU.o5,{style:{...v,cursor:"pointer",overflow:"hidden"},onClick:e=>j(e,"province"),children:(0,a.jsx)("div",{className:"flex flex-col items-center justify-center h-full gap-1",children:(0,a.jsx)(c3.r,{label:"mylocation"===y.values.province?"استان من":"همه استان ها",checked:"mylocation"===y.values.province,readOnly:!0,size:"xs",labelPosition:"right",styles:e=>({root:{pointerEvents:"none"},track:{backgroundColor:"mylocation"===y.values.province?e.colors.blue[8]:e.colors.yellow[5]},thumb:{backgroundColor:e.white}})})})}),(0,a.jsx)(nU.o5,{style:{...v,cursor:"pointer",overflow:"hidden"},onClick:e=>j(e,"stockStatus"),children:(0,a.jsx)("div",{className:"flex flex-col items-center justify-center h-full gap-1",children:(0,a.jsx)(c3.r,{label:y.values.stockStatus?"موجود":"ناموجود",checked:!!y.values.stockStatus,readOnly:!0,size:"xs",labelPosition:"right",styles:e=>({root:{pointerEvents:"none"},track:{backgroundColor:y.values.stockStatus?e.colors.green[6]:e.colors.red[6]},thumb:{backgroundColor:e.white}})})})}),(0,a.jsx)(nU.o5,{style:{...v,cursor:"pointer",overflow:"hidden"},onClick:e=>j(e,"saleType"),children:(0,a.jsx)("div",{className:"flex flex-col items-center justify-center h-full gap-1",children:(0,a.jsx)(c3.r,{label:"cash"===y.values.saleType?"نقدی":"پیش فروش",checked:"cash"===y.values.saleType,readOnly:!0,size:"xs",labelPosition:"right",styles:e=>({root:{pointerEvents:"none"},track:{backgroundColor:"cash"===y.values.saleType?e.colors.grape[6]:e.colors.violet[6]},thumb:{backgroundColor:e.white}})})})})]})})})},mb={closeAllDropdowns:()=>{}};function mf(e){let{data:t=[],value:r,onChange:i,placeholder:l="انتخاب کنید",allLabel:s="همه",size:n="xs",clearable:o=!1,disabled:d=!1,searchable:c=!1,style:u={},dropdownId:m,...g}=e,h=(0,sE.rZ)(),[x,b]=(0,p.useState)(!1),f=t.map(e=>"string"==typeof e?{label:e,value:e}:e),y=(0,d1.K)({onDropdownClose:()=>{b(!1),y.resetSelectedOption()},onDropdownOpen:()=>{b(!0)}});(0,p.useEffect)(()=>{let e=mb.closeAllDropdowns;return mb.closeAllDropdowns=()=>{x&&(y.closeDropdown(),b(!1)),e()},()=>{mb.closeAllDropdowns=e}},[x,y]),f.find(e=>e.value===r);let j=r||"all",v=f.find(e=>e.value===j),C="all"===j?s:v?v.label:s;return(0,a.jsxs)(d6.h,{store:y,onOptionSubmit:e=>{null==i||i(e||"all"),y.closeDropdown(),b(!1)},size:n,position:"bottom-start",middlewares:{flip:!1,shift:!0},dropdownPadding:4,shadow:"md",children:[(0,a.jsx)(d6.h.Target,{children:(0,a.jsx)(c4.M,{component:"button",type:"button",onClick:e=>{e.stopPropagation(),d||(mb.closeAllDropdowns(),setTimeout(()=>{y.opened?y.closeDropdown():y.openDropdown()},0))},size:n,"aria-expanded":x,disabled:d,...g,style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",width:"100%",textAlign:"left",background:"transparent",border:"none",cursor:d?"not-allowed":"pointer",position:"relative",zIndex:1,...u},children:(0,a.jsxs)(l9.k,{flexDirection:"row",alignItems:"center",gap:8,style:{flex:1},children:[(0,a.jsx)(se.x,{size:"xs",style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",flex:1},children:C}),(0,a.jsx)(sb.IconChevronDown,{size:14,style:{transform:x?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s ease"}})]})})}),(0,a.jsxs)(d6.h.Dropdown,{style:{minWidth:"200px",width:"auto",zIndex:1e3,maxHeight:"250px",overflowY:"auto",overflowX:"hidden",border:"1px solid #ccc",borderRadius:"6px",backgroundColor:"white",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)"},children:[(0,a.jsx)(d6.h.Option,{value:"",disabled:!0,style:{opacity:.7,pointerEvents:"none"},children:(0,a.jsx)(se.x,{size:"xs",color:"dimmed",children:l})}),f.map(e=>{var t;return(0,a.jsx)(d6.h.Option,{value:e.value,style:{cursor:"pointer",borderRadius:"4px"},children:(0,a.jsx)(sh.Z,{position:"apart",style:{width:"100%"},children:(0,a.jsxs)(l9.k,{flexDirection:"row",alignItems:"center",gap:8,style:{flex:1},children:[String(j)===String(e.value)&&(0,a.jsx)(sb.IconCheck,{size:14,color:null==(t=h.colors.gray)?void 0:t[6]}),(0,a.jsx)(se.x,{size:"xs",style:{whiteSpace:"nowrap"},children:e.label})]})})},e.value)})]})]})}let my=e=>{var t;let{colors:r=[],value:i,onChange:l,placeholder:s="رنگ",dropdownId:n}=e,o=(0,sE.rZ)(),d=[{label:"همه",value:"all"},...r],[c,u]=(0,p.useState)(i||(null==(t=d[0])?void 0:t.value)),[m,g]=(0,p.useState)(!1),h=(0,d1.K)({onDropdownClose:()=>{g(!1),h.resetSelectedOption()},onDropdownOpen:()=>{g(!0)}});(0,p.useEffect)(()=>{let e=mb.closeAllDropdowns;return mb.closeAllDropdowns=()=>{m&&(h.closeDropdown(),g(!1)),e()},()=>{mb.closeAllDropdowns=e}},[m,h]),(0,p.useEffect)(()=>{var e;u(i??(null==(e=d[0])?void 0:e.value))},[i,r]);let x=d.find(e=>e.value===c);return(0,a.jsxs)(d6.h,{store:h,onOptionSubmit:e=>{u(e),null==l||l(e),h.closeDropdown(),g(!1)},position:"bottom-start",middlewares:{flip:!1,shift:!0},dropdownPadding:4,shadow:"md",children:[(0,a.jsx)(d6.h.Target,{children:(0,a.jsx)(c4.M,{component:"button",type:"button",onClick:e=>{e.stopPropagation(),mb.closeAllDropdowns(),setTimeout(()=>{h.opened?h.closeDropdown():h.openDropdown()},0)},size:"xs",style:{display:"flex",alignItems:"center",justifyContent:"flex-start",gap:8,width:"100%",background:"transparent",border:"none",textAlign:"left",position:"relative",zIndex:1},children:(0,a.jsxs)(l9.k,{flexDirection:"row",alignItems:"center",gap:8,style:{flex:1},children:[c&&x?(0,a.jsx)(sh.Z,{gap:6,style:{flex:1},children:"all"===c?(0,a.jsx)(se.x,{size:"xs",style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:"همه رنگ‌ها"}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n0.b,{size:14,color:c}),(0,a.jsx)(se.x,{size:"xs",style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:x.label})]})}):(0,a.jsx)(se.x,{size:"xs",children:s}),(0,a.jsx)(sb.IconChevronDown,{size:14,style:{transform:m?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s ease"}})]})})}),(0,a.jsxs)(d6.h.Dropdown,{style:{minWidth:"200px",width:"auto",zIndex:1e3,maxHeight:"250px",overflowY:"auto",overflowX:"hidden",border:"1px solid #ccc",borderRadius:"6px",backgroundColor:"white",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)"},children:[(0,a.jsx)(d6.h.Option,{value:"",disabled:!0,style:{opacity:.7,pointerEvents:"none"},children:(0,a.jsx)(se.x,{size:"xs",color:"dimmed",children:s})}),d.map(e=>{var t;return(0,a.jsx)(d6.h.Option,{value:e.value,style:{cursor:"pointer",borderRadius:"4px"},children:(0,a.jsxs)(sh.Z,{gap:6,position:"apart",style:{width:"100%"},children:[(0,a.jsxs)(sh.Z,{children:["all"!==e.value&&(0,a.jsx)(n0.b,{color:e.value,size:12}),(0,a.jsx)(se.x,{size:"xs",style:{whiteSpace:"nowrap"},children:e.label})]}),c===e.value&&(0,a.jsx)(sb.IconCheck,{size:12,color:null==(t=o.colors.gray)?void 0:t[6]})]})},e.value)})]})]})},mj=function(e){let{setFilters:t,nodes:r,filters:i,setNodes:l,setNodesSubCategories:s,searchType:n,setSearchType:o}=e,d=new URLSearchParams((0,g.TH)().search).get("supplierid")||"",c=!!d,u=(0,sq.a)("(max-width: 480px)");(0,sq.a)("(max-width: 1024px)");let{filterValues:m}=mw(),{filtersContext:h,setFiltersContext:x,brandsContext:b={parent:[]}}=u0(),f=(0,sd.c)({initialValues:{color:(null==i?void 0:i.color)||"all",province:(null==i?void 0:i.province)||"all",stockStatus:(null==i?void 0:i.stockStatus)||!1,minStock:(null==i?void 0:i.minStock)||"all",deliveryTime:(null==i?void 0:i.deliveryTime)||"all",paymentType:(null==i?void 0:i.paymentType)||"all",supplier:d||(null==i?void 0:i.supplier)||"all",sort:(null==i?void 0:i.sort)||"",priceFormat:(null==i?void 0:i.priceFormat)||"",saleType:(null==i?void 0:i.saleType)||"cash"}});(0,p.useEffect)(()=>{d&&d!==f.values.supplier&&(f.setFieldValue("supplier",d),t(e=>({...e,supplier:d})))},[d,f,t]),(0,p.useEffect)(()=>{i&&f.setValues(i)},[i]);let y=(e,t)=>{e.stopPropagation(),mb.closeAllDropdowns(),"province"===t?f.setFieldValue("province","mylocation"===f.values.province?"all":"mylocation"):"stockStatus"===t?f.setFieldValue("stockStatus",!f.values.stockStatus):"saleType"===t&&f.setFieldValue("saleType","cash"===f.values.saleType?"credit":"cash")};(0,p.useEffect)(()=>{let e=e=>{e.target.closest(".swiper-slide")||e.target.closest("[data-combobox-dropdown]")||mb.closeAllDropdowns()};return document.addEventListener("click",e),()=>document.removeEventListener("click",e)},[]),(0,p.useEffect)(()=>{},[i]);let{setBrandsContext:j,setCategoryContext:v}=u0(),[C,w]=(0,p.useState)({parent:[],categories:[]}),[k,S]=(0,p.useState)({parent:[],subCategory:[],brands:[]}),{setFilterValues:I}=mw(),{id:D}=(0,g.UO)();if(!m||!Array.isArray(m.colors))return(0,a.jsx)(nS.f,{});let A={width:"fit-content",minWidth:"30px",padding:"2px",height:"35px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},F={...A,minWidth:"60px",justifyContent:"flex-end"},M=Array.isArray(m.sellers)?m.sellers.map(e=>"string"==typeof e?{label:e,value:e}:e):[];return(0,a.jsx)(N.X,{mt:{base:"xs",md:"xs"},id:"fastorder-search",p:u?"sm":"md",style:{overflow:"hidden"},children:(0,a.jsx)("form",{onSubmit:f.onSubmit(e=>{let r={...e};t(r),x(r),mb.closeAllDropdowns()}),children:(0,a.jsxs)(nU.tq,{modules:[n$.Rv],spaceBetween:0,slidesPerView:"auto",freeMode:!0,style:{height:"35px",overflow:"visible"},children:[(0,a.jsx)(nU.o5,{style:F,children:(0,a.jsx)("div",{className:"flex flex-col justify-center h-full",children:(0,a.jsx)(z.z,{type:"submit",size:"sm",leftSection:(0,a.jsx)(sb.IconFilter,{size:18}),children:"اعمال"})})}),(0,a.jsx)(nU.o5,{style:A,children:(0,a.jsx)("div",{className:"flex items-center h-full",children:(0,a.jsx)("div",{style:{flex:1,minWidth:"0"},children:(0,a.jsx)(mf,{placeholder:"ترتیب",allLabel:"همه ترتیب‌ها",data:[{label:"بهترین قیمت",value:"bestPrice"},{label:"بیشترین موجودی",value:"highestStock"}],value:f.values.sort,onChange:e=>f.setFieldValue("sort",e),dropdownId:"sort"})})})}),(0,a.jsx)(nU.o5,{style:A,children:(0,a.jsx)("div",{className:"flex items-center h-full",children:(0,a.jsx)("div",{style:{flex:1},children:(0,a.jsx)(mf,{placeholder:"واحد",allLabel:"همه واحدها",data:[{label:"هزار تومان",value:"hezar"},{label:"میلیون تومان",value:"million"}],value:f.values.priceFormat,onChange:e=>f.setFieldValue("priceFormat",e),dropdownId:"priceFormat"})})})}),(0,a.jsx)(nU.o5,{style:A,children:(0,a.jsx)("div",{className:"flex items-center h-full",children:(0,a.jsx)("div",{style:{flex:1},children:(0,a.jsx)(my,{placeholder:"رنگ",colors:m.colors||[],value:f.values.color,onChange:e=>f.setFieldValue("color",e),dropdownId:"color"})})})}),(0,a.jsx)(nU.o5,{style:A,children:(0,a.jsx)("div",{className:"flex items-center h-full",children:(0,a.jsx)("div",{style:{flex:1},children:(0,a.jsx)(mf,{placeholder:"ارسال",allLabel:"همه بازه‌های ارسال",data:[{label:"همه",value:"all"},{label:"< 3 ساعت",value:"3hr"},{label:"< 1 روز",value:"1d"},{label:"تا 3 روز",value:"3d"},{label:"تا 1 هفته",value:"7d"},{label:"تا 15 روز",value:"15d"},{label:"تا 30 روز",value:"30d"},{label:"بیش از 30 روز",value:"30d+"}],value:f.values.deliveryTime,onChange:e=>f.setFieldValue("deliveryTime",e),dropdownId:"deliveryTime"})})})}),(0,a.jsx)(nU.o5,{style:A,children:(0,a.jsx)("div",{className:"flex items-center h-full",children:(0,a.jsx)("div",{style:{flex:1},children:(0,a.jsx)(mf,{placeholder:"موجودی",allLabel:"همه موجودی",data:[{label:"همه",value:"all"},{label:"5",value:"5"},{label:"10",value:"10"},{label:"20",value:"20"},{label:"50",value:"50"},{label:"100",value:"100"}],value:f.values.minStock,onChange:e=>f.setFieldValue("minStock",e),dropdownId:"minStock"})})})}),(0,a.jsx)(nU.o5,{style:A,children:(0,a.jsx)("div",{className:"flex items-center h-full",children:(0,a.jsx)("div",{style:{flex:1},children:(0,a.jsx)(mf,{placeholder:"تامین",allLabel:"همه تامین‌کنندگان",data:[{label:"همه",value:"all"},...M],value:c?d:f.values.supplier,onChange:e=>{c||f.setFieldValue("supplier",e)},disabled:c,searchable:!0,dropdownId:"supplier"})})})}),(0,a.jsx)(nU.o5,{style:{...A,cursor:"pointer",overflow:"hidden"},onClick:e=>y(e,"province"),children:(0,a.jsx)("div",{className:"flex flex-col items-center justify-center h-full gap-1",children:(0,a.jsx)(c3.r,{label:"mylocation"===f.values.province?"استان من":"همه استان ها",checked:"mylocation"===f.values.province,readOnly:!0,size:"xs",labelPosition:"right",styles:e=>({root:{pointerEvents:"none"},track:{backgroundColor:"mylocation"===f.values.province?e.colors.blue[8]:e.colors.yellow[5]},thumb:{backgroundColor:e.white}})})})}),(0,a.jsx)(nU.o5,{style:{...A,cursor:"pointer",overflow:"hidden"},onClick:e=>y(e,"stockStatus"),children:(0,a.jsx)("div",{className:"flex flex-col items-center justify-center h-full gap-1",children:(0,a.jsx)(c3.r,{label:f.values.stockStatus?"موجود":"ناموجود",checked:!!f.values.stockStatus,readOnly:!0,size:"xs",labelPosition:"right",styles:e=>({root:{pointerEvents:"none"},track:{backgroundColor:f.values.stockStatus?e.colors.green[6]:e.colors.red[6]},thumb:{backgroundColor:e.white}})})})}),(0,a.jsx)(nU.o5,{style:{...A,cursor:"pointer",overflow:"hidden"},onClick:e=>y(e,"saleType"),children:(0,a.jsx)("div",{className:"flex flex-col items-center justify-center h-full gap-1",children:(0,a.jsx)(c3.r,{label:"cash"===f.values.saleType?"نقدی":"پیش فروش",checked:"cash"===f.values.saleType,readOnly:!0,size:"xs",labelPosition:"right",styles:e=>({root:{pointerEvents:"none"},track:{backgroundColor:"cash"===f.values.saleType?e.colors.grape[6]:e.colors.violet[6]},thumb:{backgroundColor:e.white}})})})})]})})})},mv=e=>{let{searchType:t,setSearchType:r,setAvailableLocations:i,filters:l,setFilters:s,setNodes:n,setNodesSubCategories:o}=e,d=(0,m.I0)(),{isVerified:c,loading:u,error:h,user:x}=(0,m.v9)(e=>e.auth),[b,f]=(0,p.useState)({parent:[],clickedBrands:[],categories:[]}),[y,j]=(0,p.useState)({parent:[],clickedCategories:[],subCategory:[],brands:[]}),{tableData:v,loading:w}=(0,m.v9)(e=>e.fastEditCategoryModeData),k="search_filters_category_fast_edit",S=(()=>{let e=C.Z.get(k);if(e)try{return JSON.parse(e)}catch(e){}return{searchType:"category",uniqueIDClickedCategories:[],uniqueIDClickedSubCategories:[],uniqueIDClickedSubCategoriesBrands:[],filters:{color:"all",province:"all",stockStatus:"all",minStock:"",deliveryTime:"",paymentType:"",supplier:"",sort:"bestPrice",priceFormat:"hezar"}}})(),[I,z]=(0,p.useState)(S.uniqueIDClickedBrands),[D,F]=(0,p.useState)(S.uniqueIDClickedBrandsCategories),[M,T]=(0,p.useState)(S.filterBrandsCategorySubCategoryStorage),[P,E]=(0,p.useState)(S.filters),[_,L]=(0,p.useState)(S.uniqueIDClickedCategories),[B,O]=(0,p.useState)(S.uniqueIDClickedSubCategories),[R,W]=(0,p.useState)(S.uniqueIDClickedSubCategoriesBrands),{setFilterValues:Z}=mw(),{id:U}=(0,g.UO)();(0,p.useEffect)(()=>{C.Z.set(k,JSON.stringify({searchType:t,uniqueIDClickedCategories:_,uniqueIDClickedSubCategories:B,uniqueIDClickedSubCategoriesBrands:R,filters:l}),{expires:7})},[t,_,B,R,l]),(0,p.useEffect)(()=>{let e=C.Z.get(k);if(e)try{let t=JSON.parse(e);L(t.uniqueIDClickedCategories||[]),O(t.uniqueIDClickedSubCategories||[]),W(t.uniqueIDClickedSubCategoriesBrands||[]),E(t.filters||{}),s(t.filters||{}),r(t.searchType||"category")}catch(e){}},[]);let $=(0,p.useCallback)(()=>{let e={};return"brand"===t?(e.searchType=t,e.uniqueIDClickedBrands=I,e.uniqueIDClickedBrandsCategories=D,e.filterBrandsCategorySubCategoryStorage=M):"category"===t&&(e.searchType="category",e.parent=y.parent,e.subCategory=y.subCategory,e.uniqueIDClickedCategories=_,e.uniqueIDClickedSubCategories=B,e.uniqueIDClickedSubCategoriesBrands=R),e.filters=l,U&&(e.userId=U),C.Z.set(k,JSON.stringify(e),{expires:7}),{thisFilter:e,query:sg().stringify(e,{addQueryPrefix:!0,arrayFormat:"comma"})}},[b,y,t,l,I,D,M,_,B,R,U]);$().query,console.log("filters",l),(0,p.useEffect)(()=>{d(rk({searchType:t,uniqueIDClickedCategories:$().thisFilter.uniqueIDClickedCategories,uniqueIDClickedSubCategories:$().thisFilter.uniqueIDClickedSubCategories,uniqueIDClickedSubCategoriesBrands:$().thisFilter.uniqueIDClickedSubCategoriesBrands}))},[d,t,$().thisFilter.uniqueIDClickedCategories,$().thisFilter.uniqueIDClickedSubCategories,$().thisFilter.uniqueIDClickedSubCategoriesBrands,_]),(0,p.useEffect)(()=>{v&&(n((null==v?void 0:v.products)||[]),o((null==v?void 0:v.products)||[]),Z((null==v?void 0:v.filters)||{}),i((null==v?void 0:v.supplierLocations)||[]))},[v,I]),(0,sq.a)("(max-width: 768px)");let q=(0,sq.a)("(max-width: 1024px)");return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(N.X,{mt:{base:"xs",md:"xs"},mb:q?"sm":"",id:"fastorder-search",children:[(0,a.jsxs)("div",{className:"flex flex-row justify-between mb-4",children:[(0,a.jsx)("div",{className:"flex",children:(0,a.jsx)(nq,{children:"ویرایش سریع"})}),(0,a.jsx)("div",{className:"flex",children:(0,a.jsx)(mu,{filters:$().thisFilter})})]}),(0,a.jsxs)(s1.m,{styles:{panel:{marginTop:"20px"}},variant:"pills",defaultValue:"brand",value:t,onChange:r,children:[(0,a.jsxs)(s1.m.List,{children:[(0,a.jsx)(s1.m.Tab,{value:"brand",children:"جستجو بر اساس برند"}),(0,a.jsx)(s1.m.Tab,{value:"category",children:"جستجو بر اساس دسته بندی"})]}),(0,a.jsx)(s1.m.Panel,{value:"category",children:"category"===t&&(w?(0,a.jsx)(si.M,{children:(0,a.jsx)(A.a,{})}):(null==v?void 0:v.category)?(0,a.jsx)(mc,{tab:y,items:v.category,searchType:t,click:j,filterCategoryStorage:_,setFilterCategoryStorage:L,filterCategorySubCategoryStorage:B,setFilterCategorySubCategoryStorage:O,filterCategorySubCategoryBrandsStorage:R,setFilterCategorySubCategoryBrandsStorage:W}):(0,a.jsx)(si.M,{children:(0,a.jsx)(se.x,{children:"No categories available"})}))})]})]})})},mC=(0,p.createContext)(),mw=()=>(0,p.useContext)(mC),mk=[{id:"0",title:"اپل",idBrand:"brand0",name:"apple",categories:[{id:"0",title:"موبایل",idCategory:"category0",subCategories:[{id:"0",name:"گوشی ساده",label:"smartphone",idSubCategory:"category0-subCategory0",image:"/uploads/brand-subcategories/phone.png"},{id:"1",name:"گوشی هوشمند",label:"phone",idSubCategory:"category0-subCategory1",image:"/uploads/brand-subcategories/phone.png"}],image:"/uploads/brand-categories/phone.png"},{id:"1",title:"کالای دیجیتال",idCategory:"category1",subCategories:[{id:"0",name:"لپ تاپ",label:"laptop",idSubCategory:"category1-subCategory0",image:"/uploads/brand-subcategories/laptop.png"}],image:"/uploads/brand-categories/digital.jpg"},{id:"2",title:"لوازم برقی",idCategory:"category2",subCategories:[{id:"0",name:"جارو برقی",label:"vacuum",idSubCategory:"category2-subCategory0",image:"/uploads/brand-subcategories/vacuum.jpg"}],image:"/uploads/brand-categories/electrical.png"}],image:"/uploads/brands/apple.png"},{id:"1",title:"سامسونگ",idBrand:"brand1",name:"samsung",categories:[{id:"1",title:"کالای دیجیتال",idCategory:"category1",subCategories:[{id:"0",name:"لپ تاپ",label:"laptop",idSubCategory:"category1-subCategory0",image:"/uploads/brand-subcategories/laptop.png"}],image:"/uploads/brand-categories/digital.jpg"}],image:"/uploads/brands/samsung.png"},{id:"2",title:"آنر",idBrand:"brand2",name:"honor",categories:[{id:"2",title:"لوازم برقی",idCategory:"category2",subCategories:[{id:"0",name:"جارو برقی",label:"vacuum",idSubCategory:"category2-subCategory0",image:"/uploads/brand-subcategories/vacuum.jpg"}],image:"/uploads/brand-categories/electrical.png"}],image:"/uploads/brands/honor.png"},{id:"3",title:"شیائومی",idBrand:"brand3",name:"xiaomi",categories:[{id:"3",title:"اکسسوری",idCategory:"category3",subCategories:[{id:"0",name:"دست بند ساده",label:"bracelet",idSubCategory:"category3-subCategory0",image:"/uploads/brand-subcategories/smartb.png"}],image:"/uploads/brand-categories/accessory.png"}],image:"/uploads/brands/xiaomi.png"},{id:"4",title:"ایسوس",idBrand:"brand4",name:"asus",categories:[{id:"4",title:"سایر کالاها",idCategory:"category4",subCategories:[{id:"0",name:"میز تلویزیون",label:"tvtable",idSubCategory:"category4-subCategory0",image:"/uploads/brand-subcategories/tvt.png"}],image:"/uploads/brand-categories/others.png"}],image:"/uploads/brands/asus.png"},{id:"5",title:"بیتس",idBrand:"brand5",name:"beats",categories:[{id:"1",title:"کالای دیجیتال",idCategory:"category1",subCategories:[{id:"0",name:"هدفون با سیم",label:"headphone",idSubCategory:"category1-subCategory0",image:"/uploads/brand-subcategories/hp.jpg"},{id:"1",name:"هدفون بی سیم",label:"wirelessheadphone",idSubCategory:"category1-subCategory1",image:"/uploads/brand-subcategories/hp.jpg"}],image:"/uploads/brand-categories/digital.jpg"}],image:"/uploads/brands/beats.png"},{id:"6",title:"ال جی",idBrand:"brand6",name:"lg",categories:[{id:"2",title:"لوازم برقی",idCategory:"category2",subCategories:[{id:"0",name:"تلویزیون ساده",label:"tv",idSubCategory:"category2-subCategory1",image:"/uploads/brand-subcategories/tv1.png"},{id:"1",name:"تلویزیون هوشمند",label:"smarttv",idSubCategory:"category2-subCategory1",image:"/uploads/brand-subcategories/tv2.jpg"}],image:"/uploads/brand-categories/electrical.png"}],image:"/uploads/brands/lg.png"}],mS=[{id:"0",title:"موبایل",idCategory:"category0",subCategories:[{id:"0",name:"گوشی ساده",label:"phone",idSubCategory:"category0-subCategory0",image:"/uploads/categories-cat/phone.png",brands:[{idBrand:"brand0",name:"اپل",label:"apple",image:"/uploads/categories-brands/apple.png"},{idBrand:"brand1",name:"سامسونگ",label:"samsung",image:"/uploads/categories-brands/samsung.png"}]},{id:"1",name:"گوشی هوشمند",label:"smartphone",idSubCategory:"category0-subCategory1",image:"/uploads/categories-cat/phone.png",brands:[{idBrand:"brand0",name:"اپل",label:"apple",image:"/uploads/categories-brands/apple.png"}]}],image:"/uploads/categories/phone.png"},{id:"1",title:"کالای دیجیتال",idCategory:"category1",subCategories:[{id:"0",name:"لپ تاپ",label:"laptop",idSubCategory:"category1-subCategory0",image:"/uploads/categories/digital.jpg",brands:[{idBrand:"brand1",name:"سامسونگ",label:"samsung",image:"/uploads/categories-brands/samsung.png"},{idBrand:"brand0",name:"اپل",label:"apple",image:"/uploads/categories-brands/apple.png"}]},{id:"1",name:"فلش مموری",label:"flash",idSubCategory:"category1-subCategory1",image:"/uploads/categories-cat/fm.jpg",brands:[{idBrand:"brand1",name:"سامسونگ",label:"samsung",image:"/uploads/categories-brands/samsung.png"},{idBrand:"brand0",name:"اپل",label:"apple",image:"/uploads/categories-brands/apple.png"}]},{id:"2",name:"ساعت هوشمند",label:"smartwatch",idSubCategory:"category1-subCategory2",image:"/uploads/categories-cat/sm.jpg",brands:[{idBrand:"brand1",name:"سامسونگ",label:"samsung",image:"/uploads/categories-brands/samsung.png"},{idBrand:"brand0",name:"اپل",label:"apple",image:"/uploads/categories-cat/apple.png"}]},{id:"3",name:"هدفون",label:"headphone",idSubCategory:"category1-subCategory3",image:"/uploads/categories-cat/hp.jpg",brands:[{idBrand:"brand1",name:"سامسونگ",label:"samsung",image:"/uploads/categories-brands/samsung.png"},{idBrand:"brand0",name:"اپل",label:"apple",image:"/uploads/categories-brands/apple.png"}]}],image:"/uploads/brand-categories/digital.jpg"},{id:"2",title:"لوازم برقی",idCategory:"category2",subCategories:[{id:"0",name:"جارو برقی",label:"vacuum",idSubCategory:"category2-subCategory0",image:"/uploads/categories/vacuum.jpg",brands:[{idBrand:"brand1",name:"سامسونگ",label:"samsung",image:"/uploads/categories-brands/samsung.png"}]}],image:"/uploads/brand-categories/electrical.png"},{id:"3",title:"اکسسوری",idCategory:"category3",subCategories:[{id:"0",name:"دست بند هوشمند",label:"laptop",idSubCategory:"category3-subCategory0",image:"/uploads/categories-cat/sm.jpg",brands:[{idBrand:"brand1",name:"سامسونگ",label:"samsung",image:"/uploads/categories-brands/samsung.png"}]}],image:"/uploads/brand-categories/accessory.png"},{id:"4",title:"سایر کالاها",idCategory:"category4",subCategories:[{id:"0",name:"کتاب",label:"laptop",idSubCategory:"category4-subCategory0",image:"/uploads/categories-cat/books.png",brands:[{idBrand:"brand2",name:"سامسونگ",label:"samsung",image:"/uploads/categories-brands/samsung.png"}]}],image:"/uploads/brand-categories/others.png"}],mI=[{sellers:[{label:"دیجیکالا",value:"1"},{label:"باسلام",value:"2"},{label:"زنبیل",value:"3"},{label:"ترب",value:"4"},{label:"سورنا",value:"5"},{label:"چاره",value:"6"},{label:"ادبازار",value:"7"},{label:"کالا 118",value:"8"},{label:"مشهد کالا",value:"9"},{label:"فروشگاه اینترنتی ایمالز",value:"10"},{label:"شیکسون",value:"11"},{label:"پخش کالای مرکزی",value:"12"},{label:"ایران بازار",value:"13"},{label:"دیجی استایل",value:"14"},{label:"مدیسه",value:"15"},{label:"تک آسیا",value:"16"}]},{colors:[{label:"قرمز",value:"#EF4444"},{label:"نارنجی",value:"#F97316"},{label:"کهربایی",value:"#F59E0B"},{label:"زرد",value:"#EAB308"},{label:"سبز لیمویی",value:"#84CC16"},{label:"سبز",value:"#22C55E"},{label:"فیروزه‌ای",value:"#14B8A6"},{label:"آبی روشن",value:"#0EA5E9"},{label:"آبی",value:"#3B82F6"},{label:"بنفش",value:"#8B5CF6"},{label:"صورتی",value:"#EC4899"},{label:"رز",value:"#F43F5E"}]},{deliveryTime:[{label:"کمتر از 3 ساعت",value:"in3hours"},{label:"کمتر از 1 روز",value:"in1day"},{label:"کمتر از 3 روز",value:"in3days"},{label:"کمتر از 1 هفته",value:"in1week"},{label:"کمتر از 15 روز",value:"in15days"}]}],mz=[{idSupplier:"1",nameSupplier:"digikala",label:"دیجیکالا",locations:[{locationName:"Shiraz",locationId:0,locationLabel:"شیراز"},{locationName:"Esfahan",locationId:1,locationLabel:"اصفهان"},{locationName:"Tehran",locationId:2,locationLabel:"تهران"},{locationName:"Mashhad",locationId:3,locationLabel:"مشهد"},{locationName:"Tabriz",locationId:4,locationLabel:"تبریز"},{locationName:"Ahvaz",locationId:5,locationLabel:"اهواز"},{locationName:"Qom",locationId:6,locationLabel:"قم"},{locationName:"Karaj",locationId:7,locationLabel:"کرج"},{locationName:"Rasht",locationId:8,locationLabel:"رشت"},{locationName:"Kermanshah",locationId:9,locationLabel:"کرمانشاه"},{locationName:"Zahedan",locationId:10,locationLabel:"زاهدان"},{locationName:"Hamedan",locationId:11,locationLabel:"همدان"},{locationName:"Yazd",locationId:12,locationLabel:"یزد"},{locationName:"Sanandaj",locationId:13,locationLabel:"سنندج"},{locationName:"Urmia",locationId:14,locationLabel:"ارومیه"},{locationName:"Gorgan",locationId:15,locationLabel:"گرگان"},{locationName:"Arak",locationId:16,locationLabel:"اراک"},{locationName:"Bushehr",locationId:17,locationLabel:"بوشهر"},{locationName:"Birjand",locationId:18,locationLabel:"بیرجند"},{locationName:"Qazvin",locationId:19,locationLabel:"قزوین"}]},{idSupplier:"2",nameSupplier:"basalam",label:"باسلام",locations:[{locationName:"Shiraz",locationId:0,locationLabel:"شیراز"},{locationName:"Esfahan",locationId:1,locationLabel:"اصفهان"},{locationName:"Tehran",locationId:2,locationLabel:"تهران"},{locationName:"Mashhad",locationId:3,locationLabel:"مشهد"},{locationName:"Tabriz",locationId:4,locationLabel:"تبریز"},{locationName:"Ahvaz",locationId:5,locationLabel:"اهواز"},{locationName:"Qom",locationId:6,locationLabel:"قم"},{locationName:"Karaj",locationId:7,locationLabel:"کرج"},{locationName:"Rasht",locationId:8,locationLabel:"رشت"},{locationName:"Kermanshah",locationId:9,locationLabel:"کرمانشاه"},{locationName:"Zahedan",locationId:10,locationLabel:"زاهدان"},{locationName:"Hamedan",locationId:11,locationLabel:"همدان"},{locationName:"Yazd",locationId:12,locationLabel:"یزد"},{locationName:"Sanandaj",locationId:13,locationLabel:"سنندج"},{locationName:"Urmia",locationId:14,locationLabel:"ارومیه"},{locationName:"Gorgan",locationId:15,locationLabel:"گرگان"},{locationName:"Arak",locationId:16,locationLabel:"اراک"},{locationName:"Bushehr",locationId:17,locationLabel:"بوشهر"},{locationName:"Birjand",locationId:18,locationLabel:"بیرجند"},{locationName:"Qazvin",locationId:19,locationLabel:"قزوین"}]},{idSupplier:"3",nameSupplier:"zanbil",label:"زنبیل",locations:[{locationName:"Shiraz",locationId:0,locationLabel:"شیراز"},{locationName:"Esfahan",locationId:1,locationLabel:"اصفهان"},{locationName:"Tehran",locationId:2,locationLabel:"تهران"},{locationName:"Mashhad",locationId:3,locationLabel:"مشهد"},{locationName:"Tabriz",locationId:4,locationLabel:"تبریز"},{locationName:"Ahvaz",locationId:5,locationLabel:"اهواز"},{locationName:"Qom",locationId:6,locationLabel:"قم"},{locationName:"Karaj",locationId:7,locationLabel:"کرج"},{locationName:"Rasht",locationId:8,locationLabel:"رشت"},{locationName:"Kermanshah",locationId:9,locationLabel:"کرمانشاه"},{locationName:"Zahedan",locationId:10,locationLabel:"زاهدان"},{locationName:"Hamedan",locationId:11,locationLabel:"همدان"},{locationName:"Yazd",locationId:12,locationLabel:"یزد"},{locationName:"Sanandaj",locationId:13,locationLabel:"سنندج"},{locationName:"Urmia",locationId:14,locationLabel:"ارومیه"},{locationName:"Gorgan",locationId:15,locationLabel:"گرگان"},{locationName:"Arak",locationId:16,locationLabel:"اراک"},{locationName:"Bushehr",locationId:17,locationLabel:"بوشهر"},{locationName:"Birjand",locationId:18,locationLabel:"بیرجند"},{locationName:"Qazvin",locationId:19,locationLabel:"قزوین"}]},{idSupplier:"4",nameSupplier:"torob",label:"ترب",locations:[{locationName:"Shiraz",locationId:0,locationLabel:"شیراز"},{locationName:"Esfahan",locationId:1,locationLabel:"اصفهان"},{locationName:"Tehran",locationId:2,locationLabel:"تهران"},{locationName:"Mashhad",locationId:3,locationLabel:"مشهد"},{locationName:"Tabriz",locationId:4,locationLabel:"تبریز"},{locationName:"Ahvaz",locationId:5,locationLabel:"اهواز"},{locationName:"Qom",locationId:6,locationLabel:"قم"},{locationName:"Karaj",locationId:7,locationLabel:"کرج"},{locationName:"Rasht",locationId:8,locationLabel:"رشت"},{locationName:"Kermanshah",locationId:9,locationLabel:"کرمانشاه"},{locationName:"Zahedan",locationId:10,locationLabel:"زاهدان"},{locationName:"Hamedan",locationId:11,locationLabel:"همدان"},{locationName:"Yazd",locationId:12,locationLabel:"یزد"},{locationName:"Sanandaj",locationId:13,locationLabel:"سنندج"},{locationName:"Urmia",locationId:14,locationLabel:"ارومیه"},{locationName:"Gorgan",locationId:15,locationLabel:"گرگان"},{locationName:"Arak",locationId:16,locationLabel:"اراک"},{locationName:"Bushehr",locationId:17,locationLabel:"بوشهر"},{locationName:"Birjand",locationId:18,locationLabel:"بیرجند"},{locationName:"Qazvin",locationId:19,locationLabel:"قزوین"}]},{idSupplier:"5",nameSupplier:"sorna",label:"سورنا",locations:[{locationName:"Shiraz",locationId:0,locationLabel:"شیراز"},{locationName:"Esfahan",locationId:1,locationLabel:"اصفهان"},{locationName:"Tehran",locationId:2,locationLabel:"تهران"},{locationName:"Mashhad",locationId:3,locationLabel:"مشهد"},{locationName:"Tabriz",locationId:4,locationLabel:"تبریز"},{locationName:"Ahvaz",locationId:5,locationLabel:"اهواز"},{locationName:"Qom",locationId:6,locationLabel:"قم"},{locationName:"Karaj",locationId:7,locationLabel:"کرج"},{locationName:"Rasht",locationId:8,locationLabel:"رشت"},{locationName:"Kermanshah",locationId:9,locationLabel:"کرمانشاه"},{locationName:"Zahedan",locationId:10,locationLabel:"زاهدان"},{locationName:"Hamedan",locationId:11,locationLabel:"همدان"},{locationName:"Yazd",locationId:12,locationLabel:"یزد"},{locationName:"Sanandaj",locationId:13,locationLabel:"سنندج"},{locationName:"Urmia",locationId:14,locationLabel:"ارومیه"},{locationName:"Gorgan",locationId:15,locationLabel:"گرگان"},{locationName:"Arak",locationId:16,locationLabel:"اراک"},{locationName:"Bushehr",locationId:17,locationLabel:"بوشهر"},{locationName:"Birjand",locationId:18,locationLabel:"بیرجند"},{locationName:"Qazvin",locationId:19,locationLabel:"قزوین"}]},{idSupplier:"6",nameSupplier:"chare",label:"چاره",locations:[{locationName:"Shiraz",locationId:0,locationLabel:"شیراز"},{locationName:"Esfahan",locationId:1,locationLabel:"اصفهان"},{locationName:"Tehran",locationId:2,locationLabel:"تهران"},{locationName:"Mashhad",locationId:3,locationLabel:"مشهد"},{locationName:"Tabriz",locationId:4,locationLabel:"تبریز"},{locationName:"Ahvaz",locationId:5,locationLabel:"اهواز"},{locationName:"Qom",locationId:6,locationLabel:"قم"},{locationName:"Karaj",locationId:7,locationLabel:"کرج"},{locationName:"Rasht",locationId:8,locationLabel:"رشت"},{locationName:"Kermanshah",locationId:9,locationLabel:"کرمانشاه"},{locationName:"Zahedan",locationId:10,locationLabel:"زاهدان"},{locationName:"Hamedan",locationId:11,locationLabel:"همدان"},{locationName:"Yazd",locationId:12,locationLabel:"یزد"},{locationName:"Sanandaj",locationId:13,locationLabel:"سنندج"},{locationName:"Urmia",locationId:14,locationLabel:"ارومیه"},{locationName:"Gorgan",locationId:15,locationLabel:"گرگان"},{locationName:"Arak",locationId:16,locationLabel:"اراک"},{locationName:"Bushehr",locationId:17,locationLabel:"بوشهر"},{locationName:"Birjand",locationId:18,locationLabel:"بیرجند"},{locationName:"Qazvin",locationId:19,locationLabel:"قزوین"}]},{idSupplier:"7",nameSupplier:"adBazar",label:"ادبازار",locations:[{locationName:"Shiraz",locationId:0,locationLabel:"شیراز"},{locationName:"Esfahan",locationId:1,locationLabel:"اصفهان"},{locationName:"Tehran",locationId:2,locationLabel:"تهران"},{locationName:"Mashhad",locationId:3,locationLabel:"مشهد"},{locationName:"Tabriz",locationId:4,locationLabel:"تبریز"},{locationName:"Ahvaz",locationId:5,locationLabel:"اهواز"},{locationName:"Qom",locationId:6,locationLabel:"قم"},{locationName:"Karaj",locationId:7,locationLabel:"کرج"},{locationName:"Rasht",locationId:8,locationLabel:"رشت"},{locationName:"Kermanshah",locationId:9,locationLabel:"کرمانشاه"},{locationName:"Zahedan",locationId:10,locationLabel:"زاهدان"},{locationName:"Hamedan",locationId:11,locationLabel:"همدان"},{locationName:"Yazd",locationId:12,locationLabel:"یزد"},{locationName:"Sanandaj",locationId:13,locationLabel:"سنندج"},{locationName:"Urmia",locationId:14,locationLabel:"ارومیه"},{locationName:"Gorgan",locationId:15,locationLabel:"گرگان"},{locationName:"Arak",locationId:16,locationLabel:"اراک"},{locationName:"Bushehr",locationId:17,locationLabel:"بوشهر"},{locationName:"Birjand",locationId:18,locationLabel:"بیرجند"},{locationName:"Qazvin",locationId:19,locationLabel:"قزوین"}]},{idSupplier:"8",nameSupplier:"kala118",label:"کالا 118",locations:[{locationName:"Shiraz",locationId:0,locationLabel:"شیراز"},{locationName:"Esfahan",locationId:1,locationLabel:"اصفهان"},{locationName:"Tehran",locationId:2,locationLabel:"تهران"},{locationName:"Mashhad",locationId:3,locationLabel:"مشهد"},{locationName:"Tabriz",locationId:4,locationLabel:"تبریز"},{locationName:"Ahvaz",locationId:5,locationLabel:"اهواز"},{locationName:"Qom",locationId:6,locationLabel:"قم"},{locationName:"Karaj",locationId:7,locationLabel:"کرج"},{locationName:"Rasht",locationId:8,locationLabel:"رشت"},{locationName:"Kermanshah",locationId:9,locationLabel:"کرمانشاه"},{locationName:"Zahedan",locationId:10,locationLabel:"زاهدان"},{locationName:"Hamedan",locationId:11,locationLabel:"همدان"},{locationName:"Yazd",locationId:12,locationLabel:"یزد"},{locationName:"Sanandaj",locationId:13,locationLabel:"سنندج"},{locationName:"Urmia",locationId:14,locationLabel:"ارومیه"},{locationName:"Gorgan",locationId:15,locationLabel:"گرگان"},{locationName:"Arak",locationId:16,locationLabel:"اراک"},{locationName:"Bushehr",locationId:17,locationLabel:"بوشهر"},{locationName:"Birjand",locationId:18,locationLabel:"بیرجند"},{locationName:"Qazvin",locationId:19,locationLabel:"قزوین"}]},{idSupplier:"9",nameSupplier:"mashhadKala",label:"مشهد کالا",locations:[{locationName:"Shiraz",locationId:0,locationLabel:"شیراز"},{locationName:"Esfahan",locationId:1,locationLabel:"اصفهان"},{locationName:"Tehran",locationId:2,locationLabel:"تهران"},{locationName:"Mashhad",locationId:3,locationLabel:"مشهد"},{locationName:"Tabriz",locationId:4,locationLabel:"تبریز"},{locationName:"Ahvaz",locationId:5,locationLabel:"اهواز"},{locationName:"Qom",locationId:6,locationLabel:"قم"},{locationName:"Karaj",locationId:7,locationLabel:"کرج"},{locationName:"Rasht",locationId:8,locationLabel:"رشت"},{locationName:"Kermanshah",locationId:9,locationLabel:"کرمانشاه"},{locationName:"Zahedan",locationId:10,locationLabel:"زاهدان"},{locationName:"Hamedan",locationId:11,locationLabel:"همدان"},{locationName:"Yazd",locationId:12,locationLabel:"یزد"},{locationName:"Sanandaj",locationId:13,locationLabel:"سنندج"},{locationName:"Urmia",locationId:14,locationLabel:"ارومیه"},{locationName:"Gorgan",locationId:15,locationLabel:"گرگان"},{locationName:"Arak",locationId:16,locationLabel:"اراک"},{locationName:"Bushehr",locationId:17,locationLabel:"بوشهر"},{locationName:"Birjand",locationId:18,locationLabel:"بیرجند"},{locationName:"Qazvin",locationId:19,locationLabel:"قزوین"}]},{idSupplier:"10",nameSupplier:"imalz",label:"فروشگاه اینترنتی ایمالز",locations:[{locationName:"Shiraz",locationId:0,locationLabel:"شیراز"},{locationName:"Esfahan",locationId:1,locationLabel:"اصفهان"},{locationName:"Tehran",locationId:2,locationLabel:"تهران"},{locationName:"Mashhad",locationId:3,locationLabel:"مشهد"},{locationName:"Tabriz",locationId:4,locationLabel:"تبریز"},{locationName:"Ahvaz",locationId:5,locationLabel:"اهواز"},{locationName:"Qom",locationId:6,locationLabel:"قم"},{locationName:"Karaj",locationId:7,locationLabel:"کرج"},{locationName:"Rasht",locationId:8,locationLabel:"رشت"},{locationName:"Kermanshah",locationId:9,locationLabel:"کرمانشاه"},{locationName:"Zahedan",locationId:10,locationLabel:"زاهدان"},{locationName:"Hamedan",locationId:11,locationLabel:"همدان"},{locationName:"Yazd",locationId:12,locationLabel:"یزد"},{locationName:"Sanandaj",locationId:13,locationLabel:"سنندج"},{locationName:"Urmia",locationId:14,locationLabel:"ارومیه"},{locationName:"Gorgan",locationId:15,locationLabel:"گرگان"},{locationName:"Arak",locationId:16,locationLabel:"اراک"},{locationName:"Bushehr",locationId:17,locationLabel:"بوشهر"},{locationName:"Birjand",locationId:18,locationLabel:"بیرجند"},{locationName:"Qazvin",locationId:19,locationLabel:"قزوین"}]},{idSupplier:"11",nameSupplier:"shixon",label:"شیکسون",locations:[{locationName:"Shiraz",locationId:0,locationLabel:"شیراز"},{locationName:"Esfahan",locationId:1,locationLabel:"اصفهان"},{locationName:"Tehran",locationId:2,locationLabel:"تهران"},{locationName:"Mashhad",locationId:3,locationLabel:"مشهد"},{locationName:"Tabriz",locationId:4,locationLabel:"تبریز"},{locationName:"Ahvaz",locationId:5,locationLabel:"اهواز"},{locationName:"Qom",locationId:6,locationLabel:"قم"},{locationName:"Karaj",locationId:7,locationLabel:"کرج"},{locationName:"Rasht",locationId:8,locationLabel:"رشت"},{locationName:"Kermanshah",locationId:9,locationLabel:"کرمانشاه"},{locationName:"Zahedan",locationId:10,locationLabel:"زاهدان"},{locationName:"Hamedan",locationId:11,locationLabel:"همدان"},{locationName:"Yazd",locationId:12,locationLabel:"یزد"},{locationName:"Sanandaj",locationId:13,locationLabel:"سنندج"},{locationName:"Urmia",locationId:14,locationLabel:"ارومیه"},{locationName:"Gorgan",locationId:15,locationLabel:"گرگان"},{locationName:"Arak",locationId:16,locationLabel:"اراک"},{locationName:"Bushehr",locationId:17,locationLabel:"بوشهر"},{locationName:"Birjand",locationId:18,locationLabel:"بیرجند"},{locationName:"Qazvin",locationId:19,locationLabel:"قزوین"}]},{idSupplier:"12",nameSupplier:"pakhshKalaMarkazi",label:"پخش کالای مرکزی",locations:[{locationName:"Shiraz",locationId:0,locationLabel:"شیراز"},{locationName:"Esfahan",locationId:1,locationLabel:"اصفهان"},{locationName:"Tehran",locationId:2,locationLabel:"تهران"},{locationName:"Mashhad",locationId:3,locationLabel:"مشهد"},{locationName:"Tabriz",locationId:4,locationLabel:"تبریز"},{locationName:"Ahvaz",locationId:5,locationLabel:"اهواز"},{locationName:"Qom",locationId:6,locationLabel:"قم"},{locationName:"Karaj",locationId:7,locationLabel:"کرج"},{locationName:"Rasht",locationId:8,locationLabel:"رشت"},{locationName:"Kermanshah",locationId:9,locationLabel:"کرمانشاه"},{locationName:"Zahedan",locationId:10,locationLabel:"زاهدان"},{locationName:"Hamedan",locationId:11,locationLabel:"همدان"},{locationName:"Yazd",locationId:12,locationLabel:"یزد"},{locationName:"Sanandaj",locationId:13,locationLabel:"سنندج"},{locationName:"Urmia",locationId:14,locationLabel:"ارومیه"},{locationName:"Gorgan",locationId:15,locationLabel:"گرگان"},{locationName:"Arak",locationId:16,locationLabel:"اراک"},{locationName:"Bushehr",locationId:17,locationLabel:"بوشهر"},{locationName:"Birjand",locationId:18,locationLabel:"بیرجند"},{locationName:"Qazvin",locationId:19,locationLabel:"قزوین"}]},{idSupplier:"13",nameSupplier:"iranBazar",label:"ایران بازار",locations:[{locationName:"Shiraz",locationId:0,locationLabel:"شیراز"},{locationName:"Esfahan",locationId:1,locationLabel:"اصفهان"},{locationName:"Tehran",locationId:2,locationLabel:"تهران"},{locationName:"Mashhad",locationId:3,locationLabel:"مشهد"},{locationName:"Tabriz",locationId:4,locationLabel:"تبریز"},{locationName:"Ahvaz",locationId:5,locationLabel:"اهواز"},{locationName:"Qom",locationId:6,locationLabel:"قم"},{locationName:"Karaj",locationId:7,locationLabel:"کرج"},{locationName:"Rasht",locationId:8,locationLabel:"رشت"},{locationName:"Kermanshah",locationId:9,locationLabel:"کرمانشاه"},{locationName:"Zahedan",locationId:10,locationLabel:"زاهدان"},{locationName:"Hamedan",locationId:11,locationLabel:"همدان"},{locationName:"Yazd",locationId:12,locationLabel:"یزد"},{locationName:"Sanandaj",locationId:13,locationLabel:"سنندج"},{locationName:"Urmia",locationId:14,locationLabel:"ارومیه"},{locationName:"Gorgan",locationId:15,locationLabel:"گرگان"},{locationName:"Arak",locationId:16,locationLabel:"اراک"},{locationName:"Bushehr",locationId:17,locationLabel:"بوشهر"},{locationName:"Birjand",locationId:18,locationLabel:"بیرجند"},{locationName:"Qazvin",locationId:19,locationLabel:"قزوین"}]},{idSupplier:"14",nameSupplier:"digistyle",label:"دیجی استایل",locations:[{locationName:"Shiraz",locationId:0,locationLabel:"شیراز"},{locationName:"Esfahan",locationId:1,locationLabel:"اصفهان"},{locationName:"Tehran",locationId:2,locationLabel:"تهران"},{locationName:"Mashhad",locationId:3,locationLabel:"مشهد"},{locationName:"Tabriz",locationId:4,locationLabel:"تبریز"},{locationName:"Ahvaz",locationId:5,locationLabel:"اهواز"},{locationName:"Qom",locationId:6,locationLabel:"قم"},{locationName:"Karaj",locationId:7,locationLabel:"کرج"},{locationName:"Rasht",locationId:8,locationLabel:"رشت"},{locationName:"Kermanshah",locationId:9,locationLabel:"کرمانشاه"},{locationName:"Zahedan",locationId:10,locationLabel:"زاهدان"},{locationName:"Hamedan",locationId:11,locationLabel:"همدان"},{locationName:"Yazd",locationId:12,locationLabel:"یزد"},{locationName:"Sanandaj",locationId:13,locationLabel:"سنندج"},{locationName:"Urmia",locationId:14,locationLabel:"ارومیه"},{locationName:"Gorgan",locationId:15,locationLabel:"گرگان"},{locationName:"Arak",locationId:16,locationLabel:"اراک"},{locationName:"Bushehr",locationId:17,locationLabel:"بوشهر"},{locationName:"Birjand",locationId:18,locationLabel:"بیرجند"},{locationName:"Qazvin",locationId:19,locationLabel:"قزوین"}]}],mN=(0,_.hg)("fastOrderPageCategories/batchImport",async(e,t)=>{let{categoriesFastOrder:r}=e,{rejectWithValue:a}=t;try{let e=await fetch(et("/master-dash/fast-order-category-mode-page-data/batch-import"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(r)});if(!e.ok){let t=await e.json().catch(()=>({}));return a((null==t?void 0:t.message)||"Failed to batch import categories")}return await e.json()}catch(e){return console.error("Network error:",e),a("Network error or server not responding")}}),mD=[{info:{name:"melli",paymentMethod:"online"},label:"پرداخت اینترنتی بانک ملی",description:"پرداخت آنلاین با تمامی کارت‌های بانکی",icon:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQCjndg0kvTOCKo7iQajl-2pKF0ftRSCUNx6w&s"},{info:{name:"mellat",paymentMethod:"online"},label:"پرداخت اینترنتی بانک ملت",description:"پرداخت آنلاین با تمامی کارت‌های بانکی",icon:"https://rayamarketing.com/uploads/blog/Introducing-Bank-Mellat-Logo-Designer-Everything-Need-Know/Introducing-Bank-Mellat-Logo-Designer-Everything-Need-Know.GFDGFDGFD_1699907359.png"},{info:{name:"cod",paymentMethod:"cod"},label:"پرداخت در محل ( با کارت بانکی )",description:"هنگام تحویل از طریق کارت‌های بانکی",icon:"https://methodkala.ir/wp-content/uploads/2022/11/%D9%BE%D8%B1%D8%AF%D8%A7%D8%AE%D8%AA-%D8%AF%D8%B1-%D9%85%D8%AD%D9%84.png",paymentMethod:"cod"}],mA=[{userId:2,phoneNumber:"09380587367",account_balance:95e4,all_orders:4,tickets:15,name:"حامد محمدی",userType:"کاربر عمده",favorites:[{id:"brand0-category0-subCategory1-item0i0000"}],wallet:{balance:95e4,blockedAmount:3e5,paymentHistory:[{transactionId:"txn_001",date:"13/03/1400",amount:5e5,type:"deposit",typeDescriptionFa:"واریز به کیف پول",method:"online_gateway",methodDescriptionFa:"پرداخت آنلاین",description:"شارژ کیف پول از درگاه پرداخت"},{transactionId:"txn_002",date:"13/03/1400",amount:-15e4,type:"purchase",typeDescriptionFa:"خرید از کیف پول",method:"wallet_payment",methodDescriptionFa:"پرداخت با کیف پول",description:"خرید از فروشگاه دیجیتال"}],transfers:[{transferId:"trf_001",senderId:2,receiverId:5,amount:1e5,date:"13/03/1400",status:"completed",statusDescriptionFa:"تکمیل‌شده",note:"پرداخت برای سفارش خاص"},{transferId:"trf_002",senderId:8,receiverId:2,amount:2e5,date:"13/03/1400",status:"completed",statusDescriptionFa:"تکمیل‌شده",note:"بازگشت مبلغ"}],pendingWithdrawals:[{requestId:"req_123",date:"13/03/1400",amount:2e5,status:"pending",statusDescriptionFa:"در انتظار بررسی",note:"منتظر بمانید"}],lastTransaction:{transactionId:"txn_002",date:"13/03/1400",amount:-15e4,type:"purchase",typeDescriptionFa:"خرید از کیف پول"}}}],mF=(0,_.hg)("userMyAccounts/batchImport",async(e,t)=>{let{myAccountData:r}=e,{rejectWithValue:a}=t;try{let e=await fetch(et("/user-myaccounts/batch-import"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({myAccountData:r})});if(!e.ok){let t=await e.json().catch(()=>({}));return a((null==t?void 0:t.message)||"Failed to batch import user account data")}return await e.json()}catch(e){return console.error("Network error:",e),a("Network error or server not responding")}}),mM=[{userId:2,messages:[{notificationType:"messageDiscountCode",notificationTitle:"کد تخفیف",notificationId:"notification-model-1",notificationData:[{id:1,title:"کد تخفیف 50 درصدی",body:"SUMMER2024",isRead:!1,icon:"https://eirefacadesystems.co.uk/wp-content/uploads/2020/11/message-icon-png-.png",img:"",link:"https://www.digikala.com/",productId:""}]},{notificationType:"messageNotifProductAdded",notificationTitle:"محصولات جدید",notificationId:"notification-model-2",notificationData:[{id:1,title:"محصول به فروشگاه اضافه شد",body:"گوشی اپل 13 موجود شد.",isRead:!1,icon:"https://eirefacadesystems.co.uk/wp-content/uploads/2020/11/message-icon-png-.png",img:"https://zood-shop.com/wp-content/uploads/2022/08/71xb2xkN5qL.jpg",link:"",productId:"brand0-category0-subCategory1-item0i0000"}]}]}],mT={userId:2,purchasedProducts:[{product_id:"brand0-category0-subCategory1-item0i0000",sellerId:1,sellerName:"دیجی کالا",combinationsID:19,title:"گوشی موبایل اپل مدل پرومکس دو سیم‌ کارت نات اکتیو سیزده",regularPrice:21e6,discountedPrice:912e4,discountPercent:40,image:"/assets/products/1.webp"},{product_id:"brand0-category0-subCategory0-item0i0000",sellerId:1,sellerName:"دیجی کالا",combinationsID:19,title:"گوشی موبایل اپل مدل پرومکس دو سیم‌ کارت نات اکتیو سیزده",regularPrice:21e6,discountedPrice:912e4,discountPercent:40,image:"/assets/products/1.webp"},{product_id:"brand0-category0-subCategory0-item0i0000",sellerId:1,sellerName:"دیجی کالا",combinationsID:23,title:"گوشی موبایل اپل مدل پرومکس دو سیم‌ کارت نات اکتیو سیزده",regularPrice:21e6,discountedPrice:912e4,discountPercent:40,image:"/assets/products/1.webp"},{product_id:"brand0-category0-subCategory0-item0i0000",sellerId:4,sellerName:"ترب",combinationsID:19,title:"گوشی موبایل اپل مدل پرومکس دو سیم‌ کارت نات اکتیو سیزده",regularPrice:21e6,discountedPrice:912e4,discountPercent:40,image:"/assets/products/1.webp"},{product_id:"brand0-category0-subCategory0-item0i0000",sellerId:1,sellerName:"دیجی کالا",combinationsID:21,title:"گوشی موبایل اپل مدل پرومکس دو سیم‌ کارت نات اکتیو سیزده",regularPrice:21e6,discountedPrice:912e4,discountPercent:40,image:"/assets/products/1.webp"},{product_id:"brand0-category0-subCategory0-item0i0000",sellerId:1,sellerName:"دیجی کالا",combinationsID:19,title:"گوشی موبایل اپل مدل پرومکس دو سیم‌ کارت نات اکتیو سیزده",regularPrice:21e6,discountedPrice:912e4,discountPercent:40,image:"/assets/products/1.webp"},{product_id:"brand0-category0-subCategory0-item0i0000",sellerId:1,combinationsID:19,sellerName:"دیجی کالا",title:"گوشی موبایل اپل مدل پرومکس دو سیم‌ کارت نات اکتیو سیزده",regularPrice:21e6,discountedPrice:912e4,discountPercent:40,image:"/assets/products/1.webp"}]},mP=[{userId:2,tickets:[{requesterId:2,requesterName:"علی محمدی",ticketId:"ticket1",priority:"high",ticketTitle:"حل مشکل سایت",team:"technical_support",teamName:"پشتیبانی فنی",ticketDescription:"مشکل در بارگذاری صفحه اصلی",messages:[{sender:{role:"user",userId:2,name:"علی محمدی"},message:"سلام، مشکل دارم",file:"https://example.com/image.jpg"},{sender:{role:"support",userId:1001,name:"سارا حسینی"},message:"سلام، چطور می‌توانم کمک کنم؟",file:"https://example.com/image.zip"},{sender:{role:"user",userId:2,name:"علی محمدی"},message:"صفحه اصلی بارگذاری نمی‌شود",file:""}],ticketStatus:"open",createdAt:"1403/02/02",updatedAt:"1403/02/02"},{ticketId:"ticket2",requesterId:2,requesterName:"علی محمدی",ticketId:"ticket2",priority:"high",ticketTitle:"مشکل در پرداخت",team:"technical_support",teamName:"پشتیبانی فنی",ticketDescription:"پرداخت ناموفق در مرحله نهایی",messages:[{sender:{role:"user",userId:2,name:"علی محمدی"},message:"سلام، مشکل دارم",file:""},{sender:{role:"support",userId:1001,name:"سارا حسینی"},message:"سلام، چطور می‌توانم کمک کنم؟",file:""},{sender:{role:"user",userId:2,name:"علی محمدی"},message:"صفحه اصلی بارگذاری نمی‌شود",file:""}],ticketStatus:"closed",createdAt:"1403/02/02",updatedAt:"1403/02/02"}]}],mE=[{title:"اکانت رایگان",modelId:"basic",subscription:"free",duration:"نامحدود",combinationsID:0x9184e729ff6,durationDays:-1,sellerId:999999,sellerLabel:"جی2بی مارکت",price:{regularPrice:0,discountedPrice:0,discountNum:0,discountPer:0},description:"برای شروع فعالیت در سایت با امکانات محدود مناسب است.",features:["امکان ثبت حداکثر 10 محصول","دسترسی به لیست قیمت مصرف‌کننده","بدون دسترسی به قیمت‌های عمده","بدون امکان مدیریت انبار","پشتیبانی فقط از طریق تیکت"],access:{productManagement:!0,inventoryManagement:!1,bulkPricing:!1,analytics:!1,prioritySupport:!1,dashboardAccess:!0,advancedSearchFilters:!0,orderManagement:!1,categories:{mobile:!0,digital:!0,"home-and-kitched":!0,"car-and-motor":!0,"home-appliance":!0,apparel:!0,"gold-jwerly":!0,"personal-appliance":!0,vehicles:!0,"book-and-media":!0,"medical-and-health-equipment":!0,"sport-and-travel":!0,gifts:!0,"food-beverage":!0,"mother-and-child":!0,"rural-products":!1}},isActive:!0},{title:"اکانت حرفه‌ای",modelId:"pro",subscription:"pro",duration:"1 ماهه",combinationsID:0x9184e729ff7,durationDays:30,sellerId:999999,sellerLabel:"جی2بی مارکت",price:{regularPrice:2e5,discountedPrice:15e4,discountNum:5e4,discountPer:25},description:"مناسب برای فروشندگان نیمه‌حرفه‌ای با دسترسی به قیمت‌های عمده و امکانات بیشتر.",features:["امکان ثبت تا 100 محصول","دسترسی به قیمت‌های عمده","مدیریت پایه انبار و موجودی","دسترسی به آمار فروش ماهانه","پشتیبانی از طریق تیکت و ایمیل"],access:{productManagement:!0,inventoryManagement:!0,bulkPricing:!0,analytics:!0,prioritySupport:!1,dashboardAccess:!0,advancedSearchFilters:!0,orderManagement:!0,categories:{mobile:!0,digital:!0,"home-and-kitched":!0,"car-and-motor":!0,"home-appliance":!0,apparel:!0,"gold-jwerly":!0,"personal-appliance":!0,vehicles:!0,"book-and-media":!0,"medical-and-health-equipment":!0,"sport-and-travel":!0,gifts:!0,"food-beverage":!0,"mother-and-child":!0,"rural-products":!0}},isActive:!0},{title:"اکانت ویژه",modelId:"gold",subscription:"premium",sellerId:999999,sellerLabel:"جی2بی مارکت",duration:"3 ماهه",combinationsID:0x9184e729ff8,durationDays:100,price:{regularPrice:5e5,discountedPrice:4e5,discountNum:1e5,discountPer:20},description:"ویژه‌ی فروشندگان حرفه‌ای با بیشترین امکانات و پشتیبانی کامل.",features:["ثبت نامحدود محصول","دسترسی کامل به قیمت‌های عمده و ویژه","مدیریت پیشرفته انبار و سفارشات","آمار فروش پیشرفته و گزارش‌گیری","پشتیبانی 24 ساعته (چت، تیکت، تماس)"],access:{productManagement:!0,inventoryManagement:!0,bulkPricing:!0,analytics:!0,prioritySupport:!0,dashboardAccess:!0,advancedSearchFilters:!0,orderManagement:!0,categories:{mobile:!0,digital:!0,"home-and-kitched":!0,"car-and-motor":!0,"home-appliance":!0,apparel:!0,"gold-jwerly":!0,"personal-appliance":!0,vehicles:!0,"book-and-media":!0,"medical-and-health-equipment":!0,"sport-and-travel":!0,gifts:!0,"food-beverage":!0,"mother-and-child":!0,"rural-products":!0,"exclusive-premium":!0}},isActive:!0}],m_=p.memo(e=>{let{products:t}=e;return(0,a.jsx)(sz.M,{cols:{base:1,xs:2,sm:3,md:3,lg:4},mb:"xl",mt:"15",children:null==t?void 0:t.map((e,t)=>(0,a.jsx)(nG,{...e},t))})},(e,t)=>(0,m.wU)(e,t)),mL=function(e){let{priceRange:t,onPriceChange:r,data:i}=e,{categoryData:l,loadingCategoryData:s,errorCategoryData:n}=(0,m.v9)(e=>e.categoryData),o=(null==t?void 0:t.max)||2e7,d=(null==t?void 0:t.min)||0,[c,u]=(0,p.useState)([1,2]);return(0,p.useEffect)(()=>{l.userPriceSet&&u([l.userPriceSet.min,l.userPriceSet.max])},[l]),(0,a.jsx)(da,{title:"قیمت",children:(0,a.jsxs)(sw.K,{children:[(0,a.jsx)(n_.Y,{hideControls:!0,dir:"ltr",leftSection:(0,a.jsx)("span",{style:{fontSize:"14px"},children:"از"}),rightSection:(0,a.jsx)(dl,{}),value:c[0]??d,styles:{input:{paddingLeft:"24px",direction:"ltr",textAlign:"start"}},thousandSeparator:!0,onChange:e=>u([e||d,c[1]])}),(0,a.jsx)(n_.Y,{hideControls:!0,dir:"ltr",leftSection:(0,a.jsx)("span",{style:{fontSize:"14px"},children:"تا"}),rightSection:(0,a.jsx)(dl,{}),value:c[1]??o,styles:{input:{paddingLeft:"24px",direction:"ltr",textAlign:"start"}},thousandSeparator:!0,onChange:e=>u([c[0],e||o])}),(0,a.jsx)(di.U,{value:[c[0]??d,c[1]??o],min:d,step:5e5,max:o,label:e=>`${e.toLocaleString()} \u{62A}\u{648}\u{645}\u{627}\u{646}`,onChange:u}),(0,a.jsx)(z.z,{h:35,size:"xs",radius:99999,w:"max-content",onClick:()=>{r({min:c[0],max:c[1]})},children:"          فیلتر قیمت"})]})})},mB=[{label:"جدیدترین",value:"newest"},{label:"ارزان‌ترین",value:"lowest_price"},{label:"گران‌ترین",value:"highest_price"},{label:"پرفروش‌ترین",value:"best_selling"}],mO=p.memo(e=>{let{isFetching:t,data:r,slug:i,form:l,handleDynamicChange:s,setSearch:n,setPage:o,filterDisclosure:d,onFiltersSubmit:c}=e,u=(null==r?void 0:r.filters)||[],m=e=>{n(e.target.value),o(1)},g=e=>{l.setFieldValue("price",e),o(1)},p=()=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(N.X,{h:83,display:"flex",style:{alignItems:"center"},children:(0,a.jsx)(ss.o,{w:"100%",variant:"filled",styles:{input:{height:45}},rightSection:(0,a.jsx)(sb.IconSearch,{size:18}),placeholder:"جستجو محصول",onChange:m})}),(0,a.jsx)(mL,{priceRange:null==r?void 0:r.price,data:r??r,priceSliderMin:100,priceSliderMax:2e5,onPriceChange:g}),u.map((e,t)=>(0,a.jsx)(da,{title:e.title,children:(0,a.jsx)(sw.K,{mt:"xs",children:e.options.map(t=>{var r;return(0,a.jsx)(F.X,{label:t.label,checked:null==(r=l.values.dynamic[e.key])?void 0:r.includes(t.value),onChange:r=>((e,t,r)=>{let a=l.values.dynamic[e]||[];s(e,r?[...a,t]:a.filter(e=>e!==t))})(e.key,t.value,r.target.checked)},t.value)})})},t))]});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(sw.K,{visibleFrom:"md",children:(0,a.jsx)(p,{})}),(0,a.jsx)(z.z,{hiddenFrom:"md",leftSection:(0,a.jsx)(sb.IconFilter,{size:18}),onClick:d[1].open,children:"فیلتر ها"}),(0,a.jsxs)(sU.d,{opened:d[0],onClose:d[1].close,title:"فیلترها",size:"100%",position:"right",children:[(0,a.jsx)(nS.f,{visible:t}),(0,a.jsxs)(sw.K,{children:[(0,a.jsx)(p,{}),(0,a.jsx)(z.z,{h:35,size:"xs",radius:99999,w:"max-content",onClick:c,children:"فیلتر"})]})]})]})}),mR=e=>{var t,r;let{children:i,prev:l,receipt_id:s}=e,n=(0,m.I0)(),{orderByReceiptID:o,loadingByReceiptID:d,errorByReceiptID:c}=(0,m.v9)(e=>e.getOrderByReceiptID);(0,p.useEffect)(()=>{n(rx({receipt_id:s}))},[n]);let u=(0,g.s0)(),h=async e=>{u("/fake-gateway",{state:{receiptId:s,receipt_id_seller:e}})};return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(sN.r,{mt:"md",gutter:"lg",children:[(null==o||null==(t=o.sellers)?void 0:t.length)>0?o.sellers.map(e=>{var t;return(0,a.jsx)(sD.$,{span:12,children:(0,a.jsxs)(N.X,{p:"md",shadow:"xs",fullWidth:!0,children:[(0,a.jsxs)(D.D,{order:3,children:["فروشنده: ",e.seller.label," (ID: ",e.seller.id,")"]}),(0,a.jsxs)(se.x,{size:"sm",c:"gray",children:["مجموع قیمت از این فروشنده: ",e.priceApplyEachSeller," تومان"]}),(0,a.jsx)(sH.i,{my:"sm"}),(0,a.jsx)(sw.K,{children:e.items.map((t,r)=>{var i;return(0,a.jsxs)(N.X,{p:"sm",fullWidth:!0,children:[(0,a.jsx)(l9.k,{justify:"space-between",align:"center",children:(0,a.jsxs)(sw.K,{gap:"xs",children:[(0,a.jsx)(se.x,{size:"sm",fw:"600",children:t.item.name}),!(null==(i=t.item.productId)?void 0:i.includes("subscription"))&&(e=>{let t=e.item.attributes;if(!t||!Array.isArray(t)||0===t.length)return null;let r=new Map;if(t.forEach(e=>{Object.entries(e).forEach(e=>{let[t,a]=e;null!=a&&""!==a&&r.set(t,a)})}),0===r.size)return null;let i={material:"جنس",جنس:"جنس",color:"رنگ",رنگ:"رنگ",size:"سایز",سایز:"سایز",brand:"برند",برند:"برند",weight:"وزن",وزن:"وزن",capacity:"ظرفیت",ظرفیت:"ظرفیت",model:"مدل",مدل:"مدل",storage:"حافظه",حافظه:"حافظه",ram:"رم",رم:"رم",processor:"پردازنده",پردازنده:"پردازنده"};return(0,a.jsx)(se.x,{size:"xs",c:"gray",children:Array.from(r.entries()).map((e,t)=>{let[l,s]=e,n=i[l]||l,o="color"===l||"رنگ"===l;return(0,a.jsxs)("span",{children:[n,": ",o?(0,a.jsx)("span",{style:{color:s},children:"⬤"}):s,t<r.size-1&&" | "]},l)})})})(t)]})}),(0,a.jsxs)(l9.k,{justify:"space-between",align:"center",mt:"xs",children:[(0,a.jsx)(se.x,{size:"sm",c:"gray",children:"قیمت:"}),(0,a.jsx)(se.x,{size:"sm",fw:"bold",children:t.item.price.discountedPrice?`${t.item.price.discountedPrice} \u{62A}\u{648}\u{645}\u{627}\u{646}`:`${t.item.price.regularPrice} \u{62A}\u{648}\u{645}\u{627}\u{646}`})]}),e.paymentComment&&(0,a.jsx)(l9.k,{justify:"space-between",align:"center",mt:"xs",children:(0,a.jsxs)(se.x,{color:"teal",children:["پیام: ",e.paymentComment]})})]},r)})}),(null==o||null==(t=o.sellers)?void 0:t.length)!==0&&("unpaid"===e.isPaid||"prepaid"===e.isPaid)?(0,a.jsx)(sD.$,{span:{lg:l?6:12},mt:"md",children:(0,a.jsx)(l9.k,{justify:"flex-end",w:"100%",children:(0,a.jsx)(z.z,{onClick:()=>h(e.receipt_id_seller),fullWidth:!0,h:"45",style:{display:"flex",alignItems:"center",justifyContent:"center",whiteSpace:"normal",textAlign:"center",width:"fit-content"},children:"پرداخت"})})}):"selfprepaid"===e.isPaid?(0,a.jsx)(sD.$,{span:{lg:l?6:12},mt:"md",children:(0,a.jsx)(l9.k,{justify:"flex-end",w:"100%",children:(0,a.jsx)(sx.C,{fullWidth:!0,variant:"light",color:"orange",size:"lg",radius:"md",h:45,style:{display:"flex",alignItems:"center",justifyContent:"center",whiteSpace:"normal",textAlign:"center",width:"fit-content"},children:"مبلغ اولیه پرداخت شده است برای نهایی کردن با تامین کننده در تماس باشید"})})}):(0,a.jsx)(sD.$,{span:{lg:l?6:12},mt:"md",children:(0,a.jsx)(sx.C,{fullWidth:!0,variant:"light",color:"green",size:"lg",radius:"md",h:45,style:{display:"flex",alignItems:"center",justifyContent:"center",width:"fit-content"},children:"پرداخت شده"})})]})},e.seller.id)}):(0,a.jsx)(se.x,{children:"هیچ آیتمی موجود نیست"}),(null==o?void 0:o.paymentComment)&&(0,a.jsx)(l9.k,{w:"100%",justify:"flex-start",children:(0,a.jsx)(N.X,{gutter:"lg",withBorder:!0,radius:"md",p:"md",mx:"sm",mt:"sm",mb:"sm",bg:"gray.1",w:"100%",children:(0,a.jsxs)(l9.k,{align:"right",gap:"sm",children:[(0,a.jsx)(se.x,{color:"green",children:"پیام پرداخت:"}),(0,a.jsx)(se.x,{children:null==o?void 0:o.paymentComment})]})})}),(null==o||null==(r=o.sellers)?void 0:r.length)>0&&(0,a.jsxs)(sD.$,{span:12,children:[(0,a.jsx)(D.D,{fw:"600",c:"gray.8",mb:"sm",children:"خلاصه فاکتور"}),(0,a.jsxs)(N.X,{py:"xl",pos:"relative",fullWidth:!0,children:[(0,a.jsxs)(sw.K,{gap:"lg",children:[(0,a.jsxs)(l9.k,{direction:"row",justify:"space-between",children:[(0,a.jsx)(se.x,{size:"sm",c:"gray",children:"مجموع سبد خرید"}),(0,a.jsxs)(se.x,{size:"sm",fw:"bold",children:[null==o?void 0:o.totalPriceApply," تومان"]})]}),(0,a.jsxs)(l9.k,{direction:"row",justify:"space-between",children:[(0,a.jsx)(se.x,{size:"sm",c:"gray",children:"مجموع سبد خرید (با اعمال کد تخفیف)"}),(0,a.jsxs)(se.x,{size:"sm",fw:"bold",children:[null==o?void 0:o.totalPriceToPay," تومان"]})]})]}),(0,a.jsx)(sH.i,{my:"lg"})]})]}),l&&(0,a.jsx)(sD.$,{span:{lg:6},children:(0,a.jsx)(z.z,{fullWidth:!0,h:"45",variant:"light",color:"gray",justify:"space-between",leftSection:(0,a.jsx)(sb.IconArrowRight,{size:16}),...l,children:"قبلی"})})]})})},mW=[{id:1,title:"پیام تخفیف ویژه",description:"تخفیف ۵۰ درصدی محصولات منتخب فروشگاه تا پایان ماه",imagePath:"/uploads/notifications/discount-icon.png",isRead:!1,userId:2,createdAt:new Date("2024-08-20T10:00:00Z"),updatedAt:new Date("2024-08-20T10:00:00Z")},{id:2,title:"به‌روزرسانی سیستم",description:"سیستم با موفقیت به‌روزرسانی شد و قابلیت‌های جدید اضافه گردید",imagePath:"/uploads/notifications/system-update-icon.png",isRead:!1,userId:2,createdAt:new Date("2024-08-21T09:30:00Z"),updatedAt:new Date("2024-08-21T09:30:00Z")},{id:3,title:"پیام خوش‌آمدگویی",description:"به پنل کاربری خود خوش آمدید. از امکانات جدید استفاده کنید",imagePath:"/uploads/notifications/welcome-icon.png",isRead:!0,userId:2,createdAt:new Date("2024-08-19T14:15:00Z"),updatedAt:new Date("2024-08-22T10:30:00Z")},{id:4,title:"هشدار امنیتی",description:"ورود جدید از دستگاه ناشناس شناسایی شد. در صورت عدم اطلاع با پشتیبانی تماس بگیرید",imagePath:"/uploads/notifications/security-icon.png",isRead:!1,userId:2,createdAt:new Date("2024-08-22T16:45:00Z"),updatedAt:new Date("2024-08-22T16:45:00Z")},{id:5,title:"پیام سفارش",description:"سفارش شما با شماره ۱۲۳۴۵ با موفقیت ثبت شد و در حال آماده‌سازی است",imagePath:"/uploads/notifications/order-icon.png",isRead:!1,userId:12345,createdAt:new Date("2024-08-22T11:20:00Z"),updatedAt:new Date("2024-08-22T11:20:00Z")},{id:6,title:"اطلاع رسانی جدید",description:"ویژگی‌های جدید به پنل اضافه شده است. آن‌ها را امتحان کنید",imagePath:"/uploads/notifications/feature-icon.png",isRead:!0,userId:null,createdAt:new Date("2024-08-18T08:00:00Z"),updatedAt:new Date("2024-08-20T12:00:00Z")},{id:7,title:"پیام پشتیبانی",description:"پاسخ تیکت شماره ۷۸۹ آماده است. لطفاً بررسی کنید",imagePath:"/uploads/notifications/support-icon.png",isRead:!1,userId:67890,createdAt:new Date("2024-08-21T13:30:00Z"),updatedAt:new Date("2024-08-21T13:30:00Z")},{id:8,title:"اطلاع رسانی حساب",description:"اطلاعات حساب کاربری شما به‌روزرسانی شد",imagePath:"/uploads/notifications/account-icon.png",isRead:!0,userId:12345,createdAt:new Date("2024-08-20T15:45:00Z"),updatedAt:new Date("2024-08-21T09:15:00Z")},{id:9,title:"پیام تبریک",description:"تبریک! شما به سطح طلایی ارتقا یافتید و از مزایای ویژه بهره‌مند می‌شوید",imagePath:"/uploads/notifications/achievement-icon.png",isRead:!1,userId:12345,createdAt:new Date("2024-08-22T17:00:00Z"),updatedAt:new Date("2024-08-22T17:00:00Z")},{id:10,title:"یادآوری پرداخت",description:"موعد پرداخت اشتراک شما نزدیک است. لطفاً حساب خود را شارژ کنید",imagePath:"/uploads/notifications/payment-icon.png",isRead:!1,userId:12345,createdAt:new Date("2024-08-22T18:30:00Z"),updatedAt:new Date("2024-08-22T18:30:00Z")}],mZ=sc.Ry().shape({name:sc.Z_().matches(/^[\u0600-\u06FF\s]{3,}$/,"نام باید حداقل ۳ حرف و فقط شامل حروف فارسی باشد").required("نام الزامی است"),family:sc.Z_().matches(/^[\u0600-\u06FF\s]{3,}$/,"نام خانوادگی باید حداقل ۳ حرف و فقط شامل حروف فارسی باشد").required("نام خانوادگی الزامی است"),phone:sc.Z_().matches(/^09\d{9}$/,"شماره موبایل باید ۱۱ رقم و با ۰۹ شروع شود").required("شماره موبایل الزامی است"),amount:sc.Rx().typeError("مبلغ باید عدد باشد").positive("مبلغ باید بیشتر از صفر باشد").required("مبلغ الزامی است")}),mU=sc.Ry().shape({phone:sc.Z_().matches(/^09\d{9}$/,"شماره موبایل باید ۱۱ رقم و با ۰۹ شروع شود").required("شماره موبایل الزامی است"),amount:sc.Rx().typeError("مبلغ باید عدد باشد").positive("مبلغ باید بیشتر از صفر باشد").required("مبلغ الزامی است")}),m$=sc.Ry().shape({name:sc.Z_().required("نام الزامی است"),family:sc.Z_().required("نام خانوادگی الزامی است"),mobile:sc.Z_().matches(/^09[0-9]{9}$/,"فرمت شماره موبایل صحیح نیست").required("شماره موبایل الزامی است"),email:sc.Z_().email("فرمت ایمیل صحیح نیست").required("ایمیل الزامی است"),nationalCode:sc.Z_().matches(/^[0-9]{10}$/,"کد ملی باید 10 رقم باشد").required("کد ملی الزامی است"),birthday:sc.Z_().matches(/^\d{4}\/\d{1,2}\/\d{1,2}$/,"فرمت تاریخ تولد صحیح نیست").required("تاریخ تولد الزامی است")}),mq=sc.Ry().shape({senderPhone:sc.Z_().matches(/^09\d{9}$/,"شماره موبایل فرستنده باید ۱۱ رقم و با ۰۹ شروع شود").required("شماره موبایل فرستنده الزامی است"),receiverPhone:sc.Z_().matches(/^09\d{9}$/,"شماره موبایل گیرنده باید ۱۱ رقم و با ۰۹ شروع شود").required("شماره موبایل گیرنده الزامی است"),amount:sc.Rx().typeError("مبلغ باید عدد باشد").positive("مبلغ باید بیشتر از صفر باشد").required("مبلغ الزامی است"),note:sc.Z_().required("توضیحات الزامی است")});var mK=r(52072);let mV=[{title:"شیائومی",id:"list-1",tablelist:[{product:"X12 Phone",price:"123"},{product:"Y12 Phone",price:"234"},{product:"B34 Phone",price:"345"},{product:"A11 Phone",price:"456"},{product:"A11 Phone",price:"456"},{product:"A11 Phone",price:"456"},{product:"A11 Phone",price:"456"},{product:"A11 Phone",price:"456"},{product:"A11 Phone",price:"456"},{product:"A11 Phone",price:"456"}]},{title:"سامسونگ",id:"list-2",tablelist:[{product:"X12 Laptop",price:"123"},{product:"Y12 Laptop",price:"234"},{product:"B34 Laptop",price:"345"},{product:"A11 Laptop",price:"456"},{product:"A11 Laptop",price:"456"},{product:"A11 Laptop",price:"456"},{product:"A11 Laptop",price:"456"},{product:"A11 Laptop",price:"456"},{product:"A11 Laptop",price:"456"},{product:"A11 Laptop",price:"456"}]},{title:"آنر",id:"list-2",tablelist:[{product:"X12 Tablet",price:"123"},{product:"Y12 Tablet",price:"234"},{product:"B34 Tablet",price:"345"},{product:"A11 Tablet",price:"456"}]}];var mH=r(64593);let mG=(0,ca.k)(e=>({wrapper:{display:"flex",flexDirection:"column",gap:(0,ci.h)(24),paddingTop:(0,ci.h)(24),paddingBottom:(0,ci.h)(40)},card:{backgroundColor:"dark"===e.colorScheme?e.colors.dark[6]:e.white,boxShadow:e.shadows.md,transition:"transform 0.2s ease","&:hover":{transform:"translateY(-4px)"}},table:{borderCollapse:"collapse",width:"100%",fontSize:(0,ci.h)(14)},th:{backgroundColor:e.colors.indigo[1],color:e.colors.indigo[7],fontWeight:700,padding:(0,ci.h)(10),border:`1px solid ${e.colors.indigo[3]}`,textAlign:"center"},td:{padding:(0,ci.h)(10),border:`1px solid ${e.colors.indigo[2]}`,textAlign:"center",color:e.colors.gray[8]},stripedRow:{"&:nth-of-type(odd)":{backgroundColor:e.colors.gray[0]}},listTitle:{color:e.colors.indigo[7],marginBottom:(0,ci.h)(8),fontWeight:700,fontSize:(0,ci.h)(16),textAlign:"center"},pageTitle:{fontSize:(0,ci.h)(28),fontWeight:800,textAlign:"center",marginBottom:(0,ci.h)(8)}})),mX=[{url:"/link1",desktopImage:"/uploads/assets/sliders/1-desktop.gif",mobileImage:"/uploads/assets/sliders/1-mobile.gif",tabletImage:"/uploads/assets/sliders/1-mobile.gif"},{url:"/link2",desktopImage:"/uploads/assets/sliders/2-desktop.webp",mobileImage:"/uploads/assets/sliders/2-mobile.jpg",tabletImage:"/uploads/assets/sliders/2-mobile.jpg"}],mY=(0,_.hg)("homePageWideSliders/batchImport",async(e,t)=>{let{WideSliders:r}=e,{rejectWithValue:a}=t;try{let e=await fetch(et("/master-dash/widesliders/batch-import"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({WideSliders:r})});if(!e.ok){let t=await e.json().catch(()=>({}));return a((null==t?void 0:t.message)||"Failed to batch import WideSliders")}return await e.json()}catch(e){return console.error("Network error:",e),a("Network error or server not responding")}}),mJ=[{id:123,title:"گوشی موبایل اپل مدل پرومکس دو سیم‌ کارت نات اکتیو سیزده",slug:"brand0-category0-subCategory1-item0i0000",regularPrice:21e6,image:"https://dkstatics-public.digikala.com/digikala-products/c0e079b958167bd0fdef1f0e12440e7fed29b1bd_1727853611.jpg?x-oss-process=image/resize,m_lfit,h_800,w_800/format,webp/quality,q_90"},{id:124,title:"گوشی موبایل سامسونگ مدل گلکسی A54 دو سیم‌ کارت",slug:"brand1-category0-subCategory1-item0is0001",regularPrice:15e6,discountedPrice:105e5,discountPercent:"30",image:"https://dkstatics-public.digikala.com/digikala-products/ddeaf714d818733ba1d7077a3682aa8ffebde268_1727162245.jpg?x-oss-process=image/resize,m_lfit,h_800,w_800/format,webp/quality,q_90"},{id:125,title:"ساعت هوشمند اپل سری 8 مدل GPS",slug:"brand0-category1-subCategory2-item0i0002",regularPrice:2e7,discountedPrice:18e6,discountPercent:"10",image:"https://dkstatics-public.digikala.com/digikala-products/b0af2ec78668c85506c1edc260b42ff447f019c8_1667201885.jpg?x-oss-process=image/resize,m_lfit,h_800,w_800/format,webp/quality,q_90"},{id:126,title:"تلویزیون هوشمند ال جی مدل OLED55C1GI",slug:"brand6-category2-subCategory1-item0lg0003",regularPrice:4e7,discountedPrice:36e6,discountPercent:"10",image:"https://dkstatics-public.digikala.com/digikala-products/3cca1d5f59bfe07ba8d27a8c8c60ef1956ff2291_1734332212.jpg?x-oss-process=image/resize,m_lfit,h_800,w_800/format,webp/quality,q_90"},{id:127,title:"لپ تاپ ایسوس مدل TUF Dash F15",slug:"brand4-category1-subCategory0-item0as0005",regularPrice:5e7,discountedPrice:45e6,discountPercent:"10",image:"https://dkstatics-public.digikala.com/digikala-products/2abc557175aac1753bfbe11bed27ebb55ab4633a_1724603081.jpg?x-oss-process=image/resize,m_lfit,h_800,w_800/format,webp/quality,q_90"},{id:128,title:"هدفون بی سیم بیتس مدل Studio 3 – The Beats Skyline Collection",slug:"brand5-category1-subCategory1-item0b0004",regularPrice:8e6,discountedPrice:64e5,discountPercent:"20",image:"https://dkstatics-public.digikala.com/digikala-products/4528651.jpg?x-oss-process=image/resize,m_lfit,h_800,w_800/format,webp/quality,q_90"}],mQ=(0,_.hg)("homePageFeaturedProducts/batchImport",async(e,t)=>{let{featuredproducts:r}=e,{rejectWithValue:a}=t;try{let e=await fetch(et("/master-dash/featuredproducts/batch-import"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({featuredproducts:r})});if(!e.ok){let t=await e.json().catch(()=>({}));return a((null==t?void 0:t.message)||"Failed to batch import FeaturedProducts")}return await e.json()}catch(e){return console.error("Network error:",e),a("Network error or server not responding")}}),m0=()=>{let e=(0,m.I0)();return(0,a.jsxs)(I.W,{size:"sm",py:"xl",children:[(0,a.jsx)(D.D,{align:"center",mb:"lg",order:3,children:"Add Batch Featured Products"}),(0,a.jsx)(N.X,{shadow:"md",p:"lg",radius:"md",withBorder:!0,children:(0,a.jsx)(sh.Z,{position:"center",children:(0,a.jsx)(z.z,{onClick:()=>{try{e(mQ({featuredproducts:mJ}))}catch(e){alert("Invalid JSON format")}},color:"blue",radius:"md",size:"md",children:"\uD83D\uDE80 Import Featured Products"})})})]})},m1=()=>{let e=(0,m.I0)(),{isVerifiedMaster:t,loadingMaster:r,errorMaster:i,user_master:l}=(0,m.v9)(e=>e.authMaster);if((0,p.useEffect)(()=>{e(e5())},[e]),t&&"master"===l.role)return(0,a.jsxs)(I.W,{size:"lg",py:"xl",children:[(0,a.jsx)(D.D,{align:"center",mb:"lg",order:2,sx:{fontWeight:700},children:"FeaturedProducts Management"}),(0,a.jsx)(o$.Z,{shadow:"md",padding:"lg",radius:"md",withBorder:!0,children:(0,a.jsxs)(sw.K,{spacing:"md",children:[(0,a.jsx)(se.x,{size:"lg",weight:500,align:"center",children:"Manage Your FeaturedProducts Efficiently"}),(0,a.jsx)(sH.i,{}),(0,a.jsxs)(sh.Z,{position:"center",spacing:"xl",children:[(0,a.jsx)(M.O,{component:g.OL,to:"/master-dashboard/featured-products",label:"\uD83D\uDCE6 All FeaturedProducts",variant:"filled",sx:e=>({borderRadius:e.radius.md,padding:"10px 20px",fontSize:e.fontSizes.md,color:e.white,backgroundColor:e.colors.blue[6],"&:hover":{backgroundColor:e.colors.blue[7]}})}),(0,a.jsx)(M.O,{component:g.OL,to:"/master-dashboard/featured-products/add-batch-featured-products",label:"➕ Add Batch featured Products",variant:"filled",sx:e=>({borderRadius:e.radius.md,padding:"10px 20px",fontSize:e.fontSizes.md,color:e.white,backgroundColor:e.colors.green[6],"&:hover":{backgroundColor:e.colors.green[7]}})})]})]})}),(0,a.jsx)(g.j3,{})," "]})},m6=()=>{var e;let{slug:t}=(0,g.UO)(),r=(0,m.I0)(),[i,l]=(0,p.useState)(!1),{brands:s,currentBrand:n,isLoading:o,error:d,errorCode:c,errorType:u}=(0,m.v9)(e=>e.brandsData),h=(null==n?void 0:n.brand)||n,x=e=>!!(null==e||"string"==typeof e&&""===e.trim()||Array.isArray(e)&&0===e.length||Array.isArray(e)&&1===e.length&&""===e[0]||"object"==typeof e&&0===Object.keys(e).length||"object"==typeof e&&Object.values(e).every(e=>""===e||null==e)),b=()=>(0,a.jsx)("p",{className:"text-gray-500 italic text-center py-4",children:"اطلاعاتی در این باره وجود ندارد"});if((0,p.useEffect)(()=>{l(!1)},[h]),(0,p.useEffect)(()=>{t&&r(lm(t))},[r,t]),o)return(0,a.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900 mx-auto"}),(0,a.jsx)("p",{className:"mt-4 text-gray-600",children:"در حال بارگذاری..."})]})});if(d){let e=(()=>{if("HTTP_ERROR"===u&&c)switch(c){case 400:return{gradient:"from-green-50 to-green-100",border:"border-green-200",iconBg:"bg-green-100",iconColor:"text-green-600",titleColor:"text-green-800",textColor:"text-green-700",title:"درخواست نامعتبر",icon:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"};case 401:return{gradient:"from-green-50 to-green-100",border:"border-green-200",iconBg:"bg-green-100",iconColor:"text-green-600",titleColor:"text-green-800",textColor:"text-green-700",title:"عدم دسترسی",icon:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"};case 403:return{gradient:"from-green-50 to-green-100",border:"border-green-200",iconBg:"bg-green-100",iconColor:"text-green-600",titleColor:"text-green-800",textColor:"text-green-700",title:"دسترسی مجاز نیست",icon:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728L5.636 5.636m12.728 12.728L5.636 5.636"};case 404:return{gradient:"from-green-50 to-green-100",border:"border-green-200",iconBg:"bg-green-100",iconColor:"text-green-600",titleColor:"text-green-800",textColor:"text-green-700",title:"برند یافت نشد",icon:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"};case 500:return{gradient:"from-green-50 to-green-100",border:"border-green-200",iconBg:"bg-green-100",iconColor:"text-green-600",titleColor:"text-green-800",textColor:"text-green-700",title:"خطای سرور",icon:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"};case 503:return{gradient:"from-green-50 to-green-100",border:"border-green-200",iconBg:"bg-green-100",iconColor:"text-green-600",titleColor:"text-green-800",textColor:"text-green-700",title:"سرویس در دسترس نیست",icon:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"};default:return{gradient:"from-green-50 to-green-100",border:"border-green-200",iconBg:"bg-green-100",iconColor:"text-green-600",titleColor:"text-green-800",textColor:"text-green-700",title:`\u{62E}\u{637}\u{627}\u{6CC} HTTP ${c}`,icon:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}}switch(u){case"API_ERROR":return{gradient:"from-green-50 to-green-100",border:"border-green-200",iconBg:"bg-green-100",iconColor:"text-green-600",titleColor:"text-green-800",textColor:"text-green-700",title:"خطا در بارگذاری برند",icon:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"};case"NETWORK_ERROR":return{gradient:"from-green-50 to-green-100",border:"border-green-200",iconBg:"bg-green-100",iconColor:"text-green-600",titleColor:"text-green-800",textColor:"text-green-700",title:"خطا در اتصال",icon:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"};default:return{gradient:"from-green-50 to-green-100",border:"border-green-200",iconBg:"bg-green-100",iconColor:"text-green-600",titleColor:"text-green-800",textColor:"text-green-700",title:"خطا در بارگذاری",icon:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}}})();return(0,a.jsx)("div",{className:"container mx-auto px-4 py-8",dir:"rtl",children:(0,a.jsx)("div",{className:"max-w-md mx-auto",children:(0,a.jsx)("div",{className:`bg-gradient-to-br ${e.gradient} border ${e.border} rounded-xl p-8 shadow-lg`,children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:`w-16 h-16 mx-auto mb-4 ${e.iconBg} rounded-full flex items-center justify-center`,children:(0,a.jsx)("svg",{className:`w-8 h-8 ${e.iconColor}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:e.icon})})}),(0,a.jsx)("h2",{className:`text-2xl font-bold ${e.titleColor} mb-3`,children:e.title}),(0,a.jsx)("p",{className:`${e.textColor} leading-relaxed mb-4`,children:d}),("NETWORK_ERROR"===u||c>=500)&&(0,a.jsx)("button",{onClick:()=>window.location.reload(),className:"mt-4 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium",children:"تلاش مجدد"})]})})})})}return n&&"false"!==n.success&&h?(0,a.jsxs)("div",{className:"container mx-auto px-4 py-8",dir:"rtl",children:[(0,a.jsx)("div",{className:"mb-8",children:(0,a.jsxs)("div",{className:"flex flex-col md:flex-row items-center md:items-start gap-6",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:!(e=h.logo)||"string"!=typeof e||""===e.trim()||Array.isArray(e)&&(0===e.length||""===e[0])||i?(0,a.jsx)("div",{className:"w-32 h-32 flex items-center justify-center rounded-lg shadow-md bg-white p-2",children:(0,a.jsx)(()=>(0,a.jsxs)("svg",{width:"128",height:"128",viewBox:"0 0 128 128",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("rect",{width:"128",height:"128",rx:"16",fill:"#F8FAFC"}),(0,a.jsx)("rect",{width:"128",height:"128",rx:"16",stroke:"#E2E8F0",strokeWidth:"2"}),(0,a.jsxs)("g",{transform:"translate(32, 24)",children:[(0,a.jsx)("rect",{x:"0",y:"16",width:"64",height:"48",rx:"4",fill:"#64748B",opacity:"0.6"}),(0,a.jsx)("rect",{x:"8",y:"24",width:"8",height:"8",rx:"2",fill:"#94A3B8"}),(0,a.jsx)("rect",{x:"20",y:"24",width:"8",height:"8",rx:"2",fill:"#94A3B8"}),(0,a.jsx)("rect",{x:"36",y:"24",width:"8",height:"8",rx:"2",fill:"#94A3B8"}),(0,a.jsx)("rect",{x:"48",y:"24",width:"8",height:"8",rx:"2",fill:"#94A3B8"}),(0,a.jsx)("rect",{x:"8",y:"36",width:"8",height:"8",rx:"2",fill:"#94A3B8"}),(0,a.jsx)("rect",{x:"20",y:"36",width:"8",height:"8",rx:"2",fill:"#94A3B8"}),(0,a.jsx)("rect",{x:"36",y:"36",width:"8",height:"8",rx:"2",fill:"#94A3B8"}),(0,a.jsx)("rect",{x:"48",y:"36",width:"8",height:"8",rx:"2",fill:"#94A3B8"}),(0,a.jsx)("rect",{x:"8",y:"48",width:"8",height:"12",rx:"2",fill:"#CBD5E1"}),(0,a.jsx)("rect",{x:"20",y:"48",width:"8",height:"12",rx:"2",fill:"#CBD5E1"}),(0,a.jsx)("rect",{x:"36",y:"48",width:"8",height:"12",rx:"2",fill:"#CBD5E1"}),(0,a.jsx)("rect",{x:"48",y:"48",width:"8",height:"12",rx:"2",fill:"#CBD5E1"}),(0,a.jsx)("rect",{x:"26",y:"48",width:"12",height:"16",rx:"2",fill:"#475569"}),(0,a.jsx)("circle",{cx:"34",cy:"56",r:"1",fill:"#94A3B8"}),(0,a.jsx)("circle",{cx:"32",cy:"8",r:"8",fill:"#3B82F6"}),(0,a.jsx)("rect",{x:"28",y:"4",width:"8",height:"8",rx:"2",fill:"white"}),(0,a.jsx)("rect",{x:"30",y:"6",width:"4",height:"4",rx:"1",fill:"#3B82F6"})]}),(0,a.jsx)("rect",{x:"20",y:"88",width:"88",height:"6",rx:"3",fill:"#E2E8F0"}),(0,a.jsx)("rect",{x:"32",y:"100",width:"64",height:"4",rx:"2",fill:"#F1F5F9"})]}),{})}):(0,a.jsx)("img",{src:h.logo,alt:h.name||"Brand Logo",className:"w-32 h-32 object-contain rounded-lg shadow-md bg-white p-2",onError:()=>{l(!0)}})}),(0,a.jsxs)("div",{className:"flex-1 text-center md:text-right",children:[(0,a.jsx)("h1",{className:"text-3xl md:text-4xl font-bold text-gray-800 mb-4",children:h.name}),x(h.tagline)?(0,a.jsx)(b,{}):(0,a.jsx)("p",{className:"text-lg text-gray-600 mb-4",children:h.tagline}),(0,a.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 text-sm text-gray-500",children:[x(h.established_year)?null:(0,a.jsxs)("p",{children:["تاسیس: ",h.established_year]}),x(h.origin_country)?null:(0,a.jsxs)("p",{children:["کشور مبدا: ",h.origin_country]}),x(h.headquarters)?null:(0,a.jsxs)("p",{children:["دفتر مرکزی: ",h.headquarters]}),x(h.established_year)&&x(h.origin_country)&&x(h.headquarters)&&(0,a.jsx)(b,{})]})]})]})}),(0,a.jsx)("div",{className:"mb-8",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-semibold text-gray-800 mb-4",children:"آمار برند"}),x(h.total_products)&&x(h.rating)&&x(h.total_sales)&&x(h.global_rank)?(0,a.jsx)(b,{}):(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[!x(h.total_products)&&(0,a.jsxs)("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-blue-600 mb-1",children:h.total_products.toLocaleString()}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"محصولات"})]}),!x(h.rating)&&(0,a.jsxs)("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[(0,a.jsxs)("div",{className:"text-2xl font-bold text-green-600 mb-1",children:[h.rating,"/5"]}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"امتیاز کیفیت"})]}),!x(h.total_sales)&&(0,a.jsxs)("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-purple-600 mb-1",children:h.total_sales.toLocaleString()}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"فروش"})]}),!x(h.global_rank)&&(0,a.jsxs)("div",{className:"text-center p-4 bg-orange-50 rounded-lg",children:[(0,a.jsxs)("div",{className:"text-2xl font-bold text-orange-600 mb-1",children:["#",h.global_rank]}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"رتبه جهانی"})]})]})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-semibold text-gray-800 mb-4",children:"اطلاعات شرکت"}),x(h.ceo)&&x(h.employees)&&x(h.revenue)&&x(h.market_share)?(0,a.jsx)(b,{}):(0,a.jsxs)("div",{className:"space-y-3",children:[!x(h.ceo)&&(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"مدیرعامل:"}),(0,a.jsx)("span",{className:"font-medium",children:h.ceo})]}),!x(h.employees)&&(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"تعداد کارکنان:"}),(0,a.jsx)("span",{className:"font-medium",children:h.employees})]}),!x(h.revenue)&&(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"درآمد:"}),(0,a.jsx)("span",{className:"font-medium",children:h.revenue})]}),!x(h.market_share)&&(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"سهم بازار:"}),(0,a.jsx)("span",{className:"font-medium",children:h.market_share})]})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-semibold text-gray-800 mb-4",children:"محصولات محبوب"}),x(h.popular_products)?(0,a.jsx)(b,{}):(0,a.jsx)("div",{className:"space-y-2",children:h.popular_products.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center p-3 bg-gray-50 rounded-lg",children:[(0,a.jsx)("div",{className:"w-6 h-6 bg-blue-500 text-white rounded-full flex items-center justify-center text-sm font-bold ml-3",children:t+1}),(0,a.jsx)("span",{className:"text-gray-700",children:e})]},t))})]})]}),(0,a.jsx)("div",{className:"mb-8",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-semibold text-gray-800 mb-4",children:"درباره برند"}),x(h.description)?(0,a.jsx)(b,{}):(0,a.jsx)("div",{className:"prose prose-lg max-w-none text-gray-700 leading-relaxed",dangerouslySetInnerHTML:{__html:h.description}})]})}),(0,a.jsx)("div",{className:"mb-8",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-semibold text-gray-800 mb-4",children:"ویژگی‌های برند"}),x(h.features)?(0,a.jsx)(b,{}):(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:h.features.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center p-3 bg-gray-50 rounded-lg",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full ml-3"}),(0,a.jsx)("span",{className:"text-gray-700",children:e})]},t))})]})}),(0,a.jsx)("div",{className:"mb-8",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-semibold text-gray-800 mb-4",children:"اطلاعات تماس"}),x(h.website)&&x(h.email)&&x(h.phone)?(0,a.jsx)(b,{}):(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[!x(h.website)&&(0,a.jsx)("a",{href:h.website,target:"_blank",rel:"noopener noreferrer",className:"flex items-center p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:(0,a.jsx)("span",{className:"text-gray-700",children:"\uD83C\uDF10 وب‌سایت"})}),!x(h.email)&&(0,a.jsx)("a",{href:`mailto:${h.email}`,className:"flex items-center p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:(0,a.jsx)("span",{className:"text-gray-700",children:"\uD83D\uDCE7 ایمیل"})}),!x(h.phone)&&(0,a.jsx)("a",{href:`tel:${h.phone}`,className:"flex items-center p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:(0,a.jsx)("span",{className:"text-gray-700",children:"\uD83D\uDCDE تلفن"})})]})]})}),(0,a.jsx)("div",{className:"mb-8",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-semibold text-gray-800 mb-4",children:"شبکه‌های اجتماعی"}),x(h.social_media)||x(h.social_media.twitter)&&x(h.social_media.instagram)&&x(h.social_media.facebook)?(0,a.jsx)(b,{}):(0,a.jsxs)("div",{className:"flex gap-4 flex-wrap",children:[!x(h.social_media.twitter)&&(0,a.jsx)("a",{href:`https://twitter.com/${h.social_media.twitter.replace("@","")}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center px-4 py-2 bg-blue-100 text-blue-800 rounded-lg hover:bg-blue-200 transition-colors",children:"\uD83D\uDC26 Twitter"}),!x(h.social_media.instagram)&&(0,a.jsx)("a",{href:`https://instagram.com/${h.social_media.instagram.replace("@","")}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center px-4 py-2 bg-pink-100 text-pink-800 rounded-lg hover:bg-pink-200 transition-colors",children:"\uD83D\uDCF7 Instagram"}),!x(h.social_media.facebook)&&(0,a.jsx)("a",{href:`https://facebook.com/${h.social_media.facebook}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center px-4 py-2 bg-blue-100 text-blue-800 rounded-lg hover:bg-blue-200 transition-colors",children:"\uD83D\uDCD8 Facebook"})]})]})}),(0,a.jsx)("div",{className:"text-center",children:(0,a.jsx)("a",{href:`/shop?brand=${h.slug}`,className:"inline-block bg-blue-600 text-white px-8 py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:"مشاهده محصولات این برند"})})]}):(0,a.jsx)("div",{className:"container mx-auto px-4 py-8",dir:"rtl",children:(0,a.jsx)("div",{className:"max-w-md mx-auto",children:(0,a.jsx)("div",{className:"bg-gradient-to-br from-green-50 to-green-100 border border-green-200 rounded-xl p-8 shadow-lg",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 bg-green-100 rounded-full flex items-center justify-center",children:(0,a.jsx)("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),(0,a.jsx)("h2",{className:"text-2xl font-bold text-green-800 mb-3",children:"برند یافت نشد"}),(0,a.jsx)("p",{className:"text-green-700 leading-relaxed mb-6",children:(null==n?void 0:n.message)||"برند مورد نظر شما یافت نشد."}),(0,a.jsxs)("a",{href:"/brands",className:"inline-flex items-center px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium",children:[(0,a.jsx)("svg",{className:"w-4 h-4 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"بازگشت به لیست برندها"]})]})})})})},m2={apple:{id:1,name:"اپل",slug:"apple",logo:"https://upload.wikimedia.org/wikipedia/commons/f/fa/Apple_logo_black.svg",tagline:"Think Different",description:`
      <p>\u{627}\u{67E}\u{644} \u{634}\u{631}\u{6A9}\u{62A} \u{622}\u{645}\u{631}\u{6CC}\u{6A9}\u{627}\u{6CC}\u{6CC} \u{627}\u{633}\u{62A} \u{6A9}\u{647} \u{62F}\u{631} \u{632}\u{645}\u{6CC}\u{646}\u{647} \u{637}\u{631}\u{627}\u{62D}\u{6CC}\u{60C} \u{62A}\u{648}\u{633}\u{639}\u{647} \u{648} \u{641}\u{631}\u{648}\u{634} \u{645}\u{62D}\u{635}\u{648}\u{644}\u{627}\u{62A} \u{627}\u{644}\u{6A9}\u{62A}\u{631}\u{648}\u{646}\u{6CC}\u{6A9}\u{6CC} \u{645}\u{635}\u{631}\u{641}\u{6CC}\u{60C} \u{646}\u{631}\u{645}\u{200C}\u{627}\u{641}\u{632}\u{627}\u{631}\u{647}\u{627}\u{6CC} \u{6A9}\u{627}\u{645}\u{67E}\u{6CC}\u{648}\u{62A}\u{631}\u{6CC} \u{648} \u{62E}\u{62F}\u{645}\u{627}\u{62A} \u{622}\u{646}\u{644}\u{627}\u{6CC}\u{646} \u{641}\u{639}\u{627}\u{644}\u{6CC}\u{62A} \u{645}\u{6CC}\u{200C}\u{6A9}\u{646}\u{62F}.</p>
      
      <p>\u{627}\u{6CC}\u{646} \u{634}\u{631}\u{6A9}\u{62A} \u{62F}\u{631} \u{633}\u{627}\u{644} \u{6F1}\u{6F9}\u{6F7}\u{6F6} \u{62A}\u{648}\u{633}\u{637} \u{627}\u{633}\u{62A}\u{6CC}\u{648} \u{62C}\u{627}\u{628}\u{632}\u{60C} \u{627}\u{633}\u{62A}\u{6CC}\u{648} \u{648}\u{632}\u{646}\u{6CC}\u{627}\u{6A9} \u{648} \u{631}\u{648}\u{646}\u{627}\u{644}\u{62F} \u{648}\u{6CC}\u{646} \u{62A}\u{623}\u{633}\u{6CC}\u{633} \u{634}\u{62F} \u{648} \u{627}\u{645}\u{631}\u{648}\u{632}\u{647} \u{6CC}\u{6A9}\u{6CC} \u{627}\u{632} \u{628}\u{632}\u{631}\u{6AF}\u{62A}\u{631}\u{6CC}\u{646} \u{634}\u{631}\u{6A9}\u{62A}\u{200C}\u{647}\u{627}\u{6CC} \u{641}\u{646}\u{627}\u{648}\u{631}\u{6CC} \u{62C}\u{647}\u{627}\u{646} \u{645}\u{62D}\u{633}\u{648}\u{628} \u{645}\u{6CC}\u{200C}\u{634}\u{648}\u{62F}.</p>
      
      <p>\u{645}\u{62D}\u{635}\u{648}\u{644}\u{627}\u{62A} \u{627}\u{67E}\u{644} \u{634}\u{627}\u{645}\u{644} \u{622}\u{6CC}\u{641}\u{648}\u{646}\u{60C} \u{622}\u{6CC}\u{67E}\u{62F}\u{60C} \u{645}\u{6A9}\u{60C} \u{627}\u{67E}\u{644} \u{648}\u{627}\u{686}\u{60C} \u{627}\u{6CC}\u{631}\u{67E}\u{627}\u{62F} \u{648} \u{62E}\u{62F}\u{645}\u{627}\u{62A} \u{645}\u{62E}\u{62A}\u{644}\u{641}\u{6CC} \u{645}\u{627}\u{646}\u{646}\u{62F} \u{622}\u{6CC}\u{62A}\u{648}\u{646}\u{632}\u{60C} \u{627}\u{67E} \u{627}\u{633}\u{62A}\u{648}\u{631} \u{648} \u{622}\u{6CC}\u{6A9}\u{644}\u{648}\u{62F} \u{645}\u{6CC}\u{200C}\u{628}\u{627}\u{634}\u{62F}.</p>
    `,established_year:1976,origin_country:"آمریکا",headquarters:"کوپرتینو، کالیفرنیا",features:["طراحی منحصر به فرد و مدرن","اکوسیستم یکپارچه محصولات","امنیت و حریم شخصی بالا","کیفیت ساخت پریمیوم","نوآوری مداوم در فناوری","پشتیبانی طولانی مدت نرم‌افزار","تجربه کاربری بی‌نظیر","مواد باکیفیت و دوام بالا"],total_products:180,rating:4.8,total_sales:95e3,market_share:"15.8%",global_rank:2,website:"https://www.apple.com",email:"info@apple.com",phone:"+1-408-996-1010",social_media:{twitter:"@Apple",instagram:"@apple",facebook:"Apple"},ceo:"Tim Cook",employees:"164,000+",revenue:"$394.3 بیلیون (2022)",popular_products:["iPhone 15","MacBook Air","iPad Pro","Apple Watch","AirPods Pro"]},samsung:{id:2,name:"سامسونگ",slug:"samsung",logo:"https://upload.wikimedia.org/wikipedia/commons/2/24/Samsung_Logo.svg",tagline:"Inspire the World, Create the Future",description:`
      <p>\u{633}\u{627}\u{645}\u{633}\u{648}\u{646}\u{6AF} \u{627}\u{644}\u{6A9}\u{62A}\u{631}\u{648}\u{646}\u{6CC}\u{6A9}\u{633} \u{6CC}\u{6A9}\u{6CC} \u{627}\u{632} \u{628}\u{632}\u{631}\u{6AF}\u{62A}\u{631}\u{6CC}\u{646} \u{62A}\u{648}\u{644}\u{6CC}\u{62F}\u{6A9}\u{646}\u{646}\u{62F}\u{6AF}\u{627}\u{646} \u{645}\u{62D}\u{635}\u{648}\u{644}\u{627}\u{62A} \u{627}\u{644}\u{6A9}\u{62A}\u{631}\u{648}\u{646}\u{6CC}\u{6A9}\u{6CC} \u{62F}\u{631} \u{62C}\u{647}\u{627}\u{646} \u{627}\u{633}\u{62A} \u{6A9}\u{647} \u{62F}\u{631} \u{632}\u{645}\u{6CC}\u{646}\u{647}\u{200C}\u{647}\u{627}\u{6CC} \u{645}\u{62E}\u{62A}\u{644}\u{641}\u{6CC} \u{627}\u{632} \u{62C}\u{645}\u{644}\u{647} \u{62A}\u{644}\u{641}\u{646}\u{200C}\u{647}\u{627}\u{6CC} \u{647}\u{648}\u{634}\u{645}\u{646}\u{62F}\u{60C} \u{62A}\u{628}\u{644}\u{62A}\u{60C} \u{62A}\u{644}\u{648}\u{6CC}\u{632}\u{6CC}\u{648}\u{646}\u{60C} \u{6CC}\u{62E}\u{686}\u{627}\u{644}\u{60C} \u{645}\u{627}\u{634}\u{6CC}\u{646} \u{644}\u{628}\u{627}\u{633}\u{634}\u{648}\u{6CC}\u{6CC} \u{648} \u{633}\u{627}\u{6CC}\u{631} \u{644}\u{648}\u{627}\u{632}\u{645} \u{62E}\u{627}\u{646}\u{6AF}\u{6CC} \u{641}\u{639}\u{627}\u{644}\u{6CC}\u{62A} \u{645}\u{6CC}\u{200C}\u{6A9}\u{646}\u{62F}.</p>
      
      <p>\u{627}\u{6CC}\u{646} \u{634}\u{631}\u{6A9}\u{62A} \u{6A9}\u{631}\u{647}\u{200C}\u{627}\u{6CC} \u{62F}\u{631} \u{633}\u{627}\u{644} \u{6F1}\u{6F9}\u{6F3}\u{6F8} \u{62A}\u{623}\u{633}\u{6CC}\u{633} \u{634}\u{62F} \u{648} \u{627}\u{645}\u{631}\u{648}\u{632}\u{647} \u{62F}\u{631} \u{628}\u{6CC}\u{634} \u{627}\u{632} \u{6F7}\u{6F0} \u{6A9}\u{634}\u{648}\u{631} \u{62C}\u{647}\u{627}\u{646} \u{62F}\u{641}\u{62A}\u{631} \u{62F}\u{627}\u{631}\u{62F} \u{648} \u{645}\u{62D}\u{635}\u{648}\u{644}\u{627}\u{62A} \u{622}\u{646} \u{62F}\u{631} \u{633}\u{631}\u{627}\u{633}\u{631} \u{62C}\u{647}\u{627}\u{646} \u{639}\u{631}\u{636}\u{647} \u{645}\u{6CC}\u{200C}\u{634}\u{648}\u{62F}.</p>
      
      <p>\u{633}\u{627}\u{645}\u{633}\u{648}\u{646}\u{6AF} \u{647}\u{645}\u{686}\u{646}\u{6CC}\u{646} \u{6CC}\u{6A9}\u{6CC} \u{627}\u{632} \u{67E}\u{6CC}\u{634}\u{631}\u{648}\u{627}\u{646} \u{62F}\u{631} \u{635}\u{646}\u{639}\u{62A} \u{646}\u{6CC}\u{645}\u{647}\u{200C}\u{647}\u{627}\u{62F}\u{6CC} \u{648} \u{62D}\u{627}\u{641}\u{638}\u{647}\u{200C}\u{647}\u{627}\u{6CC} \u{62F}\u{6CC}\u{62C}\u{6CC}\u{62A}\u{627}\u{644} \u{645}\u{62D}\u{633}\u{648}\u{628} \u{645}\u{6CC}\u{200C}\u{634}\u{648}\u{62F} \u{648} \u{62A}\u{6A9}\u{646}\u{648}\u{644}\u{648}\u{698}\u{6CC}\u{200C}\u{647}\u{627}\u{6CC} \u{646}\u{648}\u{622}\u{648}\u{631}\u{627}\u{646}\u{647}\u{200C}\u{627}\u{6CC} \u{645}\u{627}\u{646}\u{646}\u{62F} \u{635}\u{641}\u{62D}\u{627}\u{62A} \u{646}\u{645}\u{627}\u{6CC}\u{634} OLED \u{648} QLED \u{631}\u{627} \u{62A}\u{648}\u{633}\u{639}\u{647} \u{62F}\u{627}\u{62F}\u{647} \u{627}\u{633}\u{62A}.</p>
    `,established_year:1938,origin_country:"کره جنوبی",headquarters:"سئول، کره جنوبی",features:["تکنولوژی پیشرفته صفحه نمایش","کیفیت ساخت بی‌نظیر","تنوع گسترده محصولات","نوآوری در طراحی","گارانتی معتبر و خدمات پس از فروش","قیمت مناسب در رده‌های مختلف","عملکرد بالا و سرعت مناسب","سازگاری با استانداردهای جهانی"],total_products:450,rating:4.5,total_sales:125e3,market_share:"22.1%",global_rank:1,website:"https://www.samsung.com",email:"info@samsung.com",phone:"+82-2-2255-0114",social_media:{twitter:"@Samsung",instagram:"@samsung",facebook:"Samsung"},ceo:"Jong-Hee (JH) Han",employees:"267,000+",revenue:"$244.2 بیلیون (2022)",popular_products:["Galaxy S24","Galaxy Note","QLED TV","Galaxy Watch","Galaxy Buds"]},huawei:{id:3,name:"هواوی",slug:"huawei",logo:"https://upload.wikimedia.org/wikipedia/commons/0/04/Huawei_Standard_logo.svg",tagline:"Make it Possible",description:`
      <p>\u{647}\u{648}\u{627}\u{648}\u{6CC} \u{62A}\u{6A9}\u{646}\u{648}\u{644}\u{648}\u{698}\u{6CC}\u{632} \u{634}\u{631}\u{6A9}\u{62A} \u{686}\u{6CC}\u{646}\u{6CC} \u{627}\u{633}\u{62A} \u{6A9}\u{647} \u{62F}\u{631} \u{632}\u{645}\u{6CC}\u{646}\u{647} \u{62A}\u{62C}\u{647}\u{6CC}\u{632}\u{627}\u{62A} \u{627}\u{631}\u{62A}\u{628}\u{627}\u{637}\u{6CC}\u{60C} \u{62A}\u{644}\u{641}\u{646}\u{200C}\u{647}\u{627}\u{6CC} \u{647}\u{648}\u{634}\u{645}\u{646}\u{62F}\u{60C} \u{62A}\u{628}\u{644}\u{62A} \u{648} \u{633}\u{627}\u{6CC}\u{631} \u{645}\u{62D}\u{635}\u{648}\u{644}\u{627}\u{62A} \u{641}\u{646}\u{627}\u{648}\u{631}\u{6CC} \u{627}\u{637}\u{644}\u{627}\u{639}\u{627}\u{62A} \u{641}\u{639}\u{627}\u{644}\u{6CC}\u{62A} \u{645}\u{6CC}\u{200C}\u{6A9}\u{646}\u{62F}.</p>
      
      <p>\u{627}\u{6CC}\u{646} \u{634}\u{631}\u{6A9}\u{62A} \u{62F}\u{631} \u{633}\u{627}\u{644} \u{6F1}\u{6F9}\u{6F8}\u{6F7} \u{62A}\u{623}\u{633}\u{6CC}\u{633} \u{634}\u{62F} \u{648} \u{627}\u{645}\u{631}\u{648}\u{632}\u{647} \u{6CC}\u{6A9}\u{6CC} \u{627}\u{632} \u{628}\u{632}\u{631}\u{6AF}\u{62A}\u{631}\u{6CC}\u{646} \u{62A}\u{648}\u{644}\u{6CC}\u{62F}\u{6A9}\u{646}\u{646}\u{62F}\u{6AF}\u{627}\u{646} \u{62A}\u{62C}\u{647}\u{6CC}\u{632}\u{627}\u{62A} \u{645}\u{62E}\u{627}\u{628}\u{631}\u{627}\u{62A}\u{6CC} \u{62F}\u{631} \u{62C}\u{647}\u{627}\u{646} \u{645}\u{62D}\u{633}\u{648}\u{628} \u{645}\u{6CC}\u{200C}\u{634}\u{648}\u{62F}.</p>
      
      <p>\u{647}\u{648}\u{627}\u{648}\u{6CC} \u{62F}\u{631} \u{632}\u{645}\u{6CC}\u{646}\u{647} \u{641}\u{646}\u{627}\u{648}\u{631}\u{6CC} \u{6F5}G\u{60C} \u{647}\u{648}\u{634} \u{645}\u{635}\u{646}\u{648}\u{639}\u{6CC}\u{60C} \u{627}\u{6CC}\u{646}\u{62A}\u{631}\u{646}\u{62A} \u{627}\u{634}\u{6CC}\u{627}\u{621} \u{648} \u{645}\u{62D}\u{627}\u{633}\u{628}\u{627}\u{62A} \u{627}\u{628}\u{631}\u{6CC} \u{67E}\u{6CC}\u{634}\u{631}\u{648} \u{628}\u{648}\u{62F}\u{647} \u{648} \u{633}\u{631}\u{645}\u{627}\u{6CC}\u{647}\u{200C}\u{6AF}\u{630}\u{627}\u{631}\u{6CC} \u{639}\u{638}\u{6CC}\u{645}\u{6CC} \u{62F}\u{631} \u{62A}\u{62D}\u{642}\u{6CC}\u{642} \u{648} \u{62A}\u{648}\u{633}\u{639}\u{647} \u{627}\u{646}\u{62C}\u{627}\u{645} \u{645}\u{6CC}\u{200C}\u{62F}\u{647}\u{62F}.</p>
    `,established_year:1987,origin_country:"چین",headquarters:"شنژن، چین",features:["تکنولوژی دوربین پیشرفته","باتری با ظرفیت بالا و شارژ سریع","طراحی شیک و مدرن","عملکرد قوی پردازشگر","صفحه نمایش با کیفیت بالا","قیمت رقابتی","امکانات پیشرفته عکاسی","مقاومت در برابر آب و غبار"],total_products:280,rating:4.3,total_sales:75e3,market_share:"10.5%",global_rank:4,website:"https://www.huawei.com",email:"info@huawei.com",phone:"+86-755-28780808",social_media:{twitter:"@Huawei",instagram:"@huawei",facebook:"Huawei"},ceo:"Ren Zhengfei",employees:"207,000+",revenue:"$99.9 بیلیون (2022)",popular_products:["Mate 60 Pro","P60 Pro","MateBook","Watch GT","FreeBuds Pro"]},xiaomi:{id:4,name:"شیائومی",slug:"xiaomi",logo:"https://upload.wikimedia.org/wikipedia/commons/2/29/Xiaomi_logo.svg",tagline:"Innovation for Everyone",description:`
      <p>\u{634}\u{6CC}\u{627}\u{626}\u{648}\u{645}\u{6CC} \u{634}\u{631}\u{6A9}\u{62A} \u{686}\u{6CC}\u{646}\u{6CC} \u{627}\u{633}\u{62A} \u{6A9}\u{647} \u{62F}\u{631} \u{633}\u{627}\u{644} \u{6F2}\u{6F0}\u{6F1}\u{6F0} \u{62A}\u{623}\u{633}\u{6CC}\u{633} \u{634}\u{62F} \u{648} \u{628}\u{647} \u{633}\u{631}\u{639}\u{62A} \u{628}\u{647} \u{6CC}\u{6A9}\u{6CC} \u{627}\u{632} \u{628}\u{632}\u{631}\u{6AF}\u{62A}\u{631}\u{6CC}\u{646} \u{62A}\u{648}\u{644}\u{6CC}\u{62F}\u{6A9}\u{646}\u{646}\u{62F}\u{6AF}\u{627}\u{646} \u{62A}\u{644}\u{641}\u{646}\u{200C}\u{647}\u{627}\u{6CC} \u{647}\u{648}\u{634}\u{645}\u{646}\u{62F} \u{62F}\u{631} \u{62C}\u{647}\u{627}\u{646} \u{62A}\u{628}\u{62F}\u{6CC}\u{644} \u{634}\u{62F}\u{647} \u{627}\u{633}\u{62A}.</p>
      
      <p>\u{627}\u{6CC}\u{646} \u{634}\u{631}\u{6A9}\u{62A} \u{628}\u{627} \u{634}\u{639}\u{627}\u{631} "\u{646}\u{648}\u{622}\u{648}\u{631}\u{6CC} \u{628}\u{631}\u{627}\u{6CC} \u{647}\u{645}\u{647}" \u{645}\u{62D}\u{635}\u{648}\u{644}\u{627}\u{62A} \u{628}\u{627}\u{6A9}\u{6CC}\u{641}\u{6CC}\u{62A} \u{648} \u{645}\u{642}\u{631}\u{648}\u{646} \u{628}\u{647} \u{635}\u{631}\u{641}\u{647}\u{200C}\u{627}\u{6CC} \u{631}\u{627} \u{627}\u{631}\u{627}\u{626}\u{647} \u{645}\u{6CC}\u{200C}\u{62F}\u{647}\u{62F} \u{6A9}\u{647} \u{634}\u{627}\u{645}\u{644} \u{62A}\u{644}\u{641}\u{646}\u{200C}\u{647}\u{627}\u{6CC} \u{647}\u{648}\u{634}\u{645}\u{646}\u{62F}\u{60C} \u{644}\u{67E}\u{200C}\u{62A}\u{627}\u{67E}\u{60C} \u{62A}\u{644}\u{648}\u{6CC}\u{632}\u{6CC}\u{648}\u{646}\u{60C} \u{644}\u{648}\u{627}\u{632}\u{645} \u{62E}\u{627}\u{646}\u{6AF}\u{6CC} \u{647}\u{648}\u{634}\u{645}\u{646}\u{62F} \u{648} \u{627}\u{6A9}\u{633}\u{633}\u{648}\u{631}\u{6CC}\u{200C}\u{647}\u{627}\u{6CC} \u{645}\u{62A}\u{646}\u{648}\u{639} \u{645}\u{6CC}\u{200C}\u{634}\u{648}\u{62F}.</p>
      
      <p>\u{634}\u{6CC}\u{627}\u{626}\u{648}\u{645}\u{6CC} \u{647}\u{645}\u{686}\u{646}\u{6CC}\u{646} \u{62F}\u{631} \u{632}\u{645}\u{6CC}\u{646}\u{647} \u{627}\u{6CC}\u{646}\u{62A}\u{631}\u{646}\u{62A} \u{627}\u{634}\u{6CC}\u{627}\u{621}\u{60C} \u{62E}\u{627}\u{646}\u{647}\u{200C}\u{647}\u{627}\u{6CC} \u{647}\u{648}\u{634}\u{645}\u{646}\u{62F} \u{648} \u{62E}\u{62F}\u{645}\u{627}\u{62A} \u{627}\u{6CC}\u{646}\u{62A}\u{631}\u{646}\u{62A}\u{6CC} \u{641}\u{639}\u{627}\u{644} \u{627}\u{633}\u{62A} \u{648} \u{6CC}\u{6A9}\u{6CC} \u{627}\u{632} \u{628}\u{631}\u{646}\u{62F}\u{647}\u{627}\u{6CC} \u{645}\u{62D}\u{628}\u{648}\u{628} \u{62F}\u{631} \u{628}\u{627}\u{632}\u{627}\u{631} \u{62C}\u{647}\u{627}\u{646}\u{6CC} \u{645}\u{62D}\u{633}\u{648}\u{628} \u{645}\u{6CC}\u{200C}\u{634}\u{648}\u{62F}.</p>
    `,established_year:2010,origin_country:"چین",headquarters:"پکن، چین",features:["نسبت کیفیت به قیمت عالی","مشخصات فنی بالا","طراحی جذاب و مدرن","MIUI با امکانات گسترده","باتری پرظرفیت","دوربین با کیفیت مناسب","به‌روزرسانی منظم نرم‌افزار","تنوع در رنگ‌بندی"],total_products:320,rating:4.4,total_sales:95e3,market_share:"12.8%",global_rank:3,website:"https://www.mi.com",email:"info@xiaomi.com",phone:"+86-10-60606666",social_media:{twitter:"@Xiaomi",instagram:"@xiaomi.global",facebook:"XiaomiGlobal"},ceo:"Lei Jun",employees:"35,000+",revenue:"$42.1 بیلیون (2022)",popular_products:["Xiaomi 14","Redmi Note 13","Mi TV","Mi Band","Redmi Buds"]},asus:{id:5,name:"ایسوس",slug:"asus",logo:"https://upload.wikimedia.org/wikipedia/commons/2/2e/ASUS_Logo.svg",tagline:"In Search of Incredible",description:`
      <p>\u{627}\u{6CC}\u{633}\u{648}\u{633} \u{634}\u{631}\u{6A9}\u{62A} \u{62A}\u{627}\u{6CC}\u{648}\u{627}\u{646}\u{6CC} \u{627}\u{633}\u{62A} \u{6A9}\u{647} \u{62F}\u{631} \u{633}\u{627}\u{644} \u{6F1}\u{6F9}\u{6F8}\u{6F9} \u{62A}\u{623}\u{633}\u{6CC}\u{633} \u{634}\u{62F} \u{648} \u{62F}\u{631} \u{632}\u{645}\u{6CC}\u{646}\u{647} \u{62A}\u{648}\u{644}\u{6CC}\u{62F} \u{644}\u{67E}\u{200C}\u{62A}\u{627}\u{67E}\u{60C} \u{6A9}\u{627}\u{645}\u{67E}\u{6CC}\u{648}\u{62A}\u{631} \u{631}\u{648}\u{645}\u{6CC}\u{632}\u{6CC}\u{60C} \u{645}\u{627}\u{62F}\u{631}\u{628}\u{631}\u{62F}\u{60C} \u{6A9}\u{627}\u{631}\u{62A} \u{6AF}\u{631}\u{627}\u{641}\u{6CC}\u{6A9}\u{60C} \u{62A}\u{644}\u{641}\u{646}\u{200C}\u{647}\u{627}\u{6CC} \u{647}\u{648}\u{634}\u{645}\u{646}\u{62F} \u{648} \u{633}\u{627}\u{6CC}\u{631} \u{62A}\u{62C}\u{647}\u{6CC}\u{632}\u{627}\u{62A} \u{6A9}\u{627}\u{645}\u{67E}\u{6CC}\u{648}\u{62A}\u{631}\u{6CC} \u{641}\u{639}\u{627}\u{644}\u{6CC}\u{62A} \u{645}\u{6CC}\u{200C}\u{6A9}\u{646}\u{62F}.</p>
      
      <p>\u{627}\u{6CC}\u{646} \u{634}\u{631}\u{6A9}\u{62A} \u{628}\u{647} \u{62E}\u{635}\u{648}\u{635} \u{62F}\u{631} \u{628}\u{627}\u{632}\u{627}\u{631} \u{6AF}\u{6CC}\u{645}\u{6CC}\u{646}\u{6AF} \u{648} \u{645}\u{62D}\u{635}\u{648}\u{644}\u{627}\u{62A} \u{62A}\u{62E}\u{635}\u{635}\u{6CC} \u{6A9}\u{627}\u{645}\u{67E}\u{6CC}\u{648}\u{62A}\u{631}\u{6CC} \u{634}\u{647}\u{631}\u{62A} \u{62C}\u{647}\u{627}\u{646}\u{6CC} \u{62F}\u{627}\u{631}\u{62F} \u{648} \u{645}\u{62D}\u{635}\u{648}\u{644}\u{627}\u{62A} \u{622}\u{646} \u{62A}\u{648}\u{633}\u{637} \u{6AF}\u{6CC}\u{645}\u{631}\u{647}\u{627} \u{648} \u{645}\u{62A}\u{62E}\u{635}\u{635}\u{627}\u{646} IT \u{645}\u{648}\u{631}\u{62F} \u{627}\u{633}\u{62A}\u{641}\u{627}\u{62F}\u{647} \u{642}\u{631}\u{627}\u{631} \u{645}\u{6CC}\u{200C}\u{6AF}\u{6CC}\u{631}\u{646}\u{62F}.</p>
      
      <p>\u{627}\u{6CC}\u{633}\u{648}\u{633} \u{647}\u{645}\u{686}\u{646}\u{6CC}\u{646} \u{62F}\u{631} \u{632}\u{645}\u{6CC}\u{646}\u{647} \u{62A}\u{648}\u{644}\u{6CC}\u{62F} \u{631}\u{648}\u{62A}\u{631}\u{60C} \u{645}\u{627}\u{646}\u{6CC}\u{62A}\u{648}\u{631} \u{6AF}\u{6CC}\u{645}\u{6CC}\u{646}\u{6AF} \u{648} \u{633}\u{627}\u{6CC}\u{631} \u{62A}\u{62C}\u{647}\u{6CC}\u{632}\u{627}\u{62A} \u{634}\u{628}\u{6A9}\u{647} \u{646}\u{6CC}\u{632} \u{641}\u{639}\u{627}\u{644} \u{627}\u{633}\u{62A} \u{648} \u{6A9}\u{6CC}\u{641}\u{6CC}\u{62A} \u{648} \u{646}\u{648}\u{622}\u{648}\u{631}\u{6CC} \u{627}\u{632} \u{648}\u{6CC}\u{698}\u{6AF}\u{6CC}\u{200C}\u{647}\u{627}\u{6CC} \u{627}\u{635}\u{644}\u{6CC} \u{645}\u{62D}\u{635}\u{648}\u{644}\u{627}\u{62A} \u{627}\u{6CC}\u{646} \u{628}\u{631}\u{646}\u{62F} \u{645}\u{62D}\u{633}\u{648}\u{628} \u{645}\u{6CC}\u{200C}\u{634}\u{648}\u{62F}.</p>
    `,established_year:1989,origin_country:"تایوان",headquarters:"تایپه، تایوان",features:["کیفیت ساخت صنعتی","عملکرد بالا برای گیمینگ","طراحی حرفه‌ای و شیک","تکنولوژی خنک‌کاری پیشرفته","قطعات باکیفیت و مقاوم","پشتیبانی فنی قوی","نرم‌افزارهای مخصوص","گارانتی معتبر جهانی"],total_products:220,rating:4.6,total_sales:45e3,market_share:"7.2%",global_rank:6,website:"https://www.asus.com",email:"info@asus.com",phone:"+886-2-2894-3447",social_media:{twitter:"@ASUS",instagram:"@asus",facebook:"ASUS"},ceo:"Samson Hu",employees:"17,000+",revenue:"$15.3 بیلیون (2022)",popular_products:["ROG Phone 8","ZenBook Pro","ROG Strix","TUF Gaming","ZenFone 11"]}},m4=[{element:(0,a.jsx)(e=>{let t=(0,g.TH)(),r=(0,m.v9)(e=>e.global.loading),i=(0,m.I0)();return(0,p.useEffect)(()=>{let e=null;window.scrollTo(0,0),m4.forEach(r=>{var a;let i=null==(a=r.children)?void 0:a.find(e=>e.path===t.pathname);i&&(e=i.title)}),e&&(document.title=e)},[t]),(0,p.useEffect)(()=>{sr&&i(Z(sr))},[]),(0,a.jsx)(a.Fragment,{children:sr?(0,a.jsxs)(a.Fragment,{children:[r?(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(l9.k,{pos:"fixed",top:"0",left:"0",justify:"center",align:"center",h:"100%",w:"100%",style:{zIndex:0x5af3107a3fff},children:[(0,a.jsx)(N.X,{w:"400",style:{zIndex:0x38d7ea4c67fff},children:(0,a.jsxs)(l9.k,{direction:"column",justify:"center",align:"center",children:[(0,a.jsx)(A.a,{size:"xl"}),(0,a.jsx)(se.x,{children:"منتظر باشید ..."})]})}),(0,a.jsx)(st.a,{color:"#000",backgroundOpacity:.55})]})}):null,(0,a.jsx)(nl,{}),(0,a.jsx)(nc,{}),"/"===t.pathname?(0,a.jsx)(g.j3,{}):(0,a.jsx)(I.W,{className:"px-3 md:px-5 my-3 lg:my-10",children:(0,a.jsx)(g.j3,{})}),(0,a.jsx)(sP,{})]}):(0,a.jsxs)(l9.k,{h:"100vh",bg:"white",justify:"center",align:"center",direction:"column",children:[(0,a.jsx)(A.a,{size:"xl"}),(0,a.jsx)(se.x,{children:"منتظر باشید ..."})]})})},{}),path:"/",breadcrumb:"خانه",children:[{path:"/master-dashboard",element:(0,a.jsx)(()=>{let e=(0,m.I0)(),{isVerifiedMaster:t,loadingMaster:r,errorMaster:i,user_master:l}=(0,m.v9)(e=>e.authMaster);return((0,p.useEffect)(()=>{e(e5())},[e]),t&&"master"===l.role)?(0,a.jsxs)(I.W,{size:"lg",py:"xl",children:[(0,a.jsx)(D.D,{align:"center",mb:"lg",order:2,sx:{fontWeight:700},children:"Master Dashboard"}),(0,a.jsx)(o$.Z,{shadow:"md",padding:"lg",radius:"md",withBorder:!0,children:(0,a.jsxs)(sw.K,{spacing:"md",children:[(0,a.jsx)(se.x,{size:"lg",weight:500,align:"center",children:"Manage Your Dashboard Effectively"}),(0,a.jsx)(sH.i,{}),(0,a.jsx)(sh.Z,{position:"center",spacing:"xl",children:(0,a.jsx)(M.O,{component:g.OL,to:"/master-dashboard/products",label:"\uD83D\uDCE6 Products",variant:"filled",sx:e=>({borderRadius:e.radius.md,padding:"10px 20px",fontSize:e.fontSizes.md,color:e.white,backgroundColor:e.colors.blue[6],"&:hover":{backgroundColor:e.colors.blue[7]}})})}),(0,a.jsx)(sh.Z,{position:"center",spacing:"xl",children:(0,a.jsx)(M.O,{component:g.OL,to:"/master-dashboard/banners",label:"\uD83D\uDCE6 Banners",variant:"filled",sx:e=>({borderRadius:e.radius.md,padding:"10px 20px",fontSize:e.fontSizes.md,color:e.white,backgroundColor:e.colors.blue[6],"&:hover":{backgroundColor:e.colors.blue[7]}})})}),(0,a.jsx)(sh.Z,{position:"center",spacing:"xl",children:(0,a.jsx)(M.O,{component:g.OL,to:"/master-dashboard/brands",label:"\uD83D\uDCE6 Brands",variant:"filled",sx:e=>({borderRadius:e.radius.md,padding:"10px 20px",fontSize:e.fontSizes.md,color:e.white,backgroundColor:e.colors.blue[6],"&:hover":{backgroundColor:e.colors.blue[7]}})})}),(0,a.jsx)(sh.Z,{position:"center",spacing:"xl",children:(0,a.jsx)(M.O,{component:g.OL,to:"/master-dashboard/categories",label:"\uD83D\uDCE6 Categories",variant:"filled",sx:e=>({borderRadius:e.radius.md,padding:"10px 20px",fontSize:e.fontSizes.md,color:e.white,backgroundColor:e.colors.blue[6],"&:hover":{backgroundColor:e.colors.blue[7]}})})}),(0,a.jsx)(sh.Z,{position:"center",spacing:"xl",children:(0,a.jsx)(M.O,{component:g.OL,to:"/master-dashboard/product-comments",label:"\uD83D\uDCE6 Product Comments",variant:"filled",sx:e=>({borderRadius:e.radius.md,padding:"10px 20px",fontSize:e.fontSizes.md,color:e.white,backgroundColor:e.colors.blue[6],"&:hover":{backgroundColor:e.colors.blue[7]}})})}),(0,a.jsx)(sh.Z,{position:"center",spacing:"xl",children:(0,a.jsx)(M.O,{component:g.OL,to:"/master-dashboard/menu",label:"\uD83D\uDCE6 Menu ",variant:"filled",sx:e=>({borderRadius:e.radius.md,padding:"10px 20px",fontSize:e.fontSizes.md,color:e.white,backgroundColor:e.colors.blue[6],"&:hover":{backgroundColor:e.colors.blue[7]}})})}),(0,a.jsx)(sh.Z,{position:"center",spacing:"xl",children:(0,a.jsx)(M.O,{component:g.OL,to:"/master-dashboard/archives",label:"\uD83D\uDCE6 Archive ",variant:"filled",sx:e=>({borderRadius:e.radius.md,padding:"10px 20px",fontSize:e.fontSizes.md,color:e.white,backgroundColor:e.colors.blue[6],"&:hover":{backgroundColor:e.colors.blue[7]}})})}),(0,a.jsx)(sh.Z,{position:"center",spacing:"xl",children:(0,a.jsx)(M.O,{component:g.OL,to:"/master-dashboard/trendproducts",label:"\uD83D\uDCE6 Trend Products ",variant:"filled",sx:e=>({borderRadius:e.radius.md,padding:"10px 20px",fontSize:e.fontSizes.md,color:e.white,backgroundColor:e.colors.blue[6],"&:hover":{backgroundColor:e.colors.blue[7]}})})}),(0,a.jsx)(sh.Z,{position:"center",spacing:"xl",children:(0,a.jsx)(M.O,{component:g.OL,to:"/master-dashboard/productgrids",label:"\uD83D\uDCE6 Product Grids ",variant:"filled",sx:e=>({borderRadius:e.radius.md,padding:"10px 20px",fontSize:e.fontSizes.md,color:e.white,backgroundColor:e.colors.blue[6],"&:hover":{backgroundColor:e.colors.blue[7]}})})}),(0,a.jsx)(sh.Z,{position:"center",spacing:"xl",children:(0,a.jsx)(M.O,{component:g.OL,to:"/master-dashboard/singleproducts",label:"\uD83D\uDCE6 Single Product ",variant:"filled",sx:e=>({borderRadius:e.radius.md,padding:"10px 20px",fontSize:e.fontSizes.md,color:e.white,backgroundColor:e.colors.blue[6],"&:hover":{backgroundColor:e.colors.blue[7]}})})}),(0,a.jsx)(sh.Z,{position:"center",spacing:"xl",children:(0,a.jsx)(M.O,{component:g.OL,to:"/master-dashboard/fastorderbrands",label:"\uD83D\uDCE6 Fast Order Brands ",variant:"filled",sx:e=>({borderRadius:e.radius.md,padding:"10px 20px",fontSize:e.fontSizes.md,color:e.white,backgroundColor:e.colors.blue[6],"&:hover":{backgroundColor:e.colors.blue[7]}})})}),(0,a.jsx)(sh.Z,{position:"center",spacing:"xl",children:(0,a.jsx)(M.O,{component:g.OL,to:"/master-dashboard/fastorderfilters",label:"\uD83D\uDCE6 Fast Order Filters ",variant:"filled",sx:e=>({borderRadius:e.radius.md,padding:"10px 20px",fontSize:e.fontSizes.md,color:e.white,backgroundColor:e.colors.blue[6],"&:hover":{backgroundColor:e.colors.blue[7]}})})}),(0,a.jsx)(sh.Z,{position:"center",spacing:"xl",children:(0,a.jsx)(M.O,{component:g.OL,to:"/master-dashboard/fastordercategories",label:"\uD83D\uDCE6 Fast Order Categories ",variant:"filled",sx:e=>({borderRadius:e.radius.md,padding:"10px 20px",fontSize:e.fontSizes.md,color:e.white,backgroundColor:e.colors.blue[6],"&:hover":{backgroundColor:e.colors.blue[7]}})})}),(0,a.jsx)(sh.Z,{position:"center",spacing:"xl",children:(0,a.jsx)(M.O,{component:g.OL,to:"/master-dashboard/fastorderlocations",label:"\uD83D\uDCE6 Fast Order Locations",variant:"filled",sx:e=>({borderRadius:e.radius.md,padding:"10px 20px",fontSize:e.fontSizes.md,color:e.white,backgroundColor:e.colors.blue[6],"&:hover":{backgroundColor:e.colors.blue[7]}})})}),(0,a.jsx)(sh.Z,{position:"center",spacing:"xl",children:(0,a.jsx)(M.O,{component:g.OL,to:"/master-dashboard/gateways",label:"\uD83D\uDCE6 Fast Order Gateways",variant:"filled",sx:e=>({borderRadius:e.radius.md,padding:"10px 20px",fontSize:e.fontSizes.md,color:e.white,backgroundColor:e.colors.blue[6],"&:hover":{backgroundColor:e.colors.blue[7]}})})}),(0,a.jsx)(sh.Z,{position:"center",spacing:"xl",children:(0,a.jsx)(M.O,{component:g.OL,to:"/master-dashboard/user-myaccounts",label:"\uD83D\uDCE6 User My Account",variant:"filled",sx:e=>({borderRadius:e.radius.md,padding:"10px 20px",fontSize:e.fontSizes.md,color:e.white,backgroundColor:e.colors.blue[6],"&:hover":{backgroundColor:e.colors.blue[7]}})})}),(0,a.jsx)(sh.Z,{position:"center",spacing:"xl",children:(0,a.jsx)(M.O,{component:g.OL,to:"/master-dashboard/usermessages",label:"\uD83D\uDCE6 User Messages",variant:"filled",sx:e=>({borderRadius:e.radius.md,padding:"10px 20px",fontSize:e.fontSizes.md,color:e.white,backgroundColor:e.colors.blue[6],"&:hover":{backgroundColor:e.colors.blue[7]}})})}),(0,a.jsx)(sh.Z,{position:"center",spacing:"xl",children:(0,a.jsx)(M.O,{component:g.OL,to:"/master-dashboard/purchasedproducts",label:"\uD83D\uDCE6 User Purchased Products",variant:"filled",sx:e=>({borderRadius:e.radius.md,padding:"10px 20px",fontSize:e.fontSizes.md,color:e.white,backgroundColor:e.colors.blue[6],"&:hover":{backgroundColor:e.colors.blue[7]}})})}),(0,a.jsx)(sh.Z,{position:"center",spacing:"xl",children:(0,a.jsx)(M.O,{component:g.OL,to:"/master-dashboard/myaccount-tickets",label:"\uD83D\uDCE6 My Account Tickets",variant:"filled",sx:e=>({borderRadius:e.radius.md,padding:"10px 20px",fontSize:e.fontSizes.md,color:e.white,backgroundColor:e.colors.blue[6],"&:hover":{backgroundColor:e.colors.blue[7]}})})}),(0,a.jsx)(sh.Z,{position:"center",spacing:"xl",children:(0,a.jsx)(M.O,{component:g.OL,to:"/master-dashboard/subscriptions",label:"\uD83D\uDCE6 Subscriptions",variant:"filled",sx:e=>({borderRadius:e.radius.md,padding:"10px 20px",fontSize:e.fontSizes.md,color:e.white,backgroundColor:e.colors.blue[6],"&:hover":{backgroundColor:e.colors.blue[7]}})})}),(0,a.jsx)(sh.Z,{position:"center",spacing:"xl",children:(0,a.jsx)(M.O,{component:g.OL,to:"/master-dashboard/categoryfilters",label:"\uD83D\uDCE6 Category Filters",variant:"filled",sx:e=>({borderRadius:e.radius.md,padding:"10px 20px",fontSize:e.fontSizes.md,color:e.white,backgroundColor:e.colors.blue[6],"&:hover":{backgroundColor:e.colors.blue[7]}})})}),(0,a.jsx)(sh.Z,{position:"center",spacing:"xl",children:(0,a.jsx)(M.O,{component:g.OL,to:"/master-dashboard/notificationtables",label:"\uD83D\uDCE6 Notification Tables",variant:"filled",sx:e=>({borderRadius:e.radius.md,padding:"10px 20px",fontSize:e.fontSizes.md,color:e.white,backgroundColor:e.colors.blue[6],"&:hover":{backgroundColor:e.colors.blue[7]}})})}),(0,a.jsx)(sh.Z,{position:"center",spacing:"xl",children:(0,a.jsx)(M.O,{component:g.OL,to:"/master-dashboard/pricelist",label:"\uD83D\uDCE6 Price List Tables",variant:"filled",sx:e=>({borderRadius:e.radius.md,padding:"10px 20px",fontSize:e.fontSizes.md,color:e.white,backgroundColor:e.colors.blue[6],"&:hover":{backgroundColor:e.colors.blue[7]}})})}),(0,a.jsx)(sh.Z,{position:"center",spacing:"xl",children:(0,a.jsx)(M.O,{component:g.OL,to:"/master-dashboard/wideslider",label:"\uD83D\uDCE6 wideslider",variant:"filled",sx:e=>({borderRadius:e.radius.md,padding:"10px 20px",fontSize:e.fontSizes.md,color:e.white,backgroundColor:e.colors.blue[6],"&:hover":{backgroundColor:e.colors.blue[7]}})})}),(0,a.jsx)(sh.Z,{position:"center",spacing:"xl",children:(0,a.jsx)(M.O,{component:g.OL,to:"/master-dashboard/featured-products",label:"\uD83D\uDCE6 featurred prod ",variant:"filled",sx:e=>({borderRadius:e.radius.md,padding:"10px 20px",fontSize:e.fontSizes.md,color:e.white,backgroundColor:e.colors.blue[6],"&:hover":{backgroundColor:e.colors.blue[7]}})})}),(0,a.jsx)(sh.Z,{position:"center",spacing:"xl",children:(0,a.jsx)(M.O,{component:g.OL,to:"/master-dashboard/brandsdata",label:"\uD83D\uDCE6 brandsdata ",variant:"filled",sx:e=>({borderRadius:e.radius.md,padding:"10px 20px",fontSize:e.fontSizes.md,color:e.white,backgroundColor:e.colors.blue[6],"&:hover":{backgroundColor:e.colors.blue[7]}})})}),(0,a.jsx)(sh.Z,{position:"center",spacing:"xl",children:(0,a.jsx)(M.O,{component:g.OL,to:"/master-dashboard/bootstrap",label:"\uD83D\uDCE6 bootstrap ",variant:"filled",sx:e=>({borderRadius:e.radius.md,padding:"10px 20px",fontSize:e.fontSizes.md,color:e.white,backgroundColor:e.colors.blue[6],"&:hover":{backgroundColor:e.colors.blue[7]}})})})]})}),(0,a.jsx)(g.j3,{})," "]}):(0,a.jsxs)(I.W,{size:"lg",py:"xl",children:[(0,a.jsx)(o$.Z,{shadow:"md",padding:"lg",radius:"md",withBorder:!0,children:(0,a.jsxs)(sw.K,{spacing:"md",children:[(0,a.jsx)(sH.i,{}),(0,a.jsx)(sh.Z,{position:"center",spacing:"xl",children:(0,a.jsx)(se.x,{children:"شما دسترسی به این صفحه ندارید"})})]})}),(0,a.jsx)(g.j3,{})," "]})},{}),children:[{path:"brandsdata",element:(0,a.jsx)(()=>{let e=(0,m.I0)(),{isVerifiedMaster:t,loadingMaster:r,errorMaster:i,user_master:l}=(0,m.v9)(e=>e.authMaster);if((0,p.useEffect)(()=>{e(e5())},[e]),t&&"master"===l.role)return(0,a.jsxs)(I.W,{size:"lg",py:"xl",children:[(0,a.jsx)(D.D,{align:"center",mb:"lg",order:2,sx:{fontWeight:700},children:"Brands Data"}),(0,a.jsx)(o$.Z,{shadow:"md",padding:"lg",radius:"md",withBorder:!0,children:(0,a.jsxs)(sw.K,{spacing:"md",children:[(0,a.jsx)(se.x,{size:"lg",weight:500,align:"center",children:"Manage Your Brands Data Efficiently"}),(0,a.jsx)(sH.i,{}),(0,a.jsxs)(sh.Z,{position:"center",spacing:"xl",children:[(0,a.jsx)(M.O,{component:g.OL,to:"/master-dashboard/brandsdata",label:"\uD83D\uDCE6 All Banners",variant:"filled",sx:e=>({borderRadius:e.radius.md,padding:"10px 20px",fontSize:e.fontSizes.md,color:e.white,backgroundColor:e.colors.blue[6],"&:hover":{backgroundColor:e.colors.blue[7]}})}),(0,a.jsx)(M.O,{component:g.OL,to:"/master-dashboard/brandsdata/add-batch-brandsdata",label:"➕ Add Batch brands data",variant:"filled",sx:e=>({borderRadius:e.radius.md,padding:"10px 20px",fontSize:e.fontSizes.md,color:e.white,backgroundColor:e.colors.green[6],"&:hover":{backgroundColor:e.colors.green[7]}})})]})]})}),(0,a.jsx)(g.j3,{})," "]})},{}),children:[{path:"add-batch-brandsdata",element:(0,a.jsx)(()=>{let e=(0,m.I0)();return(0,a.jsxs)(I.W,{size:"sm",py:"xl",children:[(0,a.jsx)(D.D,{align:"center",mb:"lg",order:3,children:"Add Batch Brands Data"}),(0,a.jsx)(N.X,{shadow:"md",p:"lg",radius:"md",withBorder:!0,children:(0,a.jsx)(sh.Z,{position:"center",children:(0,a.jsx)(z.z,{onClick:()=>{try{e(ae({brandsData:m2}))}catch(e){alert("Invalid JSON format")}},color:"blue",radius:"md",size:"md",children:"\uD83D\uDE80 Import Brands Data"})})})]})},{})}]},{path:"products",element:(0,a.jsx)(()=>{let e=(0,m.I0)(),{isVerifiedMaster:t,loadingMaster:r,errorMaster:i,user_master:l}=(0,m.v9)(e=>e.authMaster);if((0,p.useEffect)(()=>{e(e5())},[e]),t&&"master"===l.role)return(0,a.jsxs)(I.W,{size:"lg",py:"xl",children:[(0,a.jsx)(D.D,{align:"center",mb:"lg",order:2,sx:{fontWeight:700},children:"Product Management"}),(0,a.jsx)(o$.Z,{shadow:"md",padding:"lg",radius:"md",withBorder:!0,children:(0,a.jsxs)(sw.K,{spacing:"md",children:[(0,a.jsx)(se.x,{size:"lg",weight:500,align:"center",children:"Manage Your Products Efficiently"}),(0,a.jsx)(sH.i,{}),(0,a.jsxs)(sh.Z,{position:"center",spacing:"xl",children:[(0,a.jsx)(M.O,{component:g.OL,to:"/master-dashboard/products",label:"\uD83D\uDCE6 All Products",variant:"filled",sx:e=>({borderRadius:e.radius.md,padding:"10px 20px",fontSize:e.fontSizes.md,color:e.white,backgroundColor:e.colors.blue[6],"&:hover":{backgroundColor:e.colors.blue[7]}})}),(0,a.jsx)(M.O,{component:g.OL,to:"/master-dashboard/products/add-batch-products",label:"➕ Add Batch Products",variant:"filled",sx:e=>({borderRadius:e.radius.md,padding:"10px 20px",fontSize:e.fontSizes.md,color:e.white,backgroundColor:e.colors.green[6],"&:hover":{backgroundColor:e.colors.green[7]}})})]})]})}),(0,a.jsx)(g.j3,{})," "]})},{}),children:[{path:"add-batch-products",element:(0,a.jsx)(()=>{let e=(0,m.I0)();return(0,a.jsxs)(I.W,{size:"sm",py:"xl",children:[(0,a.jsx)(D.D,{align:"center",mb:"lg",order:3,children:"Add Batch Products"}),(0,a.jsx)(N.X,{shadow:"md",p:"lg",radius:"md",withBorder:!0,children:(0,a.jsx)(sh.Z,{position:"center",children:(0,a.jsx)(z.z,{onClick:()=>{try{e(eR({products:ux}))}catch(e){alert("Invalid JSON format")}},color:"blue",radius:"md",size:"md",children:"\uD83D\uDE80 Import Products"})})})]})},{})}]},{path:"bootstrap",element:(0,a.jsx)(()=>{let e=(0,m.I0)(),{isVerifiedMaster:t,loadingMaster:r,errorMaster:i,user_master:l}=(0,m.v9)(e=>e.authMaster);if((0,p.useEffect)(()=>{e(e5())},[e]),t&&"master"===l.role)return(0,a.jsxs)(I.W,{size:"lg",py:"xl",children:[(0,a.jsx)(D.D,{align:"center",mb:"lg",order:2,sx:{fontWeight:700},children:"Bootstrap Management"}),(0,a.jsx)(o$.Z,{shadow:"md",padding:"lg",radius:"md",withBorder:!0,children:(0,a.jsxs)(sw.K,{spacing:"md",children:[(0,a.jsx)(se.x,{size:"lg",weight:500,align:"center",children:"Manage Your Bootstrap Efficiently"}),(0,a.jsx)(sH.i,{}),(0,a.jsxs)(sh.Z,{position:"center",spacing:"xl",children:[(0,a.jsx)(M.O,{component:g.OL,to:"/master-dashboard/bootstrap",label:"\uD83D\uDCE6 All bootstrap",variant:"filled",sx:e=>({borderRadius:e.radius.md,padding:"10px 20px",fontSize:e.fontSizes.md,color:e.white,backgroundColor:e.colors.blue[6],"&:hover":{backgroundColor:e.colors.blue[7]}})}),(0,a.jsx)(M.O,{component:g.OL,to:"/master-dashboard/bootstrap/add-batch-bootstrap",label:"➕ Add Batch Archives",variant:"filled",sx:e=>({borderRadius:e.radius.md,padding:"10px 20px",fontSize:e.fontSizes.md,color:e.white,backgroundColor:e.colors.green[6],"&:hover":{backgroundColor:e.colors.green[7]}})})]})]})}),(0,a.jsx)(g.j3,{})," "]})},{}),children:[{path:"add-batch-bootstrap",element:(0,a.jsx)(()=>{let e=(0,m.I0)();return(0,a.jsxs)(I.W,{size:"sm",py:"xl",children:[(0,a.jsx)(D.D,{align:"center",mb:"lg",order:3,children:"Add Batch bootstrap"}),(0,a.jsx)(N.X,{shadow:"md",p:"lg",radius:"md",withBorder:!0,children:(0,a.jsx)(sh.Z,{position:"center",children:(0,a.jsx)(z.z,{onClick:()=>{try{e(iA({bootstrap:sr}))}catch(e){alert("Invalid JSON format")}},color:"blue",radius:"md",size:"md",children:"\uD83D\uDE80 Import bootstrap"})})})]})},{})}]},{path:"banners",element:(0,a.jsx)(()=>{let e=(0,m.I0)(),{isVerifiedMaster:t,loadingMaster:r,errorMaster:i,user_master:l}=(0,m.v9)(e=>e.authMaster);if((0,p.useEffect)(()=>{e(e5())},[e]),t&&"master"===l.role)return(0,a.jsxs)(I.W,{size:"lg",py:"xl",children:[(0,a.jsx)(D.D,{align:"center",mb:"lg",order:2,sx:{fontWeight:700},children:"Product Management"}),(0,a.jsx)(o$.Z,{shadow:"md",padding:"lg",radius:"md",withBorder:!0,children:(0,a.jsxs)(sw.K,{spacing:"md",children:[(0,a.jsx)(se.x,{size:"lg",weight:500,align:"center",children:"Manage Your Products Efficiently"}),(0,a.jsx)(sH.i,{}),(0,a.jsxs)(sh.Z,{position:"center",spacing:"xl",children:[(0,a.jsx)(M.O,{component:g.OL,to:"/master-dashboard/banners",label:"\uD83D\uDCE6 All Banners",variant:"filled",sx:e=>({borderRadius:e.radius.md,padding:"10px 20px",fontSize:e.fontSizes.md,color:e.white,backgroundColor:e.colors.blue[6],"&:hover":{backgroundColor:e.colors.blue[7]}})}),(0,a.jsx)(M.O,{component:g.OL,to:"/master-dashboard/banners/add-batch-banners",label:"➕ Add Batch Banners",variant:"filled",sx:e=>({borderRadius:e.radius.md,padding:"10px 20px",fontSize:e.fontSizes.md,color:e.white,backgroundColor:e.colors.green[6],"&:hover":{backgroundColor:e.colors.green[7]}})})]})]})}),(0,a.jsx)(g.j3,{})," "]})},{}),children:[{path:"add-batch-banners",element:(0,a.jsx)(()=>{let e=(0,m.I0)();return(0,a.jsxs)(I.W,{size:"sm",py:"xl",children:[(0,a.jsx)(D.D,{align:"center",mb:"lg",order:3,children:"Add Batch Banners"}),(0,a.jsx)(N.X,{shadow:"md",p:"lg",radius:"md",withBorder:!0,children:(0,a.jsx)(sh.Z,{position:"center",children:(0,a.jsx)(z.z,{onClick:()=>{try{e(e$({banners:uj}))}catch(e){alert("Invalid JSON format")}},color:"blue",radius:"md",size:"md",children:"\uD83D\uDE80 Import Banners"})})})]})},{})}]},{path:"brands",element:(0,a.jsx)(m6,{}),children:[{path:"add-batch-brands",element:(0,a.jsx)(()=>{let e=(0,m.I0)();return(0,a.jsxs)(I.W,{size:"sm",py:"xl",children:[(0,a.jsx)(D.D,{align:"center",mb:"lg",order:3,children:"Add Batch Brands"}),(0,a.jsx)(N.X,{shadow:"md",p:"lg",radius:"md",withBorder:!0,children:(0,a.jsx)(sh.Z,{position:"center",children:(0,a.jsx)(z.z,{onClick:()=>{try{e(eH({brands:uv}))}catch(e){alert("Invalid JSON format")}},color:"blue",radius:"md",size:"md",children:"\uD83D\uDE80 Import Brands"})})})]})},{})}]},{path:"categories",element:(0,a.jsx)(()=>{let e=(0,m.I0)(),{isVerifiedMaster:t,loadingMaster:r,errorMaster:i,user_master:l}=(0,m.v9)(e=>e.authMaster);if((0,p.useEffect)(()=>{e(e5())},[e]),t&&"master"===l.role)return(0,a.jsxs)(I.W,{size:"lg",py:"xl",children:[(0,a.jsx)(D.D,{align:"center",mb:"lg",order:2,sx:{fontWeight:700},children:"Category Management"}),(0,a.jsx)(o$.Z,{shadow:"md",padding:"lg",radius:"md",withBorder:!0,children:(0,a.jsxs)(sw.K,{spacing:"md",children:[(0,a.jsx)(se.x,{size:"lg",weight:500,align:"center",children:"Manage Your Categories Efficiently"}),(0,a.jsx)(sH.i,{}),(0,a.jsxs)(sh.Z,{position:"center",spacing:"xl",children:[(0,a.jsx)(M.O,{component:g.OL,to:"/master-dashboard/categories",label:"\uD83D\uDCE6 All Categories",variant:"filled",sx:e=>({borderRadius:e.radius.md,padding:"10px 20px",fontSize:e.fontSizes.md,color:e.white,backgroundColor:e.colors.blue[6],"&:hover":{backgroundColor:e.colors.blue[7]}})}),(0,a.jsx)(M.O,{component:g.OL,to:"/master-dashboard/categories/add-batch-categories",label:"➕ Add Batch Categories",variant:"filled",sx:e=>({borderRadius:e.radius.md,padding:"10px 20px",fontSize:e.fontSizes.md,color:e.white,backgroundColor:e.colors.green[6],"&:hover":{backgroundColor:e.colors.green[7]}})})]})]})}),(0,a.jsx)(g.j3,{})," "]})},{}),children:[{path:"add-batch-categories",element:(0,a.jsx)(()=>{let e=(0,m.I0)();return(0,a.jsxs)(I.W,{size:"sm",py:"xl",children:[(0,a.jsx)(D.D,{align:"center",mb:"lg",order:3,children:"Add Batch Categories"}),(0,a.jsx)(N.X,{shadow:"md",p:"lg",radius:"md",withBorder:!0,children:(0,a.jsx)(sh.Z,{position:"center",children:(0,a.jsx)(z.z,{onClick:()=>{try{e(eJ({categories:uC}))}catch(e){alert("Invalid JSON format")}},color:"blue",radius:"md",size:"md",children:"\uD83D\uDE80 Import Categories"})})})]})},{})}]},{path:"product-comments",element:(0,a.jsx)(()=>{let e=(0,m.I0)(),{isVerifiedMaster:t,loadingMaster:r,errorMaster:i,user_master:l}=(0,m.v9)(e=>e.authMaster);if((0,p.useEffect)(()=>{e(e5())},[e]),t&&"master"===l.role)return(0,a.jsxs)(I.W,{size:"lg",py:"xl",children:[(0,a.jsx)(D.D,{align:"center",mb:"lg",order:2,sx:{fontWeight:700},children:"Product Comments Management"}),(0,a.jsx)(o$.Z,{shadow:"md",padding:"lg",radius:"md",withBorder:!0,children:(0,a.jsxs)(sw.K,{spacing:"md",children:[(0,a.jsx)(se.x,{size:"lg",weight:500,align:"center",children:"Manage Your Product Comments Efficiently"}),(0,a.jsx)(sH.i,{}),(0,a.jsxs)(sh.Z,{position:"center",spacing:"xl",children:[(0,a.jsx)(M.O,{component:g.OL,to:"/master-dashboard/product-comments",label:"\uD83D\uDCE6 All Product Comments",variant:"filled",sx:e=>({borderRadius:e.radius.md,padding:"10px 20px",fontSize:e.fontSizes.md,color:e.white,backgroundColor:e.colors.blue[6],"&:hover":{backgroundColor:e.colors.blue[7]}})}),(0,a.jsx)(M.O,{component:g.OL,to:"/master-dashboard/product-comments/add-batch-product-comments",label:"➕ Add Batch Product Comments",variant:"filled",sx:e=>({borderRadius:e.radius.md,padding:"10px 20px",fontSize:e.fontSizes.md,color:e.white,backgroundColor:e.colors.green[6],"&:hover":{backgroundColor:e.colors.green[7]}})})]})]})}),(0,a.jsx)(g.j3,{})," "]})},{}),children:[{path:"add-batch-product-comments",element:(0,a.jsx)(()=>{let e=(0,m.I0)();return(0,a.jsxs)(I.W,{size:"sm",py:"xl",children:[(0,a.jsx)(D.D,{align:"center",mb:"lg",order:3,children:"Add Batch Product Comments"}),(0,a.jsx)(N.X,{shadow:"md",p:"lg",radius:"md",withBorder:!0,children:(0,a.jsx)(sh.Z,{position:"center",children:(0,a.jsx)(z.z,{onClick:()=>{try{e(e6({productComments:uI}))}catch(e){alert("Invalid JSON format")}},color:"blue",radius:"md",size:"md",children:"\uD83D\uDE80 Import Product Comments"})})})]})},{})}]},{path:"menu",element:(0,a.jsx)(()=>{let e=(0,m.I0)(),{isVerifiedMaster:t,loadingMaster:r,errorMaster:i,user_master:l}=(0,m.v9)(e=>e.authMaster);if((0,p.useEffect)(()=>{e(e5())},[e]),t&&"master"===l.role)return(0,a.jsxs)(I.W,{size:"lg",py:"xl",children:[(0,a.jsx)(D.D,{align:"center",mb:"lg",order:2,sx:{fontWeight:700},children:"Menu Management"}),(0,a.jsx)(o$.Z,{shadow:"md",padding:"lg",radius:"md",withBorder:!0,children:(0,a.jsxs)(sw.K,{spacing:"md",children:[(0,a.jsx)(se.x,{size:"lg",weight:500,align:"center",children:"Manage Your Menu Efficiently"}),(0,a.jsx)(sH.i,{}),(0,a.jsxs)(sh.Z,{position:"center",spacing:"xl",children:[(0,a.jsx)(M.O,{component:g.OL,to:"/master-dashboard/menu",label:"\uD83D\uDCE6 All Menu",variant:"filled",sx:e=>({borderRadius:e.radius.md,padding:"10px 20px",fontSize:e.fontSizes.md,color:e.white,backgroundColor:e.colors.blue[6],"&:hover":{backgroundColor:e.colors.blue[7]}})}),(0,a.jsx)(M.O,{component:g.OL,to:"/master-dashboard/menu/add-batch-menu",label:"➕ Add Batch Menu",variant:"filled",sx:e=>({borderRadius:e.radius.md,padding:"10px 20px",fontSize:e.fontSizes.md,color:e.white,backgroundColor:e.colors.green[6],"&:hover":{backgroundColor:e.colors.green[7]}})})]})]})}),(0,a.jsx)(g.j3,{})," "]})},{}),children:[{path:"add-batch-menu",element:(0,a.jsx)(()=>{let e=(0,m.I0)();return(0,a.jsxs)(I.W,{size:"sm",py:"xl",children:[(0,a.jsx)(D.D,{align:"center",mb:"lg",order:3,children:"Add Batch Menu"}),(0,a.jsx)(N.X,{shadow:"md",p:"lg",radius:"md",withBorder:!0,children:(0,a.jsx)(sh.Z,{position:"center",children:(0,a.jsx)(z.z,{onClick:()=>{try{e(te({menuData:uz}))}catch(e){alert("Invalid JSON format")}},color:"blue",radius:"md",size:"md",children:"\uD83D\uDE80 Import Menu"})})})]})},{})}]},{path:"archives",element:(0,a.jsx)(()=>{let e=(0,m.I0)(),{isVerifiedMaster:t,loadingMaster:r,errorMaster:i,user_master:l}=(0,m.v9)(e=>e.authMaster);if((0,p.useEffect)(()=>{e(e5())},[e]),t&&"master"===l.role)return(0,a.jsxs)(I.W,{size:"lg",py:"xl",children:[(0,a.jsx)(D.D,{align:"center",mb:"lg",order:2,sx:{fontWeight:700},children:"Archives Management"}),(0,a.jsx)(o$.Z,{shadow:"md",padding:"lg",radius:"md",withBorder:!0,children:(0,a.jsxs)(sw.K,{spacing:"md",children:[(0,a.jsx)(se.x,{size:"lg",weight:500,align:"center",children:"Manage Your Archives Efficiently"}),(0,a.jsx)(sH.i,{}),(0,a.jsxs)(sh.Z,{position:"center",spacing:"xl",children:[(0,a.jsx)(M.O,{component:g.OL,to:"/master-dashboard/archives",label:"\uD83D\uDCE6 All Archives",variant:"filled",sx:e=>({borderRadius:e.radius.md,padding:"10px 20px",fontSize:e.fontSizes.md,color:e.white,backgroundColor:e.colors.blue[6],"&:hover":{backgroundColor:e.colors.blue[7]}})}),(0,a.jsx)(M.O,{component:g.OL,to:"/master-dashboard/archives/add-batch-archives",label:"➕ Add Batch Archives",variant:"filled",sx:e=>({borderRadius:e.radius.md,padding:"10px 20px",fontSize:e.fontSizes.md,color:e.white,backgroundColor:e.colors.green[6],"&:hover":{backgroundColor:e.colors.green[7]}})})]})]})}),(0,a.jsx)(g.j3,{})," "]})},{}),children:[{path:"add-batch-archives",element:(0,a.jsx)(()=>{let e=(0,m.I0)();return(0,a.jsxs)(I.W,{size:"sm",py:"xl",children:[(0,a.jsx)(D.D,{align:"center",mb:"lg",order:3,children:"Add Batch Archives"}),(0,a.jsx)(N.X,{shadow:"md",p:"lg",radius:"md",withBorder:!0,children:(0,a.jsx)(sh.Z,{position:"center",children:(0,a.jsx)(z.z,{onClick:()=>{try{e(ti({archives:ub}))}catch(e){alert("Invalid JSON format")}},color:"blue",radius:"md",size:"md",children:"\uD83D\uDE80 Import Archives"})})})]})},{})}]},{path:"trendproducts",element:(0,a.jsx)(()=>{let e=(0,m.I0)(),{isVerifiedMaster:t,loadingMaster:r,errorMaster:i,user_master:l}=(0,m.v9)(e=>e.authMaster);if((0,p.useEffect)(()=>{e(e5())},[e]),t&&"master"===l.role)return(0,a.jsxs)(I.W,{size:"lg",py:"xl",children:[(0,a.jsx)(D.D,{align:"center",mb:"lg",order:2,sx:{fontWeight:700},children:"Trend Products Management"}),(0,a.jsx)(o$.Z,{shadow:"md",padding:"lg",radius:"md",withBorder:!0,children:(0,a.jsxs)(sw.K,{spacing:"md",children:[(0,a.jsx)(se.x,{size:"lg",weight:500,align:"center",children:"Manage Trend Products Efficiently"}),(0,a.jsx)(sH.i,{}),(0,a.jsxs)(sh.Z,{position:"center",spacing:"xl",children:[(0,a.jsx)(M.O,{component:g.OL,to:"/master-dashboard/trendproducts",label:"\uD83D\uDCE6 All Trend Products",variant:"filled",sx:e=>({borderRadius:e.radius.md,padding:"10px 20px",fontSize:e.fontSizes.md,color:e.white,backgroundColor:e.colors.blue[6],"&:hover":{backgroundColor:e.colors.blue[7]}})}),(0,a.jsx)(M.O,{component:g.OL,to:"/master-dashboard/trendproducts/add-batch-trend-products",label:"➕ Add Batch Trend Products",variant:"filled",sx:e=>({borderRadius:e.radius.md,padding:"10px 20px",fontSize:e.fontSizes.md,color:e.white,backgroundColor:e.colors.green[6],"&:hover":{backgroundColor:e.colors.green[7]}})})]})]})}),(0,a.jsx)(g.j3,{})," "]})},{}),children:[{path:"add-batch-trend-products",element:(0,a.jsx)(()=>{let e=(0,m.I0)();return(0,a.jsxs)(I.W,{size:"sm",py:"xl",children:[(0,a.jsx)(D.D,{align:"center",mb:"lg",order:3,children:"Add Batch Trend Products"}),(0,a.jsx)(N.X,{shadow:"md",p:"lg",radius:"md",withBorder:!0,children:(0,a.jsx)(sh.Z,{position:"center",children:(0,a.jsx)(z.z,{onClick:()=>{try{e(to({trendProducts:uf}))}catch(e){alert("Invalid JSON format")}},color:"blue",radius:"md",size:"md",children:"\uD83D\uDE80 Import Trend Products"})})})]})},{})}]},{path:"productgrids",element:(0,a.jsx)(()=>{let e=(0,m.I0)(),{isVerifiedMaster:t,loadingMaster:r,errorMaster:i,user_master:l}=(0,m.v9)(e=>e.authMaster);if((0,p.useEffect)(()=>{e(e5())},[e]),t&&"master"===l.role)return(0,a.jsxs)(I.W,{size:"lg",py:"xl",children:[(0,a.jsx)(D.D,{align:"center",mb:"lg",order:2,sx:{fontWeight:700},children:"Product Grid Management"}),(0,a.jsx)(o$.Z,{shadow:"md",padding:"lg",radius:"md",withBorder:!0,children:(0,a.jsxs)(sw.K,{spacing:"md",children:[(0,a.jsx)(se.x,{size:"lg",weight:500,align:"center",children:"Manage Product Grids Efficiently"}),(0,a.jsx)(sH.i,{}),(0,a.jsxs)(sh.Z,{position:"center",spacing:"xl",children:[(0,a.jsx)(M.O,{component:g.OL,to:"/master-dashboard/productgrids",label:"\uD83D\uDCE6 All Product Grids",variant:"filled",sx:e=>({borderRadius:e.radius.md,padding:"10px 20px",fontSize:e.fontSizes.md,color:e.white,backgroundColor:e.colors.blue[6],"&:hover":{backgroundColor:e.colors.blue[7]}})}),(0,a.jsx)(M.O,{component:g.OL,to:"/master-dashboard/productgrids/add-batch-product-grids",label:"➕ Add Batch Product Grids",variant:"filled",sx:e=>({borderRadius:e.radius.md,padding:"10px 20px",fontSize:e.fontSizes.md,color:e.white,backgroundColor:e.colors.green[6],"&:hover":{backgroundColor:e.colors.green[7]}})})]})]})}),(0,a.jsx)(g.j3,{})," "]})},{}),children:[{path:"add-batch-product-grids",element:(0,a.jsx)(()=>{let e=(0,m.I0)();return(0,a.jsxs)(I.W,{size:"sm",py:"xl",children:[(0,a.jsx)(D.D,{align:"center",mb:"lg",order:3,children:"Add Batch Product Grids"}),(0,a.jsx)(N.X,{shadow:"md",p:"lg",radius:"md",withBorder:!0,children:(0,a.jsx)(sh.Z,{position:"center",children:(0,a.jsx)(z.z,{onClick:()=>{try{e(tm({productGrid:uy}))}catch(e){alert("Invalid JSON format")}},color:"blue",radius:"md",size:"md",children:"\uD83D\uDE80 Import Product Grids"})})})]})},{})}]},{path:"singleproducts",element:(0,a.jsx)(()=>{let e=(0,m.I0)(),{isVerifiedMaster:t,loadingMaster:r,errorMaster:i,user_master:l}=(0,m.v9)(e=>e.authMaster);if((0,p.useEffect)(()=>{e(e5())},[e]),t&&"master"===l.role)return(0,a.jsxs)(I.W,{size:"lg",py:"xl",children:[(0,a.jsx)(D.D,{align:"center",mb:"lg",order:2,sx:{fontWeight:700},children:"Single Product Management"}),(0,a.jsx)(o$.Z,{shadow:"md",padding:"lg",radius:"md",withBorder:!0,children:(0,a.jsxs)(sw.K,{spacing:"md",children:[(0,a.jsx)(se.x,{size:"lg",weight:500,align:"center",children:"Manage Your Product Efficiently"}),(0,a.jsx)(sH.i,{}),(0,a.jsxs)(sh.Z,{position:"center",spacing:"xl",children:[(0,a.jsx)(M.O,{component:g.OL,to:"/master-dashboard/singleproducts",label:"\uD83D\uDCE6 All SingleProducts",variant:"filled",sx:e=>({borderRadius:e.radius.md,padding:"10px 20px",fontSize:e.fontSizes.md,color:e.white,backgroundColor:e.colors.blue[6],"&:hover":{backgroundColor:e.colors.blue[7]}})}),(0,a.jsx)(M.O,{component:g.OL,to:"/master-dashboard/singleproducts/add-batch-single-product",label:"➕ Add Batch Single Product",variant:"filled",sx:e=>({borderRadius:e.radius.md,padding:"10px 20px",fontSize:e.fontSizes.md,color:e.white,backgroundColor:e.colors.green[6],"&:hover":{backgroundColor:e.colors.green[7]}})})]})]})}),(0,a.jsx)(g.j3,{})," "]})},{}),children:[{path:"add-batch-single-product",element:(0,a.jsx)(()=>{let e=(0,m.I0)();return(0,a.jsxs)(I.W,{size:"sm",py:"xl",children:[(0,a.jsx)(D.D,{align:"center",mb:"lg",order:3,children:"Add Batch Single Product"}),(0,a.jsx)(N.X,{shadow:"md",p:"lg",radius:"md",withBorder:!0,children:(0,a.jsx)(sh.Z,{position:"center",children:(0,a.jsx)(z.z,{onClick:()=>{try{e(uV({singleProducts:uK}))}catch(e){alert("Invalid JSON format")}},color:"blue",radius:"md",size:"md",children:"\uD83D\uDE80 Import Single Product"})})})]})},{})}]},{path:"fastorderbrands",element:(0,a.jsx)(()=>{let e=(0,m.I0)(),{isVerified:t,loading:r,error:i,user_master:l}=(0,m.v9)(e=>e.authMaster);return(0,p.useEffect)(()=>{e(e5())},[e]),(0,a.jsxs)(I.W,{size:"lg",py:"xl",children:[(0,a.jsx)(D.D,{align:"center",mb:"lg",order:2,sx:{fontWeight:700},children:"Fast Order Brand Management"}),(0,a.jsx)(o$.Z,{shadow:"md",padding:"lg",radius:"md",withBorder:!0,children:(0,a.jsxs)(sw.K,{spacing:"md",children:[(0,a.jsx)(se.x,{size:"lg",weight:500,align:"center",children:"Manage Your Fast Order Brands Efficiently"}),(0,a.jsx)(sH.i,{}),(0,a.jsxs)(sh.Z,{position:"center",spacing:"xl",children:[(0,a.jsx)(M.O,{component:g.OL,to:"/master-dashboard/fastorderbrands",label:"\uD83D\uDCE6 All Fast Order Brands",variant:"filled",sx:e=>({borderRadius:e.radius.md,padding:"10px 20px",fontSize:e.fontSizes.md,color:e.white,backgroundColor:e.colors.blue[6],"&:hover":{backgroundColor:e.colors.blue[7]}})}),(0,a.jsx)(M.O,{component:g.OL,to:"/master-dashboard/fastorderbrands/add-batch-fast-order-brands",label:"➕ Add Batch Fast Order Brands",variant:"filled",sx:e=>({borderRadius:e.radius.md,padding:"10px 20px",fontSize:e.fontSizes.md,color:e.white,backgroundColor:e.colors.green[6],"&:hover":{backgroundColor:e.colors.green[7]}})})]})]})}),(0,a.jsx)(g.j3,{})," "]})},{}),children:[{path:"add-batch-fast-order-brands",element:(0,a.jsx)(()=>{let e=(0,m.I0)();return(0,a.jsxs)(I.W,{size:"sm",py:"xl",children:[(0,a.jsx)(D.D,{align:"center",mb:"lg",order:3,children:"Add Batch Fast Order Brands"}),(0,a.jsx)(N.X,{shadow:"md",p:"lg",radius:"md",withBorder:!0,children:(0,a.jsx)(sh.Z,{position:"center",children:(0,a.jsx)(z.z,{onClick:()=>{try{e(rJ({brands:mk}))}catch(e){alert("Invalid JSON format")}},color:"blue",radius:"md",size:"md",children:"\uD83D\uDE80 Import Fast Order Brands"})})})]})},{})}]},{path:"fastorderfilters",element:(0,a.jsx)(()=>{let e=(0,m.I0)(),{isVerifiedMaster:t,loadingMaster:r,errorMaster:i,user_master:l}=(0,m.v9)(e=>e.authMaster);if((0,p.useEffect)(()=>{e(e5())},[e]),t&&"master"===l.role)return(0,a.jsxs)(I.W,{size:"lg",py:"xl",children:[(0,a.jsx)(D.D,{align:"center",mb:"lg",order:2,sx:{fontWeight:700},children:"Fast Order Filters Management"}),(0,a.jsx)(o$.Z,{shadow:"md",padding:"lg",radius:"md",withBorder:!0,children:(0,a.jsxs)(sw.K,{spacing:"md",children:[(0,a.jsx)(se.x,{size:"lg",weight:500,align:"center",children:"Manage Your Fast Order Filters Efficiently"}),(0,a.jsx)(sH.i,{}),(0,a.jsxs)(sh.Z,{position:"center",spacing:"xl",children:[(0,a.jsx)(M.O,{component:g.OL,to:"/master-dashboard/fastorderfilters",label:"\uD83D\uDCE6 All Fast Order Filters",variant:"filled",sx:e=>({borderRadius:e.radius.md,padding:"10px 20px",fontSize:e.fontSizes.md,color:e.white,backgroundColor:e.colors.blue[6],"&:hover":{backgroundColor:e.colors.blue[7]}})}),(0,a.jsx)(M.O,{component:g.OL,to:"/master-dashboard/fastorderfilters/add-batch-fast-order-filters",label:"➕ Add Batch Fast Order Filters",variant:"filled",sx:e=>({borderRadius:e.radius.md,padding:"10px 20px",fontSize:e.fontSizes.md,color:e.white,backgroundColor:e.colors.green[6],"&:hover":{backgroundColor:e.colors.green[7]}})})]})]})}),(0,a.jsx)(g.j3,{})," "]})},{}),children:[{path:"add-batch-fast-order-filters",element:(0,a.jsx)(()=>{let e=(0,m.I0)();return(0,a.jsxs)(I.W,{size:"sm",py:"xl",children:[(0,a.jsx)(D.D,{align:"center",mb:"lg",order:3,children:"Add Batch Fast Order Filters"}),(0,a.jsx)(N.X,{shadow:"md",p:"lg",radius:"md",withBorder:!0,children:(0,a.jsx)(sh.Z,{position:"center",children:(0,a.jsx)(z.z,{onClick:()=>{try{e(r6({filters:mI}))}catch(e){alert("Invalid JSON format")}},color:"blue",radius:"md",size:"md",children:"\uD83D\uDE80 Import Fast Order Filters"})})})]})},{})}]},{path:"fastordercategories",element:(0,a.jsx)(()=>{let e=(0,m.I0)(),{isVerifiedMaster:t,loadingMaster:r,errorMaster:i,user_master:l}=(0,m.v9)(e=>e.authMaster);if((0,p.useEffect)(()=>{e(e5())},[e]),t&&"master"===l.role)return(0,a.jsxs)(I.W,{size:"lg",py:"xl",children:[(0,a.jsx)(D.D,{align:"center",mb:"lg",order:2,sx:{fontWeight:700},children:"Fast Order Category Management"}),(0,a.jsx)(o$.Z,{shadow:"md",padding:"lg",radius:"md",withBorder:!0,children:(0,a.jsxs)(sw.K,{spacing:"md",children:[(0,a.jsx)(se.x,{size:"lg",weight:500,align:"center",children:"Manage Your Fast Order Categories Efficiently"}),(0,a.jsx)(sH.i,{}),(0,a.jsxs)(sh.Z,{position:"center",spacing:"xl",children:[(0,a.jsx)(M.O,{component:g.OL,to:"/master-dashboard/fastordercategories",label:"\uD83D\uDCE6 All Fast Order Categories",variant:"filled",sx:e=>({borderRadius:e.radius.md,padding:"10px 20px",fontSize:e.fontSizes.md,color:e.white,backgroundColor:e.colors.blue[6],"&:hover":{backgroundColor:e.colors.blue[7]}})}),(0,a.jsx)(M.O,{component:g.OL,to:"/master-dashboard/fastordercategories/add-batch-fast-order-categories",label:"➕ Add Batch Fast Order Categories",variant:"filled",sx:e=>({borderRadius:e.radius.md,padding:"10px 20px",fontSize:e.fontSizes.md,color:e.white,backgroundColor:e.colors.green[6],"&:hover":{backgroundColor:e.colors.green[7]}})})]})]})}),(0,a.jsx)(g.j3,{})," "]})},{}),children:[{path:"add-batch-fast-order-categories",element:(0,a.jsx)(()=>{let e=(0,m.I0)();return(0,a.jsxs)(I.W,{size:"sm",py:"xl",children:[(0,a.jsx)(D.D,{align:"center",mb:"lg",order:3,children:"Add Batch Fast Order Categories"}),(0,a.jsx)(N.X,{shadow:"md",p:"lg",radius:"md",withBorder:!0,children:(0,a.jsx)(sh.Z,{position:"center",children:(0,a.jsx)(z.z,{onClick:()=>{try{e(mN({categoriesFastOrder:mS}))}catch(e){alert("Invalid JSON format")}},color:"blue",radius:"md",size:"md",children:"\uD83D\uDE80 Import Fast Order Categories"})})})]})},{})}]},{path:"fastorderlocations",element:(0,a.jsx)(()=>{let e=(0,m.I0)(),{isVerifiedMaster:t,loadingMaster:r,errorMaster:i,user_master:l}=(0,m.v9)(e=>e.authMaster);if((0,p.useEffect)(()=>{e(e5())},[e]),t&&"master"===l.role)return(0,a.jsxs)(I.W,{size:"lg",py:"xl",children:[(0,a.jsx)(D.D,{align:"center",mb:"lg",order:2,sx:{fontWeight:700},children:"Fast Order Location Management"}),(0,a.jsx)(o$.Z,{shadow:"md",padding:"lg",radius:"md",withBorder:!0,children:(0,a.jsxs)(sw.K,{spacing:"md",children:[(0,a.jsx)(se.x,{size:"lg",weight:500,align:"center",children:"Manage Your Fast Order Locations Efficiently"}),(0,a.jsx)(sH.i,{}),(0,a.jsxs)(sh.Z,{position:"center",spacing:"xl",children:[(0,a.jsx)(M.O,{component:g.OL,to:"/master-dashboard/fastorderlocations",label:"\uD83D\uDCE6 All Fast Order Locations",variant:"filled",sx:e=>({borderRadius:e.radius.md,padding:"10px 20px",fontSize:e.fontSizes.md,color:e.white,backgroundColor:e.colors.blue[6],"&:hover":{backgroundColor:e.colors.blue[7]}})}),(0,a.jsx)(M.O,{component:g.OL,to:"/master-dashboard/fastorderlocations/add-batch-fast-order-locations",label:"➕ Add Batch Fast Order Locations",variant:"filled",sx:e=>({borderRadius:e.radius.md,padding:"10px 20px",fontSize:e.fontSizes.md,color:e.white,backgroundColor:e.colors.green[6],"&:hover":{backgroundColor:e.colors.green[7]}})})]})]})}),(0,a.jsx)(g.j3,{})," "]})},{}),children:[{path:"add-batch-fast-order-locations",element:(0,a.jsx)(()=>{let e=(0,m.I0)();return(0,a.jsxs)(I.W,{size:"sm",py:"xl",children:[(0,a.jsx)(D.D,{align:"center",mb:"lg",order:3,children:"Add Batch Fast Order Locations"}),(0,a.jsx)(N.X,{shadow:"md",p:"lg",radius:"md",withBorder:!0,children:(0,a.jsx)(sh.Z,{position:"center",children:(0,a.jsx)(z.z,{onClick:()=>{try{e(aV({availableLocations:mz}))}catch(e){alert("Invalid JSON format")}},color:"blue",radius:"md",size:"md",children:"\uD83D\uDE80 Import Fast Order Locations"})})})]})},{})}]},{path:"gateways",element:(0,a.jsx)(()=>{let e=(0,m.I0)(),{isVerifiedMaster:t,loadingMaster:r,errorMaster:i,user_master:l}=(0,m.v9)(e=>e.authMaster);if((0,p.useEffect)(()=>{e(e5())},[e]),t&&"master"===l.role)return(0,a.jsxs)(I.W,{size:"lg",py:"xl",children:[(0,a.jsx)(D.D,{align:"center",mb:"lg",order:2,sx:{fontWeight:700},children:"Gateways Management"}),(0,a.jsx)(o$.Z,{shadow:"md",padding:"lg",radius:"md",withBorder:!0,children:(0,a.jsxs)(sw.K,{spacing:"md",children:[(0,a.jsx)(se.x,{size:"lg",weight:500,align:"center",children:"Manage Your Gateways Efficiently"}),(0,a.jsx)(sH.i,{}),(0,a.jsxs)(sh.Z,{position:"center",spacing:"xl",children:[(0,a.jsx)(M.O,{component:g.OL,to:"/master-dashboard/gateways",label:"\uD83D\uDCE6 All Gateways",variant:"filled",sx:e=>({borderRadius:e.radius.md,padding:"10px 20px",fontSize:e.fontSizes.md,color:e.white,backgroundColor:e.colors.blue[6],"&:hover":{backgroundColor:e.colors.blue[7]}})}),(0,a.jsx)(M.O,{component:g.OL,to:"/master-dashboard/gateways/add-batch-gateways",label:"➕ Add Batch Gateways",variant:"filled",sx:e=>({borderRadius:e.radius.md,padding:"10px 20px",fontSize:e.fontSizes.md,color:e.white,backgroundColor:e.colors.green[6],"&:hover":{backgroundColor:e.colors.green[7]}})})]})]})}),(0,a.jsx)(g.j3,{})," "]})},{}),children:[{path:"add-batch-gateways",element:(0,a.jsx)(()=>{let e=(0,m.I0)();return(0,a.jsxs)(I.W,{size:"sm",py:"xl",children:[(0,a.jsx)(D.D,{align:"center",mb:"lg",order:3,children:"Add Batch Gateways"}),(0,a.jsx)(N.X,{shadow:"md",p:"lg",radius:"md",withBorder:!0,children:(0,a.jsx)(sh.Z,{position:"center",children:(0,a.jsx)(z.z,{onClick:()=>{try{e(aY({gateways:mD}))}catch(e){alert("Invalid JSON format")}},color:"blue",radius:"md",size:"md",children:"\uD83D\uDE80 Import Gateways"})})})]})},{})}]},{path:"user-myaccounts",element:(0,a.jsx)(()=>{let e=(0,m.I0)(),{isVerifiedMaster:t,loadingMaster:r,errorMaster:i,user_master:l}=(0,m.v9)(e=>e.authMaster);if((0,p.useEffect)(()=>{e(e5())},[e]),t&&"master"===l.role)return(0,a.jsxs)(I.W,{size:"lg",py:"xl",children:[(0,a.jsx)(D.D,{align:"center",mb:"lg",order:2,sx:{fontWeight:700},children:"User My Account Management"}),(0,a.jsx)(o$.Z,{shadow:"md",padding:"lg",radius:"md",withBorder:!0,children:(0,a.jsxs)(sw.K,{spacing:"md",children:[(0,a.jsx)(se.x,{size:"lg",weight:500,align:"center",children:"Manage Your User My Account Efficiently"}),(0,a.jsx)(sH.i,{}),(0,a.jsxs)(sh.Z,{position:"center",spacing:"xl",children:[(0,a.jsx)(M.O,{component:g.OL,to:"/master-dashboard/user-myaccounts",label:"\uD83D\uDCE6 All User My Accounts",variant:"filled",sx:e=>({borderRadius:e.radius.md,padding:"10px 20px",fontSize:e.fontSizes.md,color:e.white,backgroundColor:e.colors.blue[6],"&:hover":{backgroundColor:e.colors.blue[7]}})}),(0,a.jsx)(M.O,{component:g.OL,to:"/master-dashboard/user-myaccounts/add-batch-usermyaccounts",label:"➕ Add Batch User My Accounts",variant:"filled",sx:e=>({borderRadius:e.radius.md,padding:"10px 20px",fontSize:e.fontSizes.md,color:e.white,backgroundColor:e.colors.green[6],"&:hover":{backgroundColor:e.colors.green[7]}})})]})]})}),(0,a.jsx)(g.j3,{})," "]})},{}),children:[{path:"add-batch-usermyaccounts",element:(0,a.jsx)(()=>{let e=(0,m.I0)();return(0,a.jsxs)(I.W,{size:"sm",py:"xl",children:[(0,a.jsx)(D.D,{align:"center",mb:"lg",order:3,children:"Add Batch User My Accounts"}),(0,a.jsx)(N.X,{shadow:"md",p:"lg",radius:"md",withBorder:!0,children:(0,a.jsx)(sh.Z,{position:"center",children:(0,a.jsx)(z.z,{onClick:()=>{try{e(mF({myAccountData:mA}))}catch(e){alert("Invalid JSON format")}},color:"blue",radius:"md",size:"md",children:"\uD83D\uDE80 Import User My Accounts"})})})]})},{})}]},{path:"usermessages",element:(0,a.jsx)(()=>{let e=(0,m.I0)(),{isVerifiedMaster:t,loadingMaster:r,errorMaster:i,user_master:l}=(0,m.v9)(e=>e.authMaster);if((0,p.useEffect)(()=>{e(e5())},[e]),t&&"master"===l.role)return(0,a.jsxs)(I.W,{size:"lg",py:"xl",children:[(0,a.jsx)(D.D,{align:"center",mb:"lg",order:2,sx:{fontWeight:700},children:"User Messages Management"}),(0,a.jsx)(o$.Z,{shadow:"md",padding:"lg",radius:"md",withBorder:!0,children:(0,a.jsxs)(sw.K,{spacing:"md",children:[(0,a.jsx)(se.x,{size:"lg",weight:500,align:"center",children:"Manage Your User Messages Efficiently"}),(0,a.jsx)(sH.i,{}),(0,a.jsxs)(sh.Z,{position:"center",spacing:"xl",children:[(0,a.jsx)(M.O,{component:g.OL,to:"/master-dashboard/usermessages",label:"\uD83D\uDCE6 All User Messages",variant:"filled",sx:e=>({borderRadius:e.radius.md,padding:"10px 20px",fontSize:e.fontSizes.md,color:e.white,backgroundColor:e.colors.blue[6],"&:hover":{backgroundColor:e.colors.blue[7]}})}),(0,a.jsx)(M.O,{component:g.OL,to:"/master-dashboard/usermessages/add-batch-usermessages",label:"➕ Add Batch User Messages",variant:"filled",sx:e=>({borderRadius:e.radius.md,padding:"10px 20px",fontSize:e.fontSizes.md,color:e.white,backgroundColor:e.colors.green[6],"&:hover":{backgroundColor:e.colors.green[7]}})})]})]})}),(0,a.jsx)(g.j3,{})," "]})},{}),children:[{path:"add-batch-usermessages",element:(0,a.jsx)(()=>{let e=(0,m.I0)();return(0,a.jsxs)(I.W,{size:"sm",py:"xl",children:[(0,a.jsx)(D.D,{align:"center",mb:"lg",order:3,children:"Add Batch User Messages"}),(0,a.jsx)(N.X,{shadow:"md",p:"lg",radius:"md",withBorder:!0,children:(0,a.jsx)(sh.Z,{position:"center",children:(0,a.jsx)(z.z,{onClick:()=>{try{e(tx({messages:mM}))}catch(e){alert("Invalid JSON format")}},color:"blue",radius:"md",size:"md",children:"\uD83D\uDE80 Import User Messages"})})})]})},{})}]},{path:"purchasedproducts",element:(0,a.jsx)(()=>{let e=(0,m.I0)(),{isVerifiedMaster:t,loadingMaster:r,errorMaster:i,user_master:l}=(0,m.v9)(e=>e.authMaster);if((0,p.useEffect)(()=>{e(e5())},[e]),t&&"master"===l.role)return(0,a.jsxs)(I.W,{size:"lg",py:"xl",children:[(0,a.jsx)(D.D,{align:"center",mb:"lg",order:2,sx:{fontWeight:700},children:"Purchased Products Management"}),(0,a.jsx)(o$.Z,{shadow:"md",padding:"lg",radius:"md",withBorder:!0,children:(0,a.jsxs)(sw.K,{spacing:"md",children:[(0,a.jsx)(se.x,{size:"lg",weight:500,align:"center",children:"Manage Your Purchased Products Efficiently"}),(0,a.jsx)(sH.i,{}),(0,a.jsxs)(sh.Z,{position:"center",spacing:"xl",children:[(0,a.jsx)(M.O,{component:g.OL,to:"/master-dashboard/purchasedproducts",label:"\uD83D\uDCE6 All Purchased Products",variant:"filled",sx:e=>({borderRadius:e.radius.md,padding:"10px 20px",fontSize:e.fontSizes.md,color:e.white,backgroundColor:e.colors.blue[6],"&:hover":{backgroundColor:e.colors.blue[7]}})}),(0,a.jsx)(M.O,{component:g.OL,to:"/master-dashboard/purchasedproducts/add-batch-purchasedproducts",label:"➕ Add Batch Purchased Products",variant:"filled",sx:e=>({borderRadius:e.radius.md,padding:"10px 20px",fontSize:e.fontSizes.md,color:e.white,backgroundColor:e.colors.green[6],"&:hover":{backgroundColor:e.colors.green[7]}})})]})]})}),(0,a.jsx)(g.j3,{})," "]})},{}),children:[{path:"add-batch-purchasedproducts",element:(0,a.jsx)(()=>{let e=(0,m.I0)();return(0,a.jsxs)(I.W,{size:"sm",py:"xl",children:[(0,a.jsx)(D.D,{align:"center",mb:"lg",order:3,children:"Add Batch Purchased Products"}),(0,a.jsx)(N.X,{shadow:"md",p:"lg",radius:"md",withBorder:!0,children:(0,a.jsx)(sh.Z,{position:"center",children:(0,a.jsx)(z.z,{onClick:()=>{try{e(iI({purchasedProducts:mT}))}catch(e){alert("Invalid JSON format")}},color:"blue",radius:"md",size:"md",children:"\uD83D\uDE80 Import Purchased Products"})})})]})},{})}]},{path:"myaccount-tickets",element:(0,a.jsx)(()=>{let e=(0,m.I0)(),{isVerifiedMaster:t,loadingMaster:r,errorMaster:i,user_master:l}=(0,m.v9)(e=>e.authMaster);if((0,p.useEffect)(()=>{e(e5())},[e]),t&&"master"===l.role)return(0,a.jsxs)(I.W,{size:"lg",py:"xl",children:[(0,a.jsx)(D.D,{align:"center",mb:"lg",order:2,sx:{fontWeight:700},children:"My Account Tickets Management"}),(0,a.jsx)(o$.Z,{shadow:"md",padding:"lg",radius:"md",withBorder:!0,children:(0,a.jsxs)(sw.K,{spacing:"md",children:[(0,a.jsx)(se.x,{size:"lg",weight:500,align:"center",children:"Manage Your Tickets Efficiently"}),(0,a.jsx)(sH.i,{}),(0,a.jsxs)(sh.Z,{position:"center",spacing:"xl",children:[(0,a.jsx)(M.O,{component:g.OL,to:"/master-dashboard/myaccount-tickets",label:"\uD83D\uDCE6 All Tickets",variant:"filled",sx:e=>({borderRadius:e.radius.md,padding:"10px 20px",fontSize:e.fontSizes.md,color:e.white,backgroundColor:e.colors.blue[6],"&:hover":{backgroundColor:e.colors.blue[7]}})}),(0,a.jsx)(M.O,{component:g.OL,to:"/master-dashboard/myaccount-tickets/add-batch-myaccount-tickets",label:"➕ Add Batch Tickets",variant:"filled",sx:e=>({borderRadius:e.radius.md,padding:"10px 20px",fontSize:e.fontSizes.md,color:e.white,backgroundColor:e.colors.green[6],"&:hover":{backgroundColor:e.colors.green[7]}})})]})]})}),(0,a.jsx)(g.j3,{})," "]})},{}),children:[{path:"add-batch-myaccount-tickets",element:(0,a.jsx)(()=>{let e=(0,m.I0)();return(0,a.jsxs)(I.W,{size:"sm",py:"xl",children:[(0,a.jsx)(D.D,{align:"center",mb:"lg",order:3,children:"Add Batch My Account Tickets"}),(0,a.jsx)(N.X,{shadow:"md",p:"lg",radius:"md",withBorder:!0,children:(0,a.jsx)(sh.Z,{position:"center",children:(0,a.jsx)(z.z,{onClick:()=>{try{e(tj({tickets:mP}))}catch(e){alert("Invalid JSON format")}},color:"blue",radius:"md",size:"md",children:"\uD83D\uDE80 Import My Account Tickets"})})})]})},{})}]},{path:"subscriptions",element:(0,a.jsx)(()=>{let e=(0,m.I0)(),{isVerifiedMaster:t,loadingMaster:r,errorMaster:i,user_master:l}=(0,m.v9)(e=>e.authMaster);if((0,p.useEffect)(()=>{e(e5())},[e]),t&&"master"===l.role)return(0,a.jsxs)(I.W,{size:"lg",py:"xl",children:[(0,a.jsx)(D.D,{align:"center",mb:"lg",order:2,sx:{fontWeight:700},children:"Subscriptions Management"}),(0,a.jsx)(o$.Z,{shadow:"md",padding:"lg",radius:"md",withBorder:!0,children:(0,a.jsxs)(sw.K,{spacing:"md",children:[(0,a.jsx)(se.x,{size:"lg",weight:500,align:"center",children:"Manage Your Subscriptions Efficiently"}),(0,a.jsx)(sH.i,{}),(0,a.jsxs)(sh.Z,{position:"center",spacing:"xl",children:[(0,a.jsx)(M.O,{component:g.OL,to:"/master-dashboard/subscriptions",label:"\uD83D\uDCE6 All Subscriptions",variant:"filled",sx:e=>({borderRadius:e.radius.md,padding:"10px 20px",fontSize:e.fontSizes.md,color:e.white,backgroundColor:e.colors.blue[6],"&:hover":{backgroundColor:e.colors.blue[7]}})}),(0,a.jsx)(M.O,{component:g.OL,to:"/master-dashboard/subscriptions/add-batch-subscriptions",label:"➕ Add Batch Subscriptions",variant:"filled",sx:e=>({borderRadius:e.radius.md,padding:"10px 20px",fontSize:e.fontSizes.md,color:e.white,backgroundColor:e.colors.green[6],"&:hover":{backgroundColor:e.colors.green[7]}})})]})]})}),(0,a.jsx)(g.j3,{})," "]})},{}),children:[{path:"add-batch-subscriptions",element:(0,a.jsx)(()=>{let e=(0,m.I0)();return(0,a.jsxs)(I.W,{size:"sm",py:"xl",children:[(0,a.jsx)(D.D,{align:"center",mb:"lg",order:3,children:"Add Batch Subscriptions"}),(0,a.jsx)(N.X,{shadow:"md",p:"lg",radius:"md",withBorder:!0,children:(0,a.jsx)(sh.Z,{position:"center",children:(0,a.jsx)(z.z,{onClick:()=>{try{e(tk({subscriptions:mE}))}catch(e){alert("Invalid JSON format")}},color:"blue",radius:"md",size:"md",children:"\uD83D\uDE80 Import Subscriptions"})})})]})},{})}]},{path:"categoryfilters",element:(0,a.jsx)(()=>{let e=(0,m.I0)(),{isVerifiedMaster:t,loadingMaster:r,errorMaster:i,user_master:l}=(0,m.v9)(e=>e.authMaster);if((0,p.useEffect)(()=>{e(e5())},[e]),t&&"master"===l.role)return(0,a.jsxs)(I.W,{size:"lg",py:"xl",children:[(0,a.jsx)(D.D,{align:"center",mb:"lg",order:2,sx:{fontWeight:700},children:"Category Filters Management"}),(0,a.jsx)(o$.Z,{shadow:"md",padding:"lg",radius:"md",withBorder:!0,children:(0,a.jsxs)(sw.K,{spacing:"md",children:[(0,a.jsx)(se.x,{size:"lg",weight:500,align:"center",children:"Manage Your Category Filters Efficiently"}),(0,a.jsx)(sH.i,{}),(0,a.jsxs)(sh.Z,{position:"center",spacing:"xl",children:[(0,a.jsx)(M.O,{component:g.OL,to:"/master-dashboard/categoryfilters",label:"\uD83D\uDCE6 All Category Filters",variant:"filled",sx:e=>({borderRadius:e.radius.md,padding:"10px 20px",fontSize:e.fontSizes.md,color:e.white,backgroundColor:e.colors.blue[6],"&:hover":{backgroundColor:e.colors.blue[7]}})}),(0,a.jsx)(M.O,{component:g.OL,to:"/master-dashboard/categoryfilters/add-batch-categoryfilters",label:"➕ Add Batch Category Filters",variant:"filled",sx:e=>({borderRadius:e.radius.md,padding:"10px 20px",fontSize:e.fontSizes.md,color:e.white,backgroundColor:e.colors.green[6],"&:hover":{backgroundColor:e.colors.green[7]}})})]})]})}),(0,a.jsx)(g.j3,{})," "]})},{}),children:[{path:"add-batch-CategoryFilters",element:(0,a.jsx)(()=>{let e=(0,m.I0)();return(0,a.jsxs)(I.W,{size:"sm",py:"xl",children:[(0,a.jsx)(D.D,{align:"center",mb:"lg",order:3,children:"Add Batch Category Filters"}),(0,a.jsx)(N.X,{shadow:"md",p:"lg",radius:"md",withBorder:!0,children:(0,a.jsx)(sh.Z,{position:"center",children:(0,a.jsx)(z.z,{onClick:()=>{try{e(tN({categoryFilters:uw}))}catch(e){alert("Invalid JSON format")}},color:"blue",radius:"md",size:"md",children:"\uD83D\uDE80 Import Category Filters"})})})]})},{})}]},{path:"notificationtables",element:(0,a.jsx)(()=>{let e=(0,m.I0)(),{isVerifiedMaster:t,loadingMaster:r,errorMaster:i,user_master:l}=(0,m.v9)(e=>e.authMaster);if((0,p.useEffect)(()=>{e(e5())},[e]),t&&"master"===l.role)return(0,a.jsxs)(I.W,{size:"lg",py:"xl",children:[(0,a.jsx)(D.D,{align:"center",mb:"lg",order:2,sx:{fontWeight:700},children:"Notification Tables Management"}),(0,a.jsx)(o$.Z,{shadow:"md",padding:"lg",radius:"md",withBorder:!0,children:(0,a.jsxs)(sw.K,{spacing:"md",children:[(0,a.jsx)(se.x,{size:"lg",weight:500,align:"center",children:"Manage Your Notification Tables Efficiently"}),(0,a.jsx)(sH.i,{}),(0,a.jsxs)(sh.Z,{position:"center",spacing:"xl",children:[(0,a.jsx)(M.O,{component:g.OL,to:"/master-dashboard/notificationtables",label:"\uD83D\uDCE6 All Banners",variant:"filled",sx:e=>({borderRadius:e.radius.md,padding:"10px 20px",fontSize:e.fontSizes.md,color:e.white,backgroundColor:e.colors.blue[6],"&:hover":{backgroundColor:e.colors.blue[7]}})}),(0,a.jsx)(M.O,{component:g.OL,to:"/master-dashboard/notificationtables/add-batch-notificationtables",label:"➕ Add Batch Notification Tables",variant:"filled",sx:e=>({borderRadius:e.radius.md,padding:"10px 20px",fontSize:e.fontSizes.md,color:e.white,backgroundColor:e.colors.green[6],"&:hover":{backgroundColor:e.colors.green[7]}})})]})]})}),(0,a.jsx)(g.j3,{})," "]})},{}),children:[{path:"add-batch-notificationtables",element:(0,a.jsx)(()=>{let e=(0,m.I0)();return(0,a.jsxs)(I.W,{size:"sm",py:"xl",children:[(0,a.jsx)(D.D,{align:"center",mb:"lg",order:3,children:"Add Batch Notification Tables"}),(0,a.jsx)(N.X,{shadow:"md",p:"lg",radius:"md",withBorder:!0,children:(0,a.jsx)(sh.Z,{position:"center",children:(0,a.jsx)(z.z,{onClick:()=>{try{e(a1({notificationData:mW}))}catch(e){alert("Invalid JSON format")}},color:"blue",radius:"md",size:"md",children:"\uD83D\uDE80 Import Notification Tables"})})})]})},{})}]},{path:"pricelist",element:(0,a.jsx)(()=>{let e=(0,m.I0)(),{isVerifiedMaster:t,loadingMaster:r,errorMaster:i,user_master:l}=(0,m.v9)(e=>e.authMaster);if((0,p.useEffect)(()=>{e(e5())},[e]),t&&"master"===l.role)return(0,a.jsxs)(I.W,{size:"lg",py:"xl",children:[(0,a.jsx)(D.D,{align:"center",mb:"lg",order:2,sx:{fontWeight:700},children:"Price List Management"}),(0,a.jsx)(o$.Z,{shadow:"md",padding:"lg",radius:"md",withBorder:!0,children:(0,a.jsxs)(sw.K,{spacing:"md",children:[(0,a.jsx)(se.x,{size:"lg",weight:500,align:"center",children:"Manage Your Price List Efficiently"}),(0,a.jsx)(sH.i,{}),(0,a.jsxs)(sh.Z,{position:"center",spacing:"xl",children:[(0,a.jsx)(M.O,{component:g.OL,to:"/master-dashboard/pricelist",label:"\uD83D\uDCE6 All Price Lists",variant:"filled",sx:e=>({borderRadius:e.radius.md,padding:"10px 20px",fontSize:e.fontSizes.md,color:e.white,backgroundColor:e.colors.blue[6],"&:hover":{backgroundColor:e.colors.blue[7]}})}),(0,a.jsx)(M.O,{component:g.OL,to:"/master-dashboard/pricelist/add-batch-pricelist",label:"➕ Add Batch Price Lists",variant:"filled",sx:e=>({borderRadius:e.radius.md,padding:"10px 20px",fontSize:e.fontSizes.md,color:e.white,backgroundColor:e.colors.green[6],"&:hover":{backgroundColor:e.colors.green[7]}})})]})]})}),(0,a.jsx)(g.j3,{})," "]})},{}),children:[{path:"add-batch-pricelist",element:(0,a.jsx)(()=>{let e=(0,m.I0)();return(0,a.jsxs)(I.W,{size:"sm",py:"xl",children:[(0,a.jsx)(D.D,{align:"center",mb:"lg",order:3,children:"Add Batch Price List"}),(0,a.jsx)(N.X,{shadow:"md",p:"lg",radius:"md",withBorder:!0,children:(0,a.jsx)(sh.Z,{position:"center",children:(0,a.jsx)(z.z,{onClick:()=>{try{e(iC({priceList:mV}))}catch(e){alert("Invalid JSON format")}},color:"blue",radius:"md",size:"md",children:"\uD83D\uDE80 Import Price List"})})})]})},{})}]},{path:"wideslider",element:(0,a.jsx)(()=>{let e=(0,m.I0)(),{isVerifiedMaster:t,loadingMaster:r,errorMaster:i,user_master:l}=(0,m.v9)(e=>e.authMaster);if((0,p.useEffect)(()=>{e(e5())},[e]),t&&"master"===l.role)return(0,a.jsxs)(I.W,{size:"lg",py:"xl",children:[(0,a.jsx)(D.D,{align:"center",mb:"lg",order:2,sx:{fontWeight:700},children:"WideSlider Management"}),(0,a.jsx)(o$.Z,{shadow:"md",padding:"lg",radius:"md",withBorder:!0,children:(0,a.jsxs)(sw.K,{spacing:"md",children:[(0,a.jsx)(se.x,{size:"lg",weight:500,align:"center",children:"Manage Your WideSlider Efficiently"}),(0,a.jsx)(sH.i,{}),(0,a.jsxs)(sh.Z,{position:"center",spacing:"xl",children:[(0,a.jsx)(M.O,{component:g.OL,to:"/master-dashboard/wideslider",label:"\uD83D\uDCE6 All WideSlider",variant:"filled",sx:e=>({borderRadius:e.radius.md,padding:"10px 20px",fontSize:e.fontSizes.md,color:e.white,backgroundColor:e.colors.blue[6],"&:hover":{backgroundColor:e.colors.blue[7]}})}),(0,a.jsx)(M.O,{component:g.OL,to:"/master-dashboard/wideslider/add-batch-widesliders",label:"➕ Add Batch widesliders",variant:"filled",sx:e=>({borderRadius:e.radius.md,padding:"10px 20px",fontSize:e.fontSizes.md,color:e.white,backgroundColor:e.colors.green[6],"&:hover":{backgroundColor:e.colors.green[7]}})})]})]})}),(0,a.jsx)(g.j3,{})," "]})},{}),children:[{path:"add-batch-widesliders",element:(0,a.jsx)(()=>{let e=(0,m.I0)();return(0,a.jsxs)(I.W,{size:"sm",py:"xl",children:[(0,a.jsx)(D.D,{align:"center",mb:"lg",order:3,children:"Add Batch AddBatchWideslider"}),(0,a.jsx)(N.X,{shadow:"md",p:"lg",radius:"md",withBorder:!0,children:(0,a.jsx)(sh.Z,{position:"center",children:(0,a.jsx)(z.z,{onClick:()=>{try{e(mY({WideSliders:mX}))}catch(e){alert("Invalid JSON format")}},color:"blue",radius:"md",size:"md",children:"\uD83D\uDE80 Import AddBatchWideslider"})})})]})},{})}]},{path:"featured-products",element:(0,a.jsx)(m1,{}),children:[{path:"add-batch-featured-products",element:(0,a.jsx)(m0,{})}]},{path:"featured-products",element:(0,a.jsx)(m1,{}),children:[{path:"add-batch-featured-products",element:(0,a.jsx)(m0,{})}]}]},{path:"",element:(0,a.jsx)(function(){let e=(0,m.I0)(),{homeData:t,loadingShopHome:r,errorShopHome:i,successShopHome:l,lastFetched:s}=(0,m.v9)(e=>e.shopHome),{user:n}=(0,m.v9)(e=>e.auth);return(console.log(t),(0,p.useEffect)(()=>{t&&s&&(!n||l)||e(lJ())},[e,n,t,s,l]),r&&!t)?(0,a.jsx)(si.M,{children:(0,a.jsx)(A.a,{})}):i&&!t?(0,a.jsx)(I.W,{className:"px-3 md:px-5 my-10",children:(0,a.jsx)(so.b,{color:"red",title:"خطا در بارگذاری",children:"string"==typeof i?i:i.message||"خطا در دریافت اطلاعات"})}):t?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(I.W,{className:"px-3 md:px-5 my-10",children:(0,a.jsx)(sw.K,{gap:70,children:null==t?void 0:t.map((e,t)=>{switch(e.type){case"wideslider":return(0,a.jsx)(dz,{items:e.data},t);case"featured_promo":return(0,a.jsx)(dA,{items:e.data},t);case"categories":return(0,a.jsx)(d9,{items:null==e?void 0:e.data},t);case"banners":return(0,a.jsx)(ce,{items:e.data},t);case"prices":return(0,a.jsx)(cs,{items:e.data},t);case"trendProducts":return(0,a.jsx)(ct,{items:e.data},t);case"brands":return(0,a.jsx)(cr,{items:null==e?void 0:e.data},t);case"featured_products":return(0,a.jsx)(sa.x,{children:(0,a.jsx)(nX,{style:{marginTop:"30px"},title:"محصولات منتخب",items:e.data})},t);default:return null}})})}),r&&t&&(0,a.jsx)(sa.x,{style:{position:"fixed",bottom:20,right:20,zIndex:1e3},children:(0,a.jsx)(A.a,{size:"sm"})})]}):(0,a.jsx)(I.W,{className:"px-3 md:px-5 my-10",children:(0,a.jsx)(si.M,{children:(0,a.jsx)("div",{children:"هیچ اطلاعاتی موجود نیست"})})})},{})},{path:"*",element:(0,a.jsx)(()=>(0,a.jsx)("main",{className:"w-full mx-auto px-3",children:(0,a.jsxs)("div",{className:"bg-white shadow-xl my-5 lg:my-10 rounded-xl md:rounded-2xl p-3 md:p-5",children:[(0,a.jsx)(si.M,{children:(0,a.jsx)(sl.E,{src:nu})}),(0,a.jsx)("div",{className:"text-zinc-800 text-center mt-7 mb-5 text-lg",children:"صفحه مورد نظر پیدا نشد!!!"}),(0,a.jsx)("div",{className:"flex justify-center items-center mb-5",children:(0,a.jsx)(z.z,{to:"/",component:g.OL,rightSection:(0,a.jsx)(sb.IconChevronLeft,{}),children:"صفحه اصلی"})})]})}),{})},{path:"/logout",element:(0,a.jsx)(function(){let e=(0,g.s0)(),t=(0,m.I0)();return(0,p.useLayoutEffect)(()=>{(async()=>{try{localStorage.removeItem("user"),localStorage.removeItem("token"),t(el()),t(Q()),await new Promise(e=>setTimeout(e,100)),e("/",{replace:!0}),window.location.reload()}catch(t){e("/",{replace:!0}),window.location.reload()}})()},[e,t]),(0,a.jsx)(si.M,{style:{height:"100vh"},children:(0,a.jsxs)(sw.K,{align:"center",spacing:"md",children:[(0,a.jsx)(A.a,{size:"lg",color:"blue"}),(0,a.jsx)(se.x,{size:"lg",c:"dimmed",children:"در حال خروج..."})]})})},{})},{path:"/product/:slug",element:(0,a.jsx)(()=>{var e,t;let{slug:r}=(0,g.UO)(),[i,l]=(0,p.useState)([]),[s,n]=(0,p.useState)(!0),o=(0,m.I0)(),{product:d,loading:c,error:u}=(0,m.v9)(e=>e.singleProduct);(0,p.useEffect)(()=>{if(!r)return;n(!0);let e=setTimeout(()=>{o(ro({slug:r})),n(!1)},2e3);return()=>clearTimeout(e)},[o,r]);let h=null;(0,nm.Y)();let x=(null==d?void 0:d.combinations)||[];if((0,p.useEffect)(()=>{var e;if((null==d||null==(e=d.combinations)?void 0:e.length)>0){let e=null==d?void 0:d.combinations.find(e=>e.selected);e||(e=(null==d?void 0:d.combinations[0])||{}),l(e.options||[])}},[c,null==d?void 0:d.combinations]),(null==i?void 0:i.length)>0){let e=i.map(e=>e.id),t=null==d?void 0:d.combinations.filter(t=>{var r;let a=(null==t||null==(r=t.options)?void 0:r.map(e=>e.id))||[];return e.every(e=>a.includes(e))});h=t.length>0?t[0]:null}else(null==d||null==(t=d.combinations)?void 0:t.length)>0&&(h=d.combinations.find(e=>e.selected)||d.combinations[0]);return s||c?(0,a.jsx)(si.M,{mih:"50vh",children:(0,a.jsx)(A.a,{size:"lg"})}):c||d?(0,a.jsx)(om.Provider,{value:{options:i,setOptions:l,combinations:x,loading:c,product:d,slug:r,supplier:h},children:(0,a.jsxs)("div",{className:"my-8 lg:my-10",children:[(0,a.jsx)(N.X,{pt:"xl",px:"xl",children:(0,a.jsxs)("div",{className:"flex flex-col lg:flex-row gap-24",children:[(0,a.jsx)("div",{className:"lg:w-4/12",children:(0,a.jsxs)(l9.k,{gap:"md",direction:{base:"column",lg:"row"},children:[(0,a.jsx)(nk,{favorite:null==d||null==(e=d.general)?void 0:e.addedToFavorite,data:d}),(0,a.jsx)(nQ,{slides:null==d?void 0:d.general.images})]})}),(0,a.jsx)("div",{className:"lg:w-5/12",children:(0,a.jsx)(n2,{data:d})}),(0,a.jsx)("div",{className:"lg:w-3/12",children:(0,a.jsx)(nZ,{})})]})}),(null==h?void 0:h.suppliers)&&h.suppliers.length>0&&(0,a.jsx)(ou,{items:h.suppliers}),(0,a.jsx)(ol,{data:d,slug:r}),(0,a.jsx)(nJ,{dataRelatedProducts:d.relatedProducts,slug:r})]})}):(0,a.jsx)(s5,{children:"چنین محصولی یافت نشد"})},{})},{path:"/category/:slug",element:(0,a.jsx)(function(e){var t,r,i;let{enabled:l,onSelectProduct:s}=e,{slug:n}=(0,g.UO)(),o=(0,g.s0)(),d=(0,m.I0)(),[c]=(0,g.lr)(),u=(0,p.useRef)(!1),{isVerified:h,loading:x,error:b,user:f}=(0,m.v9)(e=>e.auth),y={brands:[],colors:[],delivery_areas:[]},j=(0,p.useCallback)(()=>{let e={...y},t=c.get("brands");if(t)try{let r=JSON.parse(t);Array.isArray(r)&&(e.brands=r)}catch(e){console.warn("Failed to parse brands parameter:",e)}let r=c.get("colors");if(r)try{let t=JSON.parse(r);Array.isArray(t)&&(e.colors=t)}catch(e){console.warn("Failed to parse colors parameter:",e)}let a=c.get("delivery_areas");if(a)try{let t=JSON.parse(a);Array.isArray(t)&&(e.delivery_areas=t)}catch(e){console.warn("Failed to parse delivery_areas parameter:",e)}return e},[c]),{categoryData:v,loadingCategoryData:C,errorCategoryData:w}=(0,m.v9)(e=>e.categoryData),[k,S]=(0,p.useState)(parseInt(c.get("page"))||1),[I,D]=(0,p.useState)(c.get("sort")||"newest"),[A,F]=(0,p.useState)(c.get("s")||""),[M]=(0,sX.c)(A,600),T=(0,s$.q)(!1),P=(0,p.useMemo)(()=>j(),[j]),E=(0,sd.c)({initialValues:{price:{min:parseInt(c.get("price_min"))||0,max:parseInt(c.get("price_max"))||0},dynamic:P}}),_=(0,p.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={price_min:E.values.price.min||0,price_max:E.values.price.max||9e6,...E.values.dynamic,limit:20,page:k,sort:I,s:M,...e};Object.keys(t).forEach(e=>{(void 0===t[e]||null===t[e]||""===t[e])&&delete t[e],Array.isArray(t[e])&&0===t[e].length&&delete t[e]}),d(aI({slug:n,filters:t}))},[d,n,E.values,k,I,M]);(0,p.useEffect)(()=>{d(er())},[d]),(0,p.useEffect)(()=>{f&&d(eN())},[f,d]),(0,p.useEffect)(()=>{n&&!u.current&&(u.current=!0,_())},[n,_]),(0,p.useEffect)(()=>{u.current&&_()},[M]),(0,p.useEffect)(()=>{if(v&&!w&&u.current){var e,t,r;let a=!1,i={};0===E.values.price.min&&0===E.values.price.max&&(null==v?void 0:v.price)&&(i.price=v.price,a=!0),c.get("brands")||E.values.dynamic.brands&&0!==E.values.dynamic.brands.length||!((null==v||null==(e=v.brands)?void 0:e.length)>0)||(i["dynamic.brands"]=[v.brands[0].name||v.brands[0]],a=!0),c.get("colors")||E.values.dynamic.colors&&0!==E.values.dynamic.colors.length||!((null==v||null==(t=v.colors)?void 0:t.length)>0)||(i["dynamic.colors"]=[v.colors[0].name||v.colors[0]],a=!0),c.get("delivery_areas")||E.values.dynamic.delivery_areas&&0!==E.values.dynamic.delivery_areas.length||!((null==v||null==(r=v.delivery_areas)?void 0:r.length)>0)||(i["dynamic.delivery_areas"]=[v.delivery_areas[0].name||v.delivery_areas[0]],a=!0),a&&Object.keys(i).forEach(e=>{E.setFieldValue(e,i[e])})}},[v,w,E,c]);let L=(0,p.useCallback)(e=>{D(e),S(1),_({sort:e,page:1})},[_]),B=(0,p.useCallback)((e,t)=>{E.setFieldValue(`dynamic.${e}`,t),S(1),_({[e]:t,page:1})},[E,_]),O=(0,p.useCallback)(e=>{S(e),_({page:e})},[_]),R=(0,p.useCallback)(()=>{_(),T[1].close()},[_,T]);if(w&&!C)return(0,a.jsx)(sp.u,{opened:!0,onClose:()=>{},title:"خطا در بارگذاری داده‌ها",centered:!0,withCloseButton:!1,closeOnClickOutside:!1,zIndex:50,children:(0,a.jsxs)(sw.K,{children:[(0,a.jsx)(se.x,{children:"خطایی در بارگذاری اطلاعات رخ داده است. لطفاً دوباره تلاش کنید."}),(0,a.jsxs)(se.x,{size:"sm",c:"gray.6",children:["خطا: ",w]}),(0,a.jsx)(z.z,{onClick:()=>{_()},variant:"filled",color:"blue",fullWidth:!0,children:"تلاش مجدد"}),(0,a.jsx)(z.z,{onClick:()=>o("/"),variant:"outline",fullWidth:!0,children:"بازگشت به صفحه اصلی"})]})});if(C||x)return(0,a.jsx)(nC,{showR:!0});if(!C&&!v)return(0,a.jsx)(sp.u,{opened:!0,onClose:()=>{},title:"صفحه یافت نشد",centered:!0,withCloseButton:!1,closeOnClickOutside:!1,zIndex:50,children:(0,a.jsxs)(sw.K,{children:[(0,a.jsx)(se.x,{children:"صفحه مورد نظر یافت نشد"}),(0,a.jsx)(z.z,{onClick:()=>o("/"),variant:"filled",color:"blue",fullWidth:!0,children:"بازگشت به صفحه اصلی"})]})});if((null==v||null==(t=v.subscriptionModel)?void 0:t.modelId)==="basic")return(0,a.jsxs)(sa.x,{pos:"relative",children:[(0,a.jsx)(nS.f,{visible:C,zIndex:50}),v&&(0,a.jsxs)(sN.r,{children:[(0,a.jsx)(sD.$,{span:{md:3},children:(0,a.jsx)(mO,{data:v,form:E,slug:n,setSearch:F,handleDynamicChange:B,setPage:S,filterDisclosure:T,isFetching:C,onFiltersSubmit:R})}),(0,a.jsxs)(sD.$,{span:{md:9},children:[(0,a.jsx)(N.X,{py:"md",children:(0,a.jsxs)(l9.k,{w:"100%",gap:"lg",align:"center",justify:{base:"space-between",xs:"initial"},children:[(0,a.jsxs)(l9.k,{align:"center",gap:"xs",c:"gray.7",children:[(0,a.jsx)(sb.IconSortDescending,{size:16}),(0,a.jsx)(se.x,{size:"sm",children:"مرتب سازی بر اساس:"})]}),(0,a.jsx)(dr.s,{visibleFrom:"md",withItemsBorders:!1,styles:{root:{padding:"10px 0"},control:{margin:"0 10px"}},data:mB,value:I,onChange:e=>L(e)}),(0,a.jsx)(nE.P,{w:"150",hiddenFrom:"md",data:mB,value:I,onChange:e=>L(e)})]})}),(0,a.jsx)(m_,{onSelectProduct:s,products:null==v?void 0:v.products}),(0,a.jsx)(si.M,{children:(0,a.jsx)(n3.t,{total:Math.ceil(((null==v?void 0:v.totalCount)||0)/20),value:k,onChange:O})})]})]})]});if(!f)return(0,a.jsx)(sp.u,{opened:!0,onClose:()=>{},title:"ورود به حساب کاربری",centered:!0,withCloseButton:!1,closeOnClickOutside:!1,zIndex:50,children:(0,a.jsxs)(sw.K,{children:[(0,a.jsx)(se.x,{children:"برای مشاهده این صفحه ابتدا وارد وبسایت شوید."}),(0,a.jsx)(z.z,{onClick:()=>o("/login"),variant:"filled",color:"blue",fullWidth:!0,children:"ورود به حساب کاربری"})]})});if(!f.subscriptions||0===Object.keys(f.subscriptions).length){let e=(null==v||null==(r=v.subscriptionModel)?void 0:r.modelName)||"اشتراک مورد نظر";return(0,a.jsx)(sp.u,{opened:!0,onClose:()=>{},title:"نیاز به خرید اشتراک",centered:!0,withCloseButton:!1,closeOnClickOutside:!1,zIndex:50,children:(0,a.jsxs)(sw.K,{children:[(0,a.jsxs)(se.x,{children:["برای مشاهده این صفحه نیاز به خرید ",e," دارید."]}),(0,a.jsx)(z.z,{onClick:()=>o("/subscription"),variant:"filled",color:"blue",fullWidth:!0,children:"ورود به صفحه خرید"})]})})}if((null==v?void 0:v.subscriptionRequired)&&(null==v?void 0:v.userHasPurchasedSubscription)===!1){let e=(null==v||null==(i=v.subscriptionModel)?void 0:i.modelName)||"اشتراک مورد نظر";return(0,a.jsx)(sp.u,{opened:!0,onClose:()=>{},title:"نیاز به خرید اشتراک",centered:!0,withCloseButton:!1,closeOnClickOutside:!1,zIndex:50,children:(0,a.jsxs)(sw.K,{children:[(0,a.jsxs)(se.x,{children:["برای مشاهده این صفحه نیاز به خرید ",e," دارید."]}),(0,a.jsx)(z.z,{onClick:()=>o("/subscription"),variant:"filled",color:"blue",fullWidth:!0,children:"ورود به صفحه خرید"})]})})}return(0,a.jsxs)(sa.x,{pos:"relative",children:[(0,a.jsx)(nS.f,{visible:C,zIndex:50}),v&&(0,a.jsxs)(sN.r,{children:[(0,a.jsx)(sD.$,{span:{md:3},children:(0,a.jsx)(mO,{data:v,form:E,slug:n,setSearch:F,handleDynamicChange:B,setPage:S,filterDisclosure:T,isFetching:C,onFiltersSubmit:R})}),(0,a.jsxs)(sD.$,{span:{md:9},children:[(0,a.jsx)(N.X,{py:"md",children:(0,a.jsxs)(l9.k,{w:"100%",gap:"lg",align:"center",justify:{base:"space-between",xs:"initial"},children:[(0,a.jsxs)(l9.k,{align:"center",gap:"xs",c:"gray.7",children:[(0,a.jsx)(sb.IconSortDescending,{size:16}),(0,a.jsx)(se.x,{size:"sm",children:"مرتب سازی بر اساس:"})]}),(0,a.jsx)(dr.s,{visibleFrom:"md",withItemsBorders:!1,styles:{root:{padding:"10px 0"},control:{margin:"0 10px"}},data:mB,value:I,onChange:e=>L(e)}),(0,a.jsx)(nE.P,{w:"150",hiddenFrom:"md",data:mB,value:I,onChange:e=>L(e)})]})}),(0,a.jsx)(m_,{onSelectProduct:s,products:null==v?void 0:v.products}),(0,a.jsx)(si.M,{children:(0,a.jsx)(n3.t,{total:Math.ceil(((null==v?void 0:v.totalCount)||0)/20),value:k,onChange:O})})]})]})]})},{})},{path:"/basket",element:(0,a.jsx)(()=>{let e=(0,m.I0)(),t=(0,g.s0)(),[r]=(0,l.fP)(["user"]),[i,s]=(0,p.useState)(!1),[n,o]=(0,p.useState)(!1),[d,c]=(0,p.useState)(!1),[u,h]=(0,p.useState)(null),[x,b]=(0,p.useState)(!1),[f,y]=(0,p.useState)(null),[j,v]=(0,p.useState)(!1),C=(0,m.v9)(e=>e.cart.items||[]),{isVerified:w,loading:k,error:S,user:z}=(0,m.v9)(e=>e.auth),F=z&&w,M=e=>Array.isArray(e)?e.filter(e=>!!e&&!!e.productId&&!!e.count&&!(e.count<=0)&&!!e.price):[],T=(0,p.useCallback)(async function(){let r=!(arguments.length>0)||void 0===arguments[0]||arguments[0];if(F)try{r?b(!0):v(!0),y(null);let a=localStorage.getItem("user"),i=await fetch(et("/cart"),{method:"GET",headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}});if(!i.ok){if(401===i.status){localStorage.removeItem("user"),t("/login",{replace:!0});return}throw Error("Failed to fetch cart data")}let l=await i.json(),s=M(l.cart);h({...l,cart:s}),e(J([...s])),o(!0)}catch(e){console.error("Cart fetch error:",e),y(e.message||"خطا در بارگذاری سبد خرید"),o(!0)}finally{b(!1),v(!1)}},[F,e,t]),P=(0,p.useCallback)(async()=>{c(!0),setTimeout(async()=>{await T(!1),c(!1)},1e3)},[T]),E=(0,p.useCallback)(()=>{y(null),o(!1),T(!0)},[T]);(0,p.useEffect)(()=>{(async()=>{try{await e(er())}catch(e){console.error("Auth verification error:",e)}finally{s(!0)}})()},[e]),(0,p.useEffect)(()=>{if(i&&(S||!1===w))return void t("/login",{replace:!0})},[i,w,S,z,t]),(0,p.useEffect)(()=>{F&&!n&&T(!0)},[F,n,T]),(0,p.useEffect)(()=>{F&&n&&T(!1)},[]);let _=z&&w&&(x||!n),L=!i||k||_,B=M(C),O=M((null==u?void 0:u.cart)||[]),R=B.length>0?B:O,W=R&&R.length>0;return L?(0,a.jsx)(oC,{}):S?(0,a.jsx)(ow,{}):f&&!x?(0,a.jsx)(ok,{onRetry:E}):W||x?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("style",{jsx:!0,global:!0,children:`
        @keyframes float {
          0%, 100% { transform: translateY(0px); }
          50% { transform: translateY(-10px); }
        }
        
        @keyframes sparkle {
          0%, 100% { opacity: 1; transform: scale(1); }
          50% { opacity: 0.5; transform: scale(1.2); }
        }
        
        @keyframes pulse {
          0% { transform: scale(1); }
          50% { transform: scale(1.05); }
          100% { transform: scale(1); }
        }
        
        @keyframes slideUp {
          from { 
            opacity: 0; 
            transform: translateY(30px); 
          }
          to { 
            opacity: 1; 
            transform: translateY(0); 
          }
        }
      `}),(0,a.jsxs)(sa.x,{style:{position:"relative",minHeight:"100vh"},children:[(0,a.jsx)(nS.f,{pos:"fixed",visible:L||d||j,zIndex:1e3,h:"100%",w:"100%",top:0,left:0,style:{background:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(8px)"},loader:(0,a.jsxs)(sw.K,{align:"center",gap:"md",children:[(0,a.jsx)(A.a,{size:"xl",color:"blue"}),(0,a.jsx)(se.x,{size:"sm",c:"dimmed",children:"در حال بروزرسانی سبد خرید..."})]})}),(0,a.jsxs)(I.W,{size:"xl",py:"md",children:[(0,a.jsx)(oI,{active:0}),W&&(0,a.jsxs)(sN.r,{gutter:"xl",children:[(0,a.jsx)(sN.r.Col,{span:{lg:8},children:(0,a.jsxs)(N.X,{p:"xl",radius:"xl",shadow:"sm",style:{background:"linear-gradient(135deg, #ffffff 0%, #f8fafc 100%)",border:"1px solid #e2e8f0",animation:"slideUp 0.6s ease-out"},children:[(0,a.jsx)(sh.Z,{justify:"space-between",align:"center",mb:"xl",children:(0,a.jsxs)(sh.Z,{align:"center",gap:"md",children:[(0,a.jsx)(sZ.k,{size:"lg",radius:"xl",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",animation:"pulse 2s infinite"},children:(0,a.jsx)(sb.IconShoppingCart,{size:20})}),(0,a.jsxs)(sa.x,{children:[(0,a.jsx)(D.D,{order:2,fw:600,c:"gray.8",children:"محتویات سبد خرید"}),(0,a.jsx)(se.x,{size:"sm",c:"dimmed",children:"محصولات انتخابی شما"})]})]})}),(0,a.jsx)(sH.i,{mb:"xl"}),(0,a.jsx)(sw.K,{gap:"lg",children:R.map((e,t)=>(0,a.jsx)(sa.x,{style:{animation:`slideUp 0.6s ease-out ${.1*t}s both`},children:(0,a.jsx)(ov,{...e,onRemoveStart:P})},`${e.productId}-${e.combinationsID||t}`))})]})}),(0,a.jsx)(sD.$,{span:{lg:4},children:(0,a.jsx)(sa.x,{style:{position:"sticky",top:"2rem",animation:"slideUp 0.6s ease-out 0.3s both"},children:(0,a.jsx)(N.X,{p:"xl",radius:"xl",shadow:"sm",style:{background:"linear-gradient(135deg, #ffffff 0%, #f8fafc 100%)",border:"1px solid #e2e8f0"},children:(0,a.jsx)(oy,{cartItems:R,submit:{to:"/basket-info",component:g.OL},children:"ادامه فرآیند خرید"})})})})]})]})]})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(I.W,{size:"lg",py:"md",children:(0,a.jsx)(oI,{active:0})}),(0,a.jsx)(oS,{})]})},{})},{path:"/basket-info",element:(0,a.jsx)(()=>{var e,t,r,i,s,n,o,d,c,u,x,b,f,y,j,v,C,w,k,S,I,F,M,T,P,E,_,L,B,O;let[R,Z]=(0,p.useState)(!1);(0,p.useRef)("");let[U,$]=(0,p.useState)([]),q=(0,m.v9)(e=>e.basketInfo.values),K=(0,m.I0)(),[V]=(0,l.fP)(["user"]),[H,G]=(0,p.useState)(!1),X=(0,g.s0)(),{isVerified:Y,loading:J,error:Q}=(0,m.v9)(e=>e.auth),ee=(0,m.v9)(e=>e.user.userInfo),[ea,ei]=(0,p.useState)("ok"),[el,es]=(0,p.useState)(!1),[en,eo]=(0,p.useState)(!1),[ed,ec]=(0,p.useState)({}),[eu,em]=(0,p.useState)({});(0,p.useEffect)(()=>{let e=ed&&void 0!==ed.status&&!isNaN(Number(ed.status));0!==Object.keys(ed).length&&e&&![400,401,403,404,405,406,408,409,410,411,412,413,414,415,416,417,422,429].includes(Number(ed.status))&&(ec({}),h.N9.show({title:ed.message||"خطایی رخ داده است",color:"red",autoClose:!0}))},[ed]),(0,p.useEffect)(()=>{(null==eu?void 0:eu.state)==="ok"&&h.N9.show({title:eu.message,color:"green",autoClose:!0}),(null==eu?void 0:eu.state)==="error"&&h.N9.show({title:eu.message,color:"red",autoClose:!0})},[eu]),(0,p.useEffect)(()=>{(null==ed?void 0:ed.status)&&sv(ed.status,eo,X)},[ed,X]);let eg=(0,sd.c)({initialValues:{name:"",family:"",postalCode:"",province:"",city:"",mobile:"",email:"",nationalCode:"",address:"",socialName:"whatsapp",socialNumber:""},onValuesChange:(e,t)=>{if(e.province!==t.province)if(eg.setFieldValue("city",""),e.province){let t=oN.find(t=>t.name===e.province);t&&t.cities?$(t.cities.map(e=>({label:e.name,value:e.name}))):$([])}else $([])},validate:(0,ot.X)(oD)});(0,p.useEffect)(()=>{K(er())},[K]),(0,p.useEffect)(()=>{J||(!1===Y?X("/login",{replace:!0}):!0===Y&&(G(!0),K(eN())))},[Y,J,X,K]),(0,p.useEffect)(()=>{if((null==ee?void 0:ee.user)&&(eg.setValues({name:ee.user.name||"",family:ee.user.family||"",mobile:ee.user.mobile||"",email:ee.user.email||"",nationalCode:ee.user.nationalCode||"",postalCode:ee.user.postalCode||"",province:ee.user.province||"",city:ee.user.city||"",address:ee.user.address||"",socialName:ee.user.socialNetworkName||"whatsapp",socialNumber:ee.user.socialNetworkMobile||""}),ee.user.province)){let e=oN.find(e=>e.name===ee.user.province);if(e&&e.cities){let t=e.cities.map(e=>({label:e.name,value:e.name}));$(t);let r=t.some(e=>e.value===ee.user.city);eg.setFieldValue("city",r?ee.user.city:"")}}},[ee]),(0,p.useEffect)(()=>{eg.setValues(q),eg.setFieldValue("city",q.city)},[q]);let ep=async()=>{if(eg.validate(),!eg.isValid())return;let e=localStorage.getItem("user");K(W(!0));try{let t=await fetch(et("/users/update"),{method:"POST",body:JSON.stringify({name:eg.values.name,family:eg.values.family,postalCode:eg.values.postalCode,province:eg.values.province,city:eg.values.city,mobile:eg.values.mobile,email:eg.values.email,nationalCode:eg.values.nationalCode,address:eg.values.address,socialName:eg.values.socialName,socialNumber:eg.values.socialNumber,note:eg.values.note}),headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}}),r=await t.text(),a=r?JSON.parse(r):null;if(!t.ok){let e={status:t.status,message:(null==a?void 0:a.message)||"خطایی در ویرایش اطلاعات کاربر رخ داده است"};ec(e),em({state:"error",message:e.message});return}if("error"===a.state){ei("error"),em(a);return}if(a.error){eg.setErrors(a.error),ec(a.error);return}if("ok"===a.status)em({state:"ok",message:"موفقیت در ویرایش اطلاعات کاربر"}),ec({}),X("/payment");else throw Error("Failed to update user data")}catch(e){console.error("Error processing request:",e),ec({message:"خطایی در سرور رخ داده است"}),em({state:"error",message:"خطایی در سرور رخ داده است"})}finally{K(W(!1))}};return!ee||J?(0,a.jsx)(si.M,{children:(0,a.jsx)(A.a,{})}):H?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(sy,{opened:en,onClose:()=>eo(!1),message:null==ed?void 0:ed.message}),(0,a.jsxs)(op.v,{mb:"xl",active:2,children:[(0,a.jsx)(op.v.Step,{label:"سبد خرید",icon:(0,a.jsx)(sb.IconShoppingCart,{})}),(0,a.jsx)(op.v.Step,{label:"اطلاعات خریدار",icon:(0,a.jsx)(sb.IconUserCheck,{})}),(0,a.jsx)(op.v.Step,{label:"انتخاب روش پرداخت",icon:(0,a.jsx)(sb.IconWallet,{})}),(0,a.jsx)(op.v.Step,{label:"پرداخت نهایی",icon:(0,a.jsx)(sb.IconCircleCheck,{})})]}),(0,a.jsxs)(sN.r,{children:[(0,a.jsxs)(sN.r.Col,{span:{lg:9},children:[(0,a.jsx)(D.D,{fw:"600",c:"gray.8",mb:"lg",children:"اطلاعات خریدار"}),(0,a.jsx)(N.X,{p:"xl",children:(0,a.jsxs)("form",{onSubmit:eg.onSubmit(()=>ep()),children:[(0,a.jsxs)(sN.r,{children:[(0,a.jsx)(sD.$,{span:{md:6},children:(0,a.jsx)(ss.o,{label:"نام",withAsterisk:!0,disabled:!R,...eg.getInputProps("name"),error:(null==eu?void 0:eu.state)==="error"&&(null==eu||null==(e=eu.errors)?void 0:e.name)||eg.errors.name?(0,a.jsxs)("div",{children:[(null==eu?void 0:eu.state)==="error"&&(null==eu||null==(t=eu.errors)?void 0:t.name)&&(0,a.jsx)("div",{children:null==eu||null==(r=eu.errors)?void 0:r.name}),eg.errors.name&&(0,a.jsx)("div",{children:eg.errors.name})]}):null})}),(0,a.jsx)(sD.$,{span:{md:6},children:(0,a.jsx)(ss.o,{label:"نام خانوادگی",withAsterisk:!0,disabled:!R,...eg.getInputProps("family"),error:(null==eu?void 0:eu.state)==="error"&&(null==eu||null==(i=eu.errors)?void 0:i.family)||eg.errors.family?(0,a.jsxs)("div",{children:[(null==eu?void 0:eu.state)==="error"&&(null==eu||null==(s=eu.errors)?void 0:s.family)&&(0,a.jsx)("div",{children:null==eu||null==(n=eu.errors)?void 0:n.family}),eg.errors.family&&(0,a.jsx)("div",{children:eg.errors.family})]}):null})}),(0,a.jsx)(sD.$,{span:{md:6},children:(0,a.jsx)(ss.o,{label:"شماره موبایل",component:sk.oc,mask:"0000 000 0000",type:"text",dir:"ltr",disabled:!0,styles:{input:{textAlign:"left"}},withAsterisk:!0,inputMode:"numeric",...eg.getInputProps("mobile")})}),(0,a.jsx)(sD.$,{span:{md:6},children:(0,a.jsx)(ss.o,{type:"email",label:"آدرس ایمیل",disabled:!R,...eg.getInputProps("email"),error:(null==eu?void 0:eu.state)==="error"&&(null==eu||null==(o=eu.errors)?void 0:o.email)||eg.errors.email?(0,a.jsxs)("div",{children:[(null==eu?void 0:eu.state)==="error"&&(null==eu||null==(d=eu.errors)?void 0:d.email)&&(0,a.jsx)("div",{children:null==eu||null==(c=eu.errors)?void 0:c.email}),eg.errors.email&&(0,a.jsx)("div",{children:eg.errors.email})]}):null})}),(0,a.jsx)(sD.$,{span:{md:6},children:(0,a.jsx)(ss.o,{label:"کد ملی",component:sk.oc,type:"number",mask:"0000000000",dir:"ltr",disabled:!R,styles:{input:{textAlign:"left"}},...eg.getInputProps("nationalCode"),error:(null==eu?void 0:eu.state)==="error"&&(null==eu||null==(u=eu.errors)?void 0:u.nationalCode)||eg.errors.nationalCode?(0,a.jsxs)("div",{children:[(null==eu?void 0:eu.state)==="error"&&(null==eu||null==(x=eu.errors)?void 0:x.nationalCode)&&(0,a.jsx)("div",{children:null==eu||null==(b=eu.errors)?void 0:b.nationalCode}),eg.errors.nationalCode&&(0,a.jsx)("div",{children:eg.errors.nationalCode})]}):null})}),(0,a.jsx)(sD.$,{span:{md:6},children:(0,a.jsx)(nE.P,{data:[{label:"ایران",value:"ایران"}],readOnly:!0,value:"ایران",label:"کشور"})}),(0,a.jsx)(sD.$,{span:{md:6},children:(0,a.jsx)(nE.P,{data:oA,allowDeselect:!1,label:"استان",placeholder:"لطفا یک استان انتخاب کنید",searchable:"true",disabled:!R,withAsterisk:!0,...eg.getInputProps("province"),error:(null==eu?void 0:eu.state)==="error"&&(null==eu||null==(f=eu.errors)?void 0:f.province)||eg.errors.province?(0,a.jsxs)("div",{children:[(null==eu?void 0:eu.state)==="error"&&(null==eu||null==(y=eu.errors)?void 0:y.province)&&(0,a.jsx)("div",{children:null==eu||null==(j=eu.errors)?void 0:j.province}),eg.errors.province&&(0,a.jsx)("div",{children:eg.errors.province})]}):null})}),(0,a.jsx)(sD.$,{span:{md:6},children:(0,a.jsx)(oz.F,{data:U,label:"شهر",disabled:!R,placeholder:""!==eg.getInputProps("province").value?"لطفا یک شهر انتخاب کنید":"ابتدا استان را انتخاب کنید",searchable:"true",withAsterisk:!0,...eg.getInputProps("city"),error:(null==eu?void 0:eu.state)==="error"&&(null==eu||null==(v=eu.errors)?void 0:v.city)||eg.errors.city?(0,a.jsxs)("div",{children:[(null==eu?void 0:eu.state)==="error"&&(null==eu||null==(C=eu.errors)?void 0:C.city)&&(0,a.jsx)("div",{children:null==eu||null==(w=eu.errors)?void 0:w.city}),eg.errors.city&&(0,a.jsx)("div",{children:eg.errors.city})]}):null})}),(0,a.jsx)(sD.$,{span:12,children:(0,a.jsx)(oe.g,{rows:4,label:"آدرس",placeholder:"آدرس کامل",disabled:!R,withAsterisk:!0,...eg.getInputProps("address"),error:(null==eu?void 0:eu.state)==="error"&&(null==eu||null==(k=eu.errors)?void 0:k.address)||eg.errors.address?(0,a.jsxs)("div",{children:[(null==eu?void 0:eu.state)==="error"&&(null==eu||null==(S=eu.errors)?void 0:S.address)&&(0,a.jsx)("div",{children:null==eu||null==(I=eu.errors)?void 0:I.address}),eg.errors.address&&(0,a.jsx)("div",{children:eg.errors.address})]}):null})}),(0,a.jsx)(sD.$,{children:(0,a.jsx)(ss.o,{label:"کد پستی 10 رقمی",component:sk.oc,type:"number",mask:"0000000000",dir:"ltr",disabled:!R,withAsterisk:!0,...eg.getInputProps("postalCode"),error:(null==eu?void 0:eu.state)==="error"&&(null==eu||null==(F=eu.errors)?void 0:F.postalCode)||eg.errors.postalCode?(0,a.jsxs)("div",{children:[(null==eu?void 0:eu.state)==="error"&&(null==eu||null==(M=eu.errors)?void 0:M.postalCode)&&(0,a.jsx)("div",{children:null==eu||null==(T=eu.errors)?void 0:T.postalCode}),eg.errors.postalCode&&(0,a.jsx)("div",{children:eg.errors.postalCode})]}):null})}),(0,a.jsxs)(sD.$,{children:[(0,a.jsxs)(l9.k,{align:"start",gap:"3",children:[(0,a.jsx)(se.x,{size:"sm",mb:"sm",children:"شماره موبایل شبکه اجتماعی ( جهت هماهنگی )"}),(0,a.jsx)(se.x,{c:"red",size:"sm",children:"*"})]}),(0,a.jsxs)(l9.k,{gap:"md",children:[(0,a.jsx)(nE.P,{allowDeselect:!1,disabled:!R,data:[{label:"واتس‌اپ",value:"whatsapp"},{label:"تلگرام",value:"telegram"},{label:"روبیکا",value:"rubika"},{label:"بله",value:"bale"},{label:"ایتا",value:"eita"}],...eg.getInputProps("socialName"),error:(null==eu?void 0:eu.state)==="error"&&(null==eu||null==(P=eu.errors)?void 0:P.socialNetworkName)||eg.errors.socialName?(0,a.jsxs)("div",{children:[(null==eu?void 0:eu.state)==="error"&&(null==eu||null==(E=eu.errors)?void 0:E.socialNetworkName)&&(0,a.jsx)("div",{children:null==eu||null==(_=eu.errors)?void 0:_.socialNetworkName}),eg.errors.socialName&&(0,a.jsx)("div",{children:eg.errors.socialName})]}):null}),(0,a.jsx)(ss.o,{w:"100%",disabled:!R,placeholder:"شماره تلفن",component:sk.oc,mask:"0000 000 0000",type:"text",dir:"ltr",styles:{input:{textAlign:"left"}},withAsterisk:!0,inputMode:"numeric",...eg.getInputProps("socialNumber"),error:(null==eu?void 0:eu.state)==="error"&&(null==eu||null==(L=eu.errors)?void 0:L.socialNetworkMobile)||eg.errors.socialNumber?(0,a.jsxs)("div",{children:[(null==eu?void 0:eu.state)==="error"&&(null==eu||null==(B=eu.errors)?void 0:B.socialNetworkMobile)&&(0,a.jsx)("div",{children:null==eu||null==(O=eu.errors)?void 0:O.socialNetworkMobile}),eg.errors.socialNumber&&(0,a.jsx)("div",{children:eg.errors.socialNumber})]}):null})]})]})]}),(0,a.jsx)("button",{type:"submit",hidden:!0})]})}),(0,a.jsx)(z.z,{onClick:()=>Z(!R),variant:"outline",mb:"md",mt:"md",children:R?"قفل اطلاعات":"ویرایش همه"})]}),(0,a.jsx)(sN.r.Col,{span:{lg:3},children:(0,a.jsx)(oy,{prev:{to:"/basket",component:g.OL},submit:{onClick:()=>ep()},children:"ثبت سفارش"})})]})]}):(0,a.jsx)(a.Fragment,{})},{})},{path:"/payment",element:(0,a.jsx)(()=>{var e;let t=(0,m.I0)(),{gateways:r,loading:i,error:s}=(0,m.v9)(e=>e.gateWaysData),[n,o]=(0,p.useState)(""),[d,c]=(0,l.fP)(["user"]),[u,h]=(0,p.useState)(!1),{isVerified:x,loading:b,error:f}=(0,m.v9)(e=>e.auth),{orderfinalreceipt:y}=(0,m.v9)(e=>e.cartfinalreceipt),[j,v]=(0,p.useState)(!1);(0,p.useEffect)(()=>{var e,t;(null==y||null==(t=y.cartDiscounts)||null==(e=t.discountCode)?void 0:e.code)?v(!0):v(!1)},[y]);let C=(0,g.s0)(),w=(0,sd.c)({initialValues:{gateway:{}}});(0,p.useEffect)(()=>{t(iX({state:"all"})),t(en())},[t]);let k=null==r?void 0:r.map(e=>(0,a.jsx)(oF.Y.Card,{p:"lg",radius:"md",value:null==e?void 0:e.info.name,defaultChecked:!0,styles:{card:{borderColor:w.getValues().gateway.name===(null==e?void 0:e.info.name)?"var(--mantine-primary-color-5)":"transparent"}},children:(0,a.jsxs)(sh.Z,{wrap:"nowrap",align:"center",children:[(0,a.jsx)(oF.Y.Indicator,{}),(0,a.jsx)("div",{style:{color:w.getValues().gateway.name===e.info.name?"var(--mantine-primary-color-5)":"var(--mantine-color-gray-6)"},children:(0,a.jsx)(o_,{src:e.icon,alt:e.label,size:30,onError:t=>{console.warn(`Failed to load icon for ${e.label}: ${e.icon}`)}})}),(0,a.jsxs)("div",{children:[(0,a.jsx)(se.x,{children:e.label}),(0,a.jsx)(se.x,{size:"13px",c:"gray.6",children:e.description})]})]})},null==e?void 0:e.info.name));return((0,p.useEffect)(()=>{t(er())},[t]),(0,p.useEffect)(()=>{b||(!1===x?C("/login",{replace:!0}):!0===x&&h(!0))},[x,b,C]),(0,p.useEffect)(()=>{var e;(null==r||null==(e=r[0])?void 0:e.info)&&w.setValues({gateway:r[0].info})},[r]),u)?!r||i?(0,a.jsx)(si.M,{children:(0,a.jsx)(A.a,{})}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(oM,{active:3}),(0,a.jsxs)(sN.r,{children:[(0,a.jsxs)(sD.$,{children:[(0,a.jsx)(D.D,{fw:"600",c:"gray.8",mb:"sm",children:"روش پرداخت"}),(0,a.jsx)(N.X,{children:(0,a.jsx)("form",{children:(0,a.jsx)(oF.Y.Group,{name:"انتخاب درگاه پرداخت",value:w.values.gateway.name,onChange:e=>{let t=r.find(t=>t.info.name===e);w.setValues({gateway:null==t?void 0:t.info})},children:(0,a.jsx)(sw.K,{children:k})})})}),(0,a.jsx)(oL,{isDiscountApplied:j,setIsDiscountApplied:v,gateway:w.getValues().gateway})]}),(0,a.jsx)(sD.$,{children:(null==(e=w.getValues().gateway)?void 0:e.name)&&(0,a.jsx)(oT,{prev:{to:"/basket-info",component:g.OL},gateway:w.getValues().gateway,children:"پرداخت"})}),(0,a.jsx)(sD.$,{span:{lg:6},children:(0,a.jsx)(z.z,{fullWidth:!0,h:45,variant:"light",color:"gray",justify:"space-between",leftSection:(0,a.jsx)(sb.IconArrowRight,{size:16}),component:g.OL,to:"/basket-info",children:"قبلی"})})]})]}):(0,a.jsx)(a.Fragment,{})},{})},{path:"/payment-sellers/:receipt_id",element:(0,a.jsx)(()=>{let{receipt_id:e}=(0,g.UO)(),t=(0,m.I0)(),{gateways:r,loading:i,error:s}=(0,m.v9)(e=>e.gateWaysData),[n,o]=(0,p.useState)(""),[d,c]=(0,l.fP)(["user"]),[u,h]=(0,p.useState)(!1),{isVerified:x,loading:b,error:f}=(0,m.v9)(e=>e.auth),{orderfinalreceipt:y}=(0,m.v9)(e=>e.cartfinalreceipt),[j,v]=(0,p.useState)(!1),C=(0,g.s0)(),w=(0,sd.c)({initialValues:{gateway:{}}}),{orderByReceiptID:k,loadingByReceiptID:S,errorByReceiptID:I}=(0,m.v9)(e=>e.getOrderByReceiptID);return((0,p.useEffect)(()=>{t(rx({receipt_id:e}))},[t]),null==r||r.map(e=>(0,a.jsx)(oF.Y.Card,{p:"lg",radius:"md",value:null==e?void 0:e.info.name,defaultChecked:!0,styles:{card:{borderColor:w.getValues().gateway.name===(null==e?void 0:e.info.name)?"var(--mantine-primary-color-5)":"transparent"}},children:(0,a.jsxs)(sh.Z,{wrap:"nowrap",align:"center",children:[(0,a.jsx)(oF.Y.Indicator,{}),(0,a.jsx)("div",{style:{color:w.getValues().gateway.name===e.info.name?"var(--mantine-primary-color-5)":"var(--mantine-color-gray-6)"},children:(0,a.jsx)("img",{src:e.icon,alt:e.label,style:{width:30,height:30}})}),(0,a.jsxs)("div",{children:[(0,a.jsx)(se.x,{children:e.label}),(0,a.jsx)(se.x,{size:"13px",c:"gray.6",children:e.description})]})]})},null==e?void 0:e.info.name)),(0,p.useEffect)(()=>{t(er())},[t]),(0,p.useEffect)(()=>{b||(!1===x?C("/login",{replace:!0}):!0===x&&h(!0))},[x,b,C]),(0,p.useEffect)(()=>{var e;(null==r||null==(e=r[0])?void 0:e.info)&&w.setValues({gateway:r[0].info})},[r]),u)?!r||i?(0,a.jsx)(si.M,{children:(0,a.jsx)(A.a,{})}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(oM,{active:2}),(0,a.jsx)(sN.r,{children:(0,a.jsx)(sD.$,{children:(0,a.jsx)(mR,{receipt_id:e,children:"پرداخت"})})})]}):(0,a.jsx)(a.Fragment,{})},{})},{path:"payment-statuscheck",element:(0,a.jsx)(()=>{var e,t,r,i;let l=(0,m.I0)(),s=(0,g.s0)(),n=(0,g.TH)(),o=(0,p.useMemo)(()=>new URLSearchParams(n.search),[n.search]),d=o.get("paymentData"),c=null;try{d&&(c=JSON.parse(d))}catch(e){console.error("Error parsing payment data:",e)}let u=(null==c||null==(e=c.body)?void 0:e.order_id)||o.get("order_id"),{paymentStatus:h,loading:x,error:b}=(0,m.v9)(e=>e.verifypayment),[f,y]=(0,p.useState)([]),[j,v]=(0,p.useState)(null),[C,w]=(0,p.useState)([]),[k,S]=(0,p.useState)(!1),[F,M]=(0,p.useState)(null),[T,P]=(0,p.useState)(!1),E=(0,p.useCallback)(e=>{switch(e){case"paid":return{color:"green",text:"پرداخت شده",icon:sb.IconCheck};case"prepaid":return{color:"orange",text:"مبلغ اولیه پرداخت شده",icon:sb.IconClock};case"selfprepaid":return{color:"orange",text:"مبلغ اولیه پرداخت شده - تماس با تامین کننده",icon:sb.IconClock};case"unpaid":return{color:"red",text:"پرداخت نشده",icon:sb.IconX};default:return{color:"gray",text:"نامشخص",icon:sb.IconClock}}},[]),_=(0,p.useCallback)(e=>{switch(e){case"waiting":return{color:"orange",text:"در انتظار پردازش"};case"processing":return{color:"blue",text:"در حال پردازش"};case"shipped":return{color:"cyan",text:"ارسال شده"};case"delivered":return{color:"green",text:"تحویل داده شده"};case"cancelled":return{color:"red",text:"لغو شده"};case"basket":return{color:"gray",text:"در سبد خرید"};case"failed":return{color:"red",text:"ناموفق"};case"pending":return{color:"yellow",text:"در انتظار پرداخت"};case"rejected":return{color:"red",text:"رد شده"};default:return{color:"gray",text:e||"نامشخص"}}},[]);(0,p.useEffect)(()=>{(async()=>{if(c&&u&&!T&&!k){S(!0);try{let e=await fetch(et("/payment/paymentwebhook"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)}),t=await e.json();if(!e.ok)throw Error(t.message||`HTTP ${e.status}`);P(!0),u&&l(e_({order_id:u}))}catch(e){console.error("Payment webhook error:",e),M(e.message||"خطا در پردازش پرداخت"),P(!0)}finally{S(!1)}}})()},[c,u,l,T,k]),(0,p.useEffect)(()=>{!u||c||k||l(e_({order_id:u}))},[l,u,c,k]),(0,p.useEffect)(()=>{(null==h?void 0:h.order)&&(v({id:h.order.order_id,isPaid:h.order.isPaid,status:h.order.status,customer_name:h.order.customer_name,customer_phone_number:h.order.customer_phone_number,total_price:h.order.totalPriceToPay,delivery_type:h.order.delivery_type,paymentComment:h.order.paymentComment}),h.order.sellers&&y(h.order.sellers.map((e,t)=>({id:e.seller.id||`seller-${t}`,isPaid:e.isPaid,status:e.status||"waiting",supplier_id:e.seller.label,quantity:e.quantity||1,price:e.price,discount_price:e.discount_price||0,totalPrice:e.totalPrice,vatRequested:e.vatRequested,paymentMethod:e.paymentMethod,product_id:e.products||[],vatLink:e.vatLink,paymentComment:e.paymentComment}))),h.relatedOrders&&h.relatedOrders.length>0&&w(h.relatedOrders))},[h]);let L=(0,p.useCallback)(e=>{s(`/payment-statuscheck?order_id=${e}`)},[s]),B=(0,p.useCallback)(function(){var e,t,r,a,i,l,n;let o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"online",c=null,m=null;o&&(null==h||null==(e=h.order)?void 0:e.sellers)&&(c=h.order.sellers.find(e=>e.seller.id===o),m=null==(n=h.orderItems)?void 0:n.find(e=>e.supplier_id===o));let g=c||(null==h||null==(r=h.order)||null==(t=r.sellers)?void 0:t[0]),p=m||(null==h||null==(a=h.orderItems)?void 0:a[0]);if(!g||!p)return void console.error("No seller or order item found");s("/payment-info",{state:{source:"checkstatus",gateway:(null==(i=p.paymentMethod)?void 0:i.paymentMethod)||d,paymentStatus:h,sellerId:g.seller.id,sellerData:{seller:g.seller,priceApplyEachSeller:p.totalPrice,items:[{item:{name:`\u{645}\u{62D}\u{635}\u{648}\u{644} \u{627}\u{632} ${g.seller.label}`,productId:(null==(l=p.product_id)?void 0:l.map(e=>e.id))||[],priceWithVat:{regularPriceWithVat:p.price,discountedPriceWithVat:p.totalPrice},attributes:[]},quantity:p.quantity}],vatRequested:p.vatRequested,paymentMethod:p.paymentMethod},orderId:(null==j?void 0:j.id)||u,amount:p.totalPrice,orderTracking:[]}})},[s,h,null==j?void 0:j.id,u]),O=(0,p.useMemo)(()=>C.filter(e=>e.id!==u),[C,u]),R=(0,p.useMemo)(()=>(null==j?void 0:j.isPaid)||"unpaid",[null==j?void 0:j.isPaid]),W=(0,p.useMemo)(()=>E(R),[E,R]),Z=W.icon;return x||k?(0,a.jsx)(l9.k,{justify:"center",align:"center",h:"60vh",children:(0,a.jsxs)(sw.K,{align:"center",spacing:"md",children:[(0,a.jsx)(A.a,{variant:"dots",size:"lg"}),(0,a.jsx)(se.x,{size:"md",c:"gray",children:k?"در حال پردازش پرداخت...":"در حال بارگذاری اطلاعات سفارش..."})]})}):b||F?(0,a.jsx)(I.W,{size:"sm",mt:"xl",children:(0,a.jsx)(N.X,{p:"xl",radius:"md",shadow:"md",withBorder:!0,bg:"red.0",children:(0,a.jsxs)(sw.K,{align:"center",spacing:"lg",children:[(0,a.jsx)(sb.IconX,{size:48,color:"red"}),(0,a.jsx)(se.x,{size:"lg",c:"red",fw:500,ta:"center",children:F||b}),(0,a.jsx)(z.z,{variant:"light",color:"blue",onClick:()=>s("/account/orders"),children:"بازگشت به سفارش‌ها"})]})})}):(null==h?void 0:h.order)?(0,a.jsx)(I.W,{size:"md",mt:"xl",children:(0,a.jsxs)(sw.K,{spacing:"xl",children:[c&&(0,a.jsxs)(so.b,{color:"OK"===c.status?"green":"red",title:"OK"===c.status?"پرداخت موفق":"پرداخت ناموفق",icon:"OK"===c.status?(0,a.jsx)(sb.IconCheck,{}):(0,a.jsx)(sb.IconX,{}),variant:"filled",children:["OK"===c.status?"پرداخت شما با موفقیت در درگاه خارجی انجام شد و در حال پردازش است.":"پرداخت شما در درگاه خارجی ناموفق بود. می‌توانید دوباره تلاش کنید.",(null==(t=c.body)?void 0:t.transaction_id)&&(0,a.jsxs)(se.x,{size:"sm",mt:"xs",children:["شماره تراکنش: ",c.body.transaction_id]})]}),(0,a.jsx)(N.X,{p:"xl",radius:"md",shadow:"md",withBorder:!0,bg:"gray.0",children:(0,a.jsxs)(sw.K,{spacing:"lg",align:"center",children:[(0,a.jsx)(D.D,{order:2,ta:"center",children:"وضعیت سفارش"}),(0,a.jsxs)(l9.k,{align:"center",gap:"md",children:[(0,a.jsx)(Z,{size:32,color:W.color}),(0,a.jsx)(se.x,{size:"xl",c:W.color,fw:600,children:W.text})]}),j&&(0,a.jsxs)(sw.K,{spacing:"sm",w:"100%",children:[(0,a.jsxs)(sh.Z,{position:"apart",children:[(0,a.jsxs)(se.x,{size:"lg",c:"blue",fw:500,children:["شماره سفارش: ",j.id]}),(0,a.jsx)(sx.C,{color:_(j.status).color,variant:"light",size:"lg",children:_(j.status).text})]}),(0,a.jsxs)(sh.Z,{position:"apart",children:[(0,a.jsxs)(se.x,{size:"md",c:"gray.7",children:["مشتری: ",j.customer_name]}),(0,a.jsxs)(se.x,{size:"md",c:"gray.7",children:["مبلغ کل: ",null==(r=j.total_price)?void 0:r.toLocaleString()," تومان"]})]}),(0,a.jsxs)(sh.Z,{position:"apart",children:[(0,a.jsxs)(se.x,{size:"sm",c:"gray.6",children:["تلفن: ",j.customer_phone_number]}),(0,a.jsxs)(se.x,{size:"sm",c:"gray.6",children:["نوع تحویل: ","store_delivery"===j.delivery_type?"تحویل از فروشگاه":"ارسال پستی"]})]})]}),(null==j?void 0:j.paymentComment)&&(0,a.jsx)(N.X,{withBorder:!0,radius:"md",p:"md",bg:"blue.0",w:"100%",children:(0,a.jsxs)(se.x,{size:"sm",c:"blue.8",ta:"center",children:["پیام پرداخت: ",j.paymentComment]})})]})}),(0,a.jsxs)(sw.K,{spacing:"md",children:[(0,a.jsxs)(D.D,{order:3,c:"gray.7",children:["آیتم‌های سفارش (",f.length," مورد)"]}),f.map((e,t)=>{var r,i,l;let s=E(e.isPaid),n=s.icon,o=_(e.status);return(0,a.jsx)(N.X,{p:"lg",radius:"md",shadow:"sm",withBorder:!0,bg:"paid"===e.isPaid?"green.0":"unpaid"===e.isPaid?"red.0":"orange.0",children:(0,a.jsxs)(sw.K,{spacing:"md",children:[(0,a.jsxs)(l9.k,{justify:"space-between",align:"flex-start",children:[(0,a.jsx)(sh.Z,{spacing:"xs",children:(0,a.jsx)(sb.IconPackage,{size:20,color:"gray"})}),(0,a.jsxs)(sh.Z,{spacing:"sm",children:[(0,a.jsx)(sx.C,{color:o.color,variant:"light",children:o.text}),"paid"!==e.isPaid&&(0,a.jsx)(z.z,{size:"xs",color:"unpaid"===e.isPaid?"blue":"orange",onClick:()=>{var t;return B(e.supplier_id,(null==(t=e.paymentMethod)?void 0:t.paymentMethod)||"online")},children:"unpaid"===e.isPaid?"پرداخت":"تکمیل پرداخت"})]})]}),(0,a.jsxs)(l9.k,{align:"center",gap:"sm",children:[(0,a.jsx)(n,{size:20,color:s.color}),(0,a.jsx)(se.x,{c:s.color,fw:500,children:s.text})]}),(0,a.jsxs)(sN.r,{children:[(0,a.jsx)(sN.r.Col,{span:6,children:(0,a.jsxs)(sw.K,{spacing:"xs",children:[(0,a.jsxs)(sh.Z,{spacing:"xs",children:[(0,a.jsx)(sb.IconUser,{size:16,color:"gray"}),(0,a.jsxs)(se.x,{size:"sm",c:"gray.7",children:["تامین‌کننده: ",e.supplier_id]})]}),(0,a.jsxs)(se.x,{size:"sm",c:"gray.7",children:["تعداد: ",e.quantity]}),(0,a.jsxs)(se.x,{size:"sm",c:"gray.7",children:["قیمت واحد: ",null==(r=e.price)?void 0:r.toLocaleString()," تومان"]})]})}),(0,a.jsx)(sN.r.Col,{span:6,children:(0,a.jsxs)(sw.K,{spacing:"xs",children:[(0,a.jsxs)(se.x,{size:"sm",c:"gray.7",children:["تخفیف: ",null==(i=e.discount_price)?void 0:i.toLocaleString()," تومان"]}),(0,a.jsxs)(se.x,{size:"lg",c:"blue.8",fw:600,children:["مبلغ کل: ",null==(l=e.totalPrice)?void 0:l.toLocaleString()," تومان"]}),e.vatRequested&&(0,a.jsx)(sx.C,{color:"green",variant:"light",size:"sm",children:"فاکتور درخواست شده"})]})})]}),e.paymentMethod&&(0,a.jsxs)(sh.Z,{spacing:"xs",children:[(0,a.jsx)(sb.IconCreditCard,{size:16,color:"gray"}),(0,a.jsxs)(se.x,{size:"sm",c:"gray.7",children:["روش پرداخت: ","melli"===e.paymentMethod.name?"بانک ملی":e.paymentMethod.name]}),(0,a.jsx)(sx.C,{variant:"outline",size:"sm",children:"online"===e.paymentMethod.paymentMethod?"آنلاین":"نقدی"})]}),e.product_id&&e.product_id.length>0&&(0,a.jsxs)(N.X,{p:"sm",bg:"gray.1",radius:"sm",children:[(0,a.jsx)(se.x,{size:"xs",c:"gray.6",mb:"xs",children:"محصولات:"}),e.product_id.map((e,t)=>(0,a.jsx)(sh.Z,{spacing:"xs",children:(0,a.jsxs)(se.x,{size:"xs",c:"gray.7",children:["کد محصول: ",e.id]})},`${e.id}-${t}`))]}),e.vatLink&&(0,a.jsx)(sh.Z,{spacing:"xs",children:(0,a.jsxs)(se.x,{size:"xs",c:"blue.6",children:["لینک فاکتور: ",e.vatLink]})}),e.paymentComment&&(0,a.jsx)(N.X,{p:"sm",bg:"blue.0",radius:"sm",children:(0,a.jsxs)(se.x,{size:"sm",c:"blue.8",children:["پیام: ",e.paymentComment]})})]})},`${e.id}-${t}`)})]}),(0,a.jsx)(N.X,{p:"lg",radius:"md",withBorder:!0,children:(0,a.jsxs)(sw.K,{spacing:"md",children:[("prepaid"===R||"unpaid"===R)&&(0,a.jsx)(z.z,{fullWidth:!0,size:"lg",color:"unpaid"===R?"blue":"orange",onClick:()=>B(null,"online"),children:"unpaid"===R?"پرداخت":"تکمیل پرداخت"}),"paid"===R&&(0,a.jsx)(se.x,{ta:"center",c:"green",size:"lg",fw:500,children:"پرداخت با موفقیت کامل شد"}),(null==h||null==(i=h.order)?void 0:i.status)==="failed"&&(0,a.jsx)(se.x,{ta:"center",c:"red",size:"lg",fw:500,children:"پرداخت ناموفق بود. برای تلاش دوباره به بخش سفارش‌ها مراجعه کنید."}),(0,a.jsx)(z.z,{fullWidth:!0,variant:"light",color:"gray",size:"md",onClick:()=>s("/account/orders"),children:"بازگشت به سفارش‌ها"})]})}),O.length>0&&(0,a.jsx)(N.X,{p:"lg",radius:"md",shadow:"sm",withBorder:!0,mt:"xl",children:(0,a.jsxs)(sw.K,{spacing:"md",children:[(0,a.jsxs)(sh.Z,{spacing:"xs",children:[(0,a.jsx)(sb.IconInfoCircle,{size:20,color:"blue"}),(0,a.jsxs)(D.D,{order:4,c:"blue",children:["سفارش‌های مرتبط (",O.length," مورد)"]})]}),(0,a.jsx)(so.b,{color:"blue",variant:"light",children:(0,a.jsx)(se.x,{size:"sm",children:"این سفارش‌های مرتبط نیز برای حساب شما ثبت شده‌اند. برای مشاهده جزئیات هر سفارش روی آن کلیک کنید."})}),(0,a.jsx)(sw.K,{spacing:"sm",children:O.map(e=>{let t=_(e.status),r="pending"===e.status||"rejected"===e.status;return(0,a.jsx)(N.X,{p:"md",radius:"sm",withBorder:!0,bg:r?"yellow.0":"gray.0",style:{cursor:"pointer"},onClick:()=>L(e.id),children:(0,a.jsxs)(sh.Z,{position:"apart",align:"center",children:[(0,a.jsxs)(sw.K,{spacing:"xs",style:{flex:1},children:[(0,a.jsxs)(sh.Z,{spacing:"sm",children:[(0,a.jsxs)(se.x,{size:"sm",fw:500,c:"blue.8",children:["شماره سفارش: ",e.id]}),(0,a.jsx)(sx.C,{color:t.color,variant:"light",size:"sm",children:t.text})]}),r&&(0,a.jsx)(se.x,{size:"xs",c:"orange.7",fw:500,children:"pending"===e.status?"این سفارش نیاز به پرداخت دارد":"این سفارش رد شده و نیاز به پرداخت مجدد دارد"})]}),(0,a.jsxs)(sh.Z,{spacing:"sm",children:[r&&(0,a.jsx)(z.z,{size:"xs",color:"pending"===e.status?"blue":"orange",variant:"filled",onClick:t=>{t.stopPropagation(),L(e.id)},children:"پرداخت"}),(0,a.jsx)(sb.IconArrowRight,{size:16,color:"gray"})]})]})},e.id)})})]})})]})}):(0,a.jsx)(I.W,{size:"sm",mt:"xl",children:(0,a.jsx)(N.X,{p:"xl",radius:"md",shadow:"md",withBorder:!0,bg:"gray.0",children:(0,a.jsxs)(sw.K,{align:"center",spacing:"lg",children:[(0,a.jsx)(sb.IconClock,{size:48,color:"gray"}),(0,a.jsx)(se.x,{size:"lg",c:"gray",fw:500,ta:"center",children:"اطلاعات سفارش در دسترس نیست"}),(0,a.jsx)(z.z,{variant:"light",color:"blue",onClick:()=>s("/account/orders"),children:"بازگشت به سفارش‌ها"})]})})})},{})},{path:"payment-statuscheck-wallet",element:(0,a.jsx)(()=>{var e,t;let r=(0,m.I0)(),i=(0,g.s0)(),l=(0,g.TH)(),[s,n]=(0,p.useState)(null),o=new URLSearchParams(l.search).get("data"),{walletPaymentStatus:d,loading:c,error:u}=(0,m.v9)(e=>e.walletPaymentStatus),h=(()=>{var e,t,r,a;let i=null==s||null==(e=s.status)?void 0:e.toUpperCase(),l=null==d||null==(t=d.status)?void 0:t.toLowerCase(),n=null==d||null==(a=d.payment)||null==(r=a.payment_status)?void 0:r.toLowerCase();return["OK"===i,"ok"===l,"completed"===l,"success"===l,"paid"===n,"completed"===n,"success"===n].some(Boolean)?"success":["FAILED"===i,"ERROR"===i,"failed"===l,"error"===l,"failed"===n,"error"===n,"cancelled"===n].some(Boolean)?"failed":["pending"===l,"pending"===n,"processing"===l].some(Boolean)?"pending":"unknown"})();return((0,p.useEffect)(()=>{try{if(o){let e=JSON.parse(o);n(e.body),r(io(e))}}catch(e){}},[r,o,l.search]),c)?(0,a.jsx)(I.W,{size:"sm",py:"xl",children:(0,a.jsx)(o$.Z,{shadow:"sm",padding:"xl",radius:"lg",withBorder:!0,children:(0,a.jsxs)(sw.K,{align:"center",gap:"md",children:[(0,a.jsx)(sZ.k,{size:60,radius:"xl",color:"blue",variant:"light",children:(0,a.jsx)(A.a,{size:"md"})}),(0,a.jsx)(se.x,{size:"lg",fw:500,children:"در حال بررسی وضعیت شارژ کیف پول..."}),(0,a.jsx)(se.x,{size:"sm",c:"dimmed",children:"لطفاً منتظر بمانید"})]})})}):(0,a.jsx)(I.W,{size:"sm",py:"xl",children:(0,a.jsxs)(sw.K,{gap:"lg",children:[(0,a.jsx)(o$.Z,{shadow:"lg",padding:"xl",radius:"lg",withBorder:!0,children:(0,a.jsxs)(sw.K,{align:"center",gap:"lg",children:[(0,a.jsxs)(sh.Z,{gap:"sm",align:"center",children:[(0,a.jsx)(sb.IconWallet,{size:24}),(0,a.jsx)(D.D,{order:2,c:"gray.8",children:"نتیجه شارژ کیف پول"})]}),(()=>{switch(h){case"success":return(0,a.jsx)(sZ.k,{size:100,radius:"xl",color:"green",variant:"filled",style:{background:"linear-gradient(135deg, #51cf66 0%, #40c057 100%)",border:"3px solid #51cf66",boxShadow:"0 8px 32px rgba(81, 207, 102, 0.3)"},children:(0,a.jsx)(sb.IconCircleCheck,{size:50,color:"white",stroke:2.5})});case"failed":return(0,a.jsx)(sZ.k,{size:100,radius:"xl",color:"red",variant:"filled",style:{background:"linear-gradient(135deg, #ff6b6b 0%, #fa5252 100%)",border:"3px solid #ff6b6b",boxShadow:"0 8px 32px rgba(255, 107, 107, 0.3)"},children:(0,a.jsx)(sb.IconCircleX,{size:50,color:"white",stroke:2.5})});case"pending":return(0,a.jsxs)("div",{style:{position:"relative"},children:[(0,a.jsx)(sZ.k,{size:100,radius:"xl",color:"orange",variant:"filled",style:{background:"linear-gradient(135deg, #ffd43b 0%, #fab005 100%)",border:"3px solid #ffd43b",boxShadow:"0 8px 32px rgba(255, 212, 59, 0.3)",animation:"pulse 2s ease-in-out infinite"},children:(0,a.jsx)(sb.IconHourglass,{size:50,color:"white",stroke:2.5})}),(0,a.jsx)("style",{jsx:!0,children:`
              @keyframes pulse {
                0%, 100% {
                  opacity: 1;
                  transform: scale(1);
                }
                50% {
                  opacity: 0.8;
                  transform: scale(1.05);
                }
              }
            `})]});default:return(0,a.jsx)(sZ.k,{size:100,radius:"xl",color:"gray",variant:"filled",style:{background:"linear-gradient(135deg, #868e96 0%, #6c757d 100%)",border:"3px solid #868e96",boxShadow:"0 8px 32px rgba(134, 142, 150, 0.3)"},children:(0,a.jsx)(sb.IconExclamationMark,{size:50,color:"white",stroke:2.5})})}})(),(0,a.jsxs)(sw.K,{align:"center",gap:"sm",children:[(()=>{let e={size:"lg",radius:"md",variant:"filled"};switch(h){case"success":return(0,a.jsx)(sx.C,{...e,color:"green",children:"✅ موفق"});case"failed":return(0,a.jsx)(sx.C,{...e,color:"red",children:"❌ ناموفق"});case"pending":return(0,a.jsx)(sx.C,{...e,color:"orange",children:"⏳ در انتظار"});default:return(0,a.jsx)(sx.C,{...e,color:"gray",children:"❓ نامشخص"})}})(),(0,a.jsx)(se.x,{size:"xl",fw:600,c:(()=>{switch(h){case"success":return"green";case"pending":return"orange";case"failed":return"red";default:return"gray"}})(),ta:"center",children:(()=>{switch(h){case"success":return"شارژ کیف پول با موفقیت انجام شد";case"failed":return(null==s?void 0:s.error_message)||(null==d?void 0:d.error)||"شارژ کیف پول ناموفق بود";case"pending":return"شارژ کیف پول در حال بررسی است";default:return(null==d?void 0:d.message)||"وضعیت نامشخص"}})()})]}),s&&(0,a.jsx)(o$.Z,{w:"100%",bg:"gray.0",p:"md",radius:"sm",children:(0,a.jsxs)(sw.K,{gap:"sm",children:[(0,a.jsx)(se.x,{size:"sm",fw:500,c:"gray.7",children:"جزئیات تراکنش:"}),(0,a.jsx)(sH.i,{}),(0,a.jsxs)(sh.Z,{justify:"space-between",children:[(0,a.jsx)(se.x,{size:"sm",c:"dimmed",children:"شناسه تراکنش:"}),(0,a.jsx)(se.x,{size:"sm",fw:500,style:{fontFamily:"monospace"},children:(null==s?void 0:s.transaction_id)||"نامشخص"})]}),(0,a.jsxs)(sh.Z,{justify:"space-between",children:[(0,a.jsx)(se.x,{size:"sm",c:"dimmed",children:"شناسه کاربر:"}),(0,a.jsx)(se.x,{size:"sm",fw:500,children:(null==s?void 0:s.user_id)||"نامشخص"})]}),(0,a.jsxs)(sh.Z,{justify:"space-between",children:[(0,a.jsx)(se.x,{size:"sm",c:"dimmed",children:"مبلغ شارژ:"}),(0,a.jsx)(se.x,{size:"lg",fw:700,c:"green.8",children:s.amount?`${parseInt(s.amount).toLocaleString()} \u{62A}\u{648}\u{645}\u{627}\u{646}`:"نامشخص"})]}),(0,a.jsxs)(sh.Z,{justify:"space-between",children:[(0,a.jsx)(se.x,{size:"sm",c:"dimmed",children:"زمان تراکنش:"}),(0,a.jsx)(se.x,{size:"sm",fw:500,children:s.timestamp?new Date(s.timestamp).toLocaleString("fa-IR"):"نامشخص"})]}),(0,a.jsxs)(sh.Z,{justify:"space-between",children:[(0,a.jsx)(se.x,{size:"sm",c:"dimmed",children:"درگاه پرداخت:"}),(0,a.jsx)(se.x,{size:"sm",fw:500,children:s.gateway||"نامشخص"})]}),(0,a.jsx)(sH.i,{})]})}),(null==d?void 0:d.payment)&&(0,a.jsx)(o$.Z,{w:"100%",bg:"blue.0",p:"md",radius:"sm",children:(0,a.jsxs)(sw.K,{gap:"sm",children:[(0,a.jsxs)(sh.Z,{justify:"space-between",align:"center",children:[(0,a.jsx)(se.x,{size:"sm",fw:500,c:"blue.8",children:"تایید:"}),(0,a.jsx)(sx.C,{size:"sm",color:"success"===h?"green":"pending"===h?"orange":"red",variant:"filled",children:(null==(e=d.status)?void 0:e.toUpperCase())||"UNKNOWN"})]}),(0,a.jsx)(sH.i,{}),(0,a.jsxs)(sh.Z,{justify:"space-between",children:[(0,a.jsx)(se.x,{size:"sm",c:"dimmed",children:"شماره سفارش:"}),(0,a.jsx)(se.x,{size:"sm",fw:500,style:{fontFamily:"monospace"},children:d.payment.order_id||"نامشخص"})]}),(0,a.jsxs)(sh.Z,{justify:"space-between",children:[(0,a.jsx)(se.x,{size:"sm",c:"dimmed",children:"مبلغ تایید شده:"}),(0,a.jsx)(se.x,{size:"sm",fw:600,c:"blue.8",children:d.payment.payment_amount?`${d.payment.payment_amount.toLocaleString()} \u{62A}\u{648}\u{645}\u{627}\u{646}`:"نامشخص"})]}),(0,a.jsxs)(sh.Z,{justify:"space-between",children:[(0,a.jsx)(se.x,{size:"sm",c:"dimmed",children:"وضعیت نهایی:"}),(0,a.jsx)(sx.C,{size:"sm",color:"success"===h?"green":"pending"===h?"orange":"red",variant:"filled",children:"success"===h?"پرداخت شده":"pending"===h?"در انتظار":"خطا"})]}),"success"===h&&d.wallet_update&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(sH.i,{}),(0,a.jsxs)(sh.Z,{justify:"space-between",children:[(0,a.jsx)(se.x,{size:"sm",c:"dimmed",children:"موجودی جدید:"}),(0,a.jsxs)(se.x,{size:"sm",fw:600,c:"green.8",children:[null==(t=d.wallet_update.new_balance)?void 0:t.toLocaleString()," تومان"]})]})]})]})}),u&&(0,a.jsx)(so.b,{icon:(0,a.jsx)(sb.IconAlertCircle,{size:16}),title:"خطا در تایید تراکنش",color:"red",radius:"md",w:"100%",children:u}),(0,a.jsx)(z.z,{variant:"filled",color:"success"===h?"green":"blue",size:"lg",leftSection:(0,a.jsx)(sb.IconArrowLeft,{size:20}),onClick:()=>i("/account/wallet"),mt:"md",children:"بازگشت به کیف پول"})]})}),(0,a.jsx)(N.X,{bg:"gray.0",p:"md",radius:"md",children:(0,a.jsx)(se.x,{size:"xs",ta:"center",c:"gray.6",children:"success"===h?"شارژ کیف پول با موفقیت انجام شد. موجودی جدید در حساب کاربری شما به‌روزرسانی شده است.":"pending"===h?"تراکنش شما در حال بررسی است. لطفاً چند دقیقه دیگر مجدداً بررسی کنید.":"در صورت بروز مشکل، با پشتیبانی تماس بگیرید."})})]})})},{})},{path:"/payment-info",element:(0,a.jsx)(()=>{var e,t;let r=(0,g.TH)(),i=(0,m.I0)(),[l,s]=(0,p.useState)(null),[n,o]=(0,p.useState)(!1),[d,c]=(0,p.useState)(!1),{gateway:u,sellerId:h,sellerData:x,orderTracking:b,paymentStatus:f,source:y}=r.state||{},j=(0,p.useMemo)(()=>u&&h?`${u}-${h}-${y||"default"}-${!!x}-${!!f}`:null,[u,h,y,!!x,!!f]);if((0,p.useEffect)(()=>{d||(i(en()),c(!0))},[i,d]),(0,p.useEffect)(()=>{(async()=>{if(j&&!n){if(x)return s(x);if(f&&"checkstatus"===y&&!x){o(!0);try{var e,t,r;let a=null==(t=f.order)||null==(e=t.sellers)?void 0:e.find(e=>e.seller.id===h);if(!a)return void o(!1);let i=(null==(r=f.orderItems)?void 0:r.filter(e=>e.supplier_id===h))||[],l=i.flatMap(e=>{var t;return(null==(t=e.product_id)?void 0:t.map(t=>{let r=null==t?void 0:t.productDetails;return r?{item:{name:r.name||r.title||"محصول نامشخص",title:r.title||r.name||"محصول نامشخص",image:r.image,images:r.images||[],attributes:r.attributes||[],priceWithVat:r.priceWithVat||{regularPriceWithVat:e.price,discountedPriceWithVat:e.discount_price||e.price},price:r.price||{regularPrice:e.price,discountedPrice:e.discount_price||e.price},seller:r.seller||{id:e.supplier_id,label:a.seller.label},productId:r.productId||t.id,combinationsID:r.combinationId||t.combinationId,seller_id:r.supplier_id||e.supplier_id,count:r.count||e.quantity,max:r.max||999999,min:r.min||1,orderId:r.orderId||e.order_id,sku:r.sku||"",stock:r.stock||0,rating:r.rating||0},quantity:e.quantity,itemPriceApply:e.totalPrice,orderId:e.order_id}:(console.warn("Missing productDetails for product:",t),{item:{name:`\u{645}\u{62D}\u{635}\u{648}\u{644} ${(null==t?void 0:t.id)||"نامشخص"}`,title:`\u{645}\u{62D}\u{635}\u{648}\u{644} ${(null==t?void 0:t.id)||"نامشخص"}`,image:null,images:[],attributes:[],priceWithVat:{regularPriceWithVat:e.price,discountedPriceWithVat:e.discount_price||e.price},price:{regularPrice:e.price,discountedPrice:e.discount_price||e.price},seller:{id:e.supplier_id,label:a.seller.label},productId:(null==t?void 0:t.id)||"unknown",combinationsID:(null==t?void 0:t.combinationId)||"unknown",seller_id:e.supplier_id,count:e.quantity,orderId:e.order_id},quantity:e.quantity,itemPriceApply:e.totalPrice,orderId:e.order_id})}))||[]}),n={seller:a.seller,vatRequested:a.vatRequested,vatLink:a.vatLink||"",isPaid:a.isPaid,paymentComment:a.paymentComment||"",priceApplyEachSeller:a.totalPrice,items:l,paymentMethod:a.paymentMethod,orderIds:i.map(e=>e.order_id)};s(n)}catch(e){}finally{o(!1)}}}})()},[j,f,x,h,y,n]),!u)return(0,a.jsx)(sN.r,{mt:"md",gutter:"lg",children:(0,a.jsx)(sD.$,{span:12,children:(0,a.jsx)(N.X,{p:"md",shadow:"xs",bg:"red.0",children:(0,a.jsx)(se.x,{c:"red.8",ta:"center",fw:"500",children:"خطا: روش پرداخت مشخص نشده است"})})})});if(!h)return(0,a.jsx)(sN.r,{mt:"md",gutter:"lg",children:(0,a.jsx)(sD.$,{span:12,children:(0,a.jsx)(N.X,{p:"md",shadow:"xs",bg:"red.0",children:(0,a.jsx)(se.x,{c:"red.8",ta:"center",fw:"500",children:"خطا: شناسه فروشنده مشخص نشده است"})})})});if(n||!l&&!x)return(0,a.jsx)(sN.r,{mt:"md",gutter:"lg",children:(0,a.jsx)(sD.$,{span:12,children:(0,a.jsx)(N.X,{p:"md",shadow:"xs",children:(0,a.jsxs)(sw.K,{align:"center",gap:"md",children:[(0,a.jsx)(A.a,{size:"md"}),(0,a.jsx)(se.x,{size:"sm",c:"gray",children:"در حال بارگذاری اطلاعات پرداخت..."}),!1]})})})});let v=l||x;if(!v)return(0,a.jsxs)(N.X,{p:"md",bg:"red.0",children:[(0,a.jsx)(se.x,{c:"red.8",ta:"center",fw:"500",children:"خطا: اطلاعات فروشنده یافت نشد"}),!1]});let C="online"===u.paymentMethod||(null==(e=v.paymentMethod)?void 0:e.paymentMethod)==="online",w="cod"===u.paymentMethod||(null==(t=v.paymentMethod)?void 0:t.paymentMethod)==="cod";return C?(0,a.jsx)(up,{paymentData:v,gateway:u,orderTracking:b,paymentStatus:f,source:y}):w?(0,a.jsx)(uh,{paymentData:v,gateway:u,orderTracking:b,paymentStatus:f,source:y}):(0,a.jsx)(sN.r,{mt:"md",gutter:"lg",children:(0,a.jsx)(sD.$,{span:12,children:(0,a.jsx)(N.X,{p:"md",shadow:"xs",bg:"yellow.0",children:(0,a.jsxs)(se.x,{c:"yellow.8",ta:"center",fw:"500",children:["روش پرداخت نامشخص: ",u]})})})})},{})},{path:"/payment-info-online",element:(0,a.jsx)(up,{})},{path:"/payment-info-online-wallet",element:(0,a.jsx)(e=>{var t,r,i;let{depositData:l,gateway:s}=e,n=(0,g.s0)(),o=(0,m.I0)(),d=(0,g.TH)(),c=l||(null==(t=d.state)?void 0:t.depositData),u=s||(null==(r=d.state)?void 0:r.gateway),{walletPaymentLink:h,loadingWalletPaymentLink:x,errorWalletPaymentLink:b}=(0,m.v9)(e=>e.getPaymentLinkWallet),[f,y]=(0,p.useState)(5),j=(0,p.useMemo)(()=>d.state||{},[d.state]),v=(0,p.useMemo)(()=>c?JSON.stringify({amount:c.amount,userId:c.user_id||c.userId,description:c.description}):"",[c]),C=(0,p.useMemo)(()=>{if(c){let e=c.amount||0;return{amount:e,userId:c.user_id||c.userId||j.user_id,description:c.description||"شارژ کیف پول",depositId:`deposit_${Date.now()}`}}return null},[v,j]);if(!C)return(0,a.jsx)(I.W,{size:"sm",py:"xl",children:(0,a.jsx)(o$.Z,{shadow:"sm",padding:"xl",radius:"md",withBorder:!0,children:(0,a.jsxs)(sw.K,{align:"center",gap:"lg",children:[(0,a.jsx)(se.x,{size:"lg",fw:"500",children:"در حال بارگذاری اطلاعات پرداخت..."}),(0,a.jsx)("div",{style:{fontSize:"14px",color:"#666",marginTop:"10px"},children:(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Has DepositData:"})," ",l?"Yes":"No"]})})]})})});let{amount:w,userId:k,description:S,depositId:F}=C,M=(0,p.useMemo)(()=>({amount:w,userId:k,description:S,depositId:F}),[w,k,S,F]);(0,p.useEffect)(()=>{C&&o(ia({depositData:M,gateway:u}))},[o,M,C,u]),(0,p.useEffect)(()=>{if(null==h?void 0:h.link_url){let e=setInterval(()=>{y(t=>{if(1===t){clearInterval(e);let t=h.link_url;if(t.includes("fake-gateway")||"fake"===u){let e=new URLSearchParams;if(h.body){let t=h.body;Object.keys(t).forEach(r=>{"object"==typeof t[r]?e.append(r,JSON.stringify(t[r])):e.append(r,t[r])})}e.append("link_id",h.link_id);let r=`${t}?${e.toString()}`;window.location.href=r}else try{let e=document.createElement("form");if(e.method="POST",e.action=h.link_url,e.style.display="none",e.target="_self",h.body){let t=h.body;Object.keys(t).forEach(r=>{let a=document.createElement("input");a.type="hidden",a.name=r,a.value="object"==typeof t[r]?JSON.stringify(t[r]):t[r],e.appendChild(a)})}document.body.appendChild(e),e.submit(),setTimeout(()=>{document.body.contains(e)&&document.body.removeChild(e)},1e3)}catch(e){console.error("Error submitting wallet payment form:",e),window.location.href=h.link_url}}return t-1})},1e3);return()=>clearInterval(e)}},[h,n,M,w,k,S,u]);let T=(0,p.useCallback)(()=>{let e=null==h?void 0:h.link_url;if(e)if(e.includes("fake-gateway")||"fake"===u){let t=new URLSearchParams;if(h.body){let e=h.body;Object.keys(e).forEach(r=>{"object"==typeof e[r]?t.append(r,JSON.stringify(e[r])):t.append(r,e[r])})}t.append("link_id",h.link_id);let r=`${e}?${t.toString()}`;window.location.href=r}else try{let t=document.createElement("form");if(t.method="POST",t.action=e,t.style.display="none",t.target="_self",h.body){let e=h.body;Object.keys(e).forEach(r=>{let a=document.createElement("input");a.type="hidden",a.name=r,a.value="object"==typeof e[r]?JSON.stringify(e[r]):e[r],t.appendChild(a)})}document.body.appendChild(t),t.submit(),setTimeout(()=>{document.body.contains(t)&&document.body.removeChild(t)},1e3)}catch(t){console.error("Error submitting form:",t),window.location.href=e}},[h,u]);return(0,a.jsx)(I.W,{size:"sm",py:"xl",children:(0,a.jsxs)(sw.K,{gap:"xl",children:[(0,a.jsx)(o$.Z,{shadow:"sm",padding:"xl",radius:"lg",withBorder:!0,children:(0,a.jsxs)(sw.K,{align:"center",gap:"md",children:[(0,a.jsx)(sZ.k,{size:60,radius:"xl",color:"blue",variant:"light",children:(0,a.jsx)(sb.IconCreditCard,{size:32})}),(0,a.jsx)(D.D,{order:2,ta:"center",fw:600,c:"dark.7",children:"انتقال به درگاه شارژ کیف پول"}),(0,a.jsx)(se.x,{ta:"center",c:"dimmed",size:"md",children:"لطفاً منتظر بمانید تا به درگاه پرداخت منتقل شوید"}),(0,a.jsx)(sx.C,{size:"lg",variant:"light",color:"green",leftSection:(0,a.jsx)(sb.IconClock,{size:14}),children:"پردازش خودکار"})]})}),(0,a.jsx)(o$.Z,{shadow:"sm",padding:"xl",radius:"lg",withBorder:!0,children:(0,a.jsxs)(sw.K,{gap:"lg",children:[(0,a.jsx)(D.D,{order:4,c:"gray.7",mb:"md",children:"جزئیات شارژ کیف پول:"}),(0,a.jsx)(sH.i,{}),(0,a.jsxs)(sh.Z,{justify:"space-between",align:"center",children:[(0,a.jsx)(se.x,{size:"sm",c:"dimmed",children:"توضیحات:"}),(0,a.jsx)(se.x,{size:"sm",fw:500,children:S})]}),(0,a.jsxs)(sh.Z,{justify:"space-between",align:"center",children:[(0,a.jsx)(se.x,{size:"sm",c:"dimmed",children:"شناسه کاربر:"}),(0,a.jsx)(se.x,{size:"sm",fw:500,children:k||"نامشخص"})]}),(null==h||null==(i=h.transaction)?void 0:i.transactionId)&&(0,a.jsxs)(sh.Z,{justify:"space-between",align:"center",children:[(0,a.jsx)(se.x,{size:"sm",c:"dimmed",children:"شناسه تراکنش:"}),(0,a.jsx)(se.x,{size:"sm",fw:500,c:"blue",children:h.transaction.transactionId})]}),(0,a.jsx)(sH.i,{}),(0,a.jsx)(N.X,{bg:"green.0",p:"lg",radius:"sm",children:(0,a.jsxs)(l9.k,{direction:"row",justify:"space-between",align:"center",children:[(0,a.jsx)(se.x,{size:"lg",c:"gray.8",fw:"500",children:"مبلغ شارژ:"}),(0,a.jsxs)(se.x,{size:"xl",fw:"700",c:"green.8",children:[Number(w||0).toLocaleString()," تومان"]})]})})]})}),(null==h?void 0:h.link_url)&&(0,a.jsx)(o$.Z,{shadow:"sm",padding:"xl",radius:"lg",withBorder:!0,bg:"orange.0",children:(0,a.jsxs)(sw.K,{gap:"md",align:"center",children:[(0,a.jsxs)(sh.Z,{gap:"xs",align:"center",children:[(0,a.jsx)(sb.IconClock,{size:16}),(0,a.jsx)(se.x,{size:"sm",fw:500,children:"انتقال خودکار پس از"}),(0,a.jsx)(se.x,{size:"xl",fw:700,c:"blue",children:f}),(0,a.jsx)(se.x,{size:"sm",fw:500,children:"ثانیه"})]}),(0,a.jsx)(mK.E,{value:(5-f)/5*100,size:"lg",radius:"xl",color:"blue",animated:!0,style:{width:"100%"}}),(0,a.jsx)(se.x,{size:"sm",c:"gray.6",ta:"center",children:"لطفاً صبر کنید تا به درگاه پرداخت منتقل شوید"})]})}),(null==h?void 0:h.link_url)&&(0,a.jsx)(o$.Z,{shadow:"sm",padding:"md",radius:"lg",withBorder:!0,bg:"gray.0",children:(0,a.jsxs)(sh.Z,{justify:"center",children:[(0,a.jsx)(se.x,{size:"sm",c:"dimmed",children:"نمی‌خواهید منتظر بمانید؟"}),(0,a.jsx)(z.z,{variant:"subtle",size:"sm",rightSection:(0,a.jsx)(sb.IconArrowRight,{size:14}),onClick:T,children:"انتقال فوری"})]})}),x&&(0,a.jsx)(si.M,{mt:"lg",children:(0,a.jsxs)(sw.K,{align:"center",gap:"sm",children:[(0,a.jsx)(A.a,{size:"md"}),(0,a.jsx)(se.x,{size:"sm",c:"gray",children:"در حال آماده‌سازی درگاه پرداخت..."})]})}),b&&(0,a.jsxs)(so.b,{icon:(0,a.jsx)(sb.IconAlertCircle,{size:16}),title:"خطا در دریافت لینک پرداخت",color:"red",radius:"md",children:[(0,a.jsxs)(se.x,{children:["خطا در دریافت لینک پرداخت: ",b]}),(0,a.jsx)(z.z,{variant:"light",color:"red",size:"sm",mt:"md",onClick:()=>window.location.reload(),children:"تلاش مجدد"})]}),!(null==h?void 0:h.link_url)&&!x&&!b&&(0,a.jsx)(N.X,{p:"md",bg:"yellow.0",mt:"lg",children:(0,a.jsx)(se.x,{c:"yellow.8",size:"sm",ta:"center",fw:"500",children:"در حال بررسی اطلاعات پرداخت..."})}),(0,a.jsx)(N.X,{bg:"blue.0",p:"md",radius:"md",children:(0,a.jsx)(se.x,{size:"xs",ta:"center",c:"blue.7",children:"\uD83D\uDD12 شارژ کیف پول شما در یک محیط امن انجام می‌شود"})})]})})},{})},{path:"/fake-gateway-wallet",element:(0,a.jsx)(()=>{var e;let t=(0,g.TH)(),[r]=(0,g.lr)(),[i,l]=(0,p.useState)(5),[s,n]=(0,p.useState)({}),[o,d]=(0,p.useState)(!1),[c,u]=(0,p.useState)(!0),[m,h]=(0,p.useState)(!1);(0,p.useEffect)(()=>{let e={};for(let[t,a]of r.entries())e[t]=a;t.state&&Object.assign(e,t.state);let a=e.link_id||r.get("link_id"),i=e.amount||r.get("amount"),l=e.user_id||r.get("user_id");n({...e,link_id:a,amount:i,user_id:l}),setTimeout(()=>{u(!1)},2e3)},[t,r]);let x=async e=>{d(!0);try{let t=s.link_id||r.get("link_id"),a=s.transactionId,i={status:"success"===e?"OK":"FAILED",body:{link_id:t,transaction_id:a,amount:s.amount||"0",user_id:s.user_id||"",timestamp:new Date().toISOString(),gateway:"fake_gateway_wallet",payment_method:"wallet_deposit",..."failed"===e&&{error_message:"Wallet payment was cancelled by user",error_code:"USER_CANCELLED_WALLET"}}},l=new URLSearchParams({data:JSON.stringify(i)}).toString(),n=`${window.location.origin}/payment-statuscheck-wallet?${l}`;window.location.href=n}catch(e){console.error("Error sending wallet payment result:",e),d(!1),h(!0)}};return((0,p.useEffect)(()=>{if(!c&&(s.link_id||r.get("link_id"))){let e=setInterval(()=>{l(t=>(1===t&&(x("success"),clearInterval(e)),t-1))},1e3);return()=>clearInterval(e)}},[c,s,r]),c)?(0,a.jsx)(I.W,{size:"sm",py:"xl",children:(0,a.jsx)(o$.Z,{shadow:"lg",padding:"xl",radius:"lg",withBorder:!0,children:(0,a.jsxs)(sw.K,{align:"center",gap:"xl",children:[(0,a.jsx)(sZ.k,{size:80,radius:"xl",color:"blue",variant:"light",children:(0,a.jsx)(sb.IconCreditCard,{size:40})}),(0,a.jsx)(D.D,{order:2,ta:"center",fw:600,children:"درگاه پرداخت کیف پول"}),(0,a.jsx)(N.X,{bg:"blue.0",p:"lg",radius:"md",w:"100%",children:(0,a.jsxs)(sw.K,{align:"center",gap:"md",children:[(0,a.jsx)(A.a,{size:"lg",color:"blue"}),(0,a.jsx)(se.x,{size:"lg",fw:500,ta:"center",children:"در حال پردازش شارژ کیف پول..."}),(0,a.jsx)(se.x,{size:"sm",c:"dimmed",ta:"center",children:"لطفاً منتظر بمانید"})]})}),(0,a.jsx)(N.X,{bg:"gray.0",p:"md",radius:"md",w:"100%",children:(0,a.jsxs)(sh.Z,{justify:"center",gap:"xs",children:[(0,a.jsx)(sb.IconShield,{size:16}),(0,a.jsx)(se.x,{size:"xs",c:"dimmed",children:"محیط امن پرداخت کیف پول"})]})})]})})}):m?(0,a.jsx)(I.W,{size:"sm",py:"xl",children:(0,a.jsx)(so.b,{icon:(0,a.jsx)(sb.IconAlertCircle,{size:20}),title:"خطا در پردازش شارژ کیف پول",color:"red",radius:"lg",variant:"light",children:(0,a.jsxs)(sw.K,{gap:"md",children:[(0,a.jsx)(se.x,{children:"متاسفانه در پردازش شارژ کیف پول خطایی رخ داده است"}),(0,a.jsx)(z.z,{variant:"light",color:"red",onClick:()=>window.history.back(),leftSection:(0,a.jsx)(sb.IconHome,{size:16}),children:"بازگشت به کیف پول"})]})})}):(0,a.jsx)(I.W,{size:"sm",py:"xl",children:(0,a.jsxs)(sw.K,{gap:"xl",children:[(0,a.jsx)(o$.Z,{shadow:"lg",padding:"xl",radius:"lg",withBorder:!0,bg:"gradient-to-r from-green-500 to-green-600",children:(0,a.jsxs)(sw.K,{align:"center",gap:"md",children:[(0,a.jsx)(sZ.k,{size:60,radius:"xl",color:"white",variant:"filled",children:(0,a.jsx)(sb.IconCreditCard,{size:32})}),(0,a.jsx)(D.D,{order:2,ta:"center",fw:600,c:"white",children:"درگاه شارژ کیف پول"}),(0,a.jsx)(se.x,{ta:"center",c:"white",opacity:.9,children:"سیستم پرداخت الکترونیک کیف پول"})]})}),s.link_id&&(0,a.jsx)(o$.Z,{shadow:"sm",padding:"lg",radius:"lg",withBorder:!0,children:(0,a.jsxs)(sw.K,{gap:"sm",children:[(0,a.jsx)(se.x,{size:"sm",c:"gray.7",fw:"500",children:"جزئیات شارژ کیف پول:"}),s.user_id&&(0,a.jsxs)(sh.Z,{justify:"space-between",children:[(0,a.jsx)(se.x,{size:"xs",c:"dimmed",children:"شناسه کاربر:"}),(0,a.jsx)(se.x,{size:"xs",children:s.user_id})]}),s.link_id&&(0,a.jsxs)(sh.Z,{justify:"space-between",children:[(0,a.jsx)(se.x,{size:"xs",c:"dimmed",children:"شناسه تراکنش:"}),(0,a.jsx)(se.x,{size:"xs",children:s.link_id.slice(-8).toUpperCase()})]}),s.amount&&(0,a.jsxs)(sh.Z,{justify:"space-between",children:[(0,a.jsx)(se.x,{size:"sm",fw:"500",c:"green.8",children:"مبلغ شارژ:"}),(0,a.jsxs)(se.x,{size:"sm",fw:"600",c:"green.8",children:[null==(e=parseInt(s.amount))?void 0:e.toLocaleString()," تومان"]})]})]})}),o?(0,a.jsxs)(sw.K,{align:"center",gap:"sm",children:[(0,a.jsx)(A.a,{size:"md",color:"green"}),(0,a.jsx)(se.x,{size:"sm",c:"green",children:"در حال ارسال نتیجه به سیستم کیف پول..."})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(N.X,{bg:"blue.0",p:"lg",radius:"md",children:(0,a.jsxs)(sw.K,{gap:"md",align:"center",children:[(0,a.jsxs)(sh.Z,{gap:"xs",align:"center",children:[(0,a.jsx)(sb.IconClock,{size:16}),(0,a.jsx)(se.x,{size:"sm",fw:500,children:"تأیید خودکار پس از"}),(0,a.jsx)(se.x,{size:"xl",fw:700,c:"blue",children:i}),(0,a.jsx)(se.x,{size:"sm",fw:500,children:"ثانیه"})]}),(0,a.jsx)(mK.E,{value:(5-i)/5*100,size:"lg",radius:"xl",color:"blue",animated:!0,style:{width:"100%"}}),(0,a.jsx)(se.x,{size:"xs",ta:"center",c:"dimmed",children:"نتیجه به سیستم کیف پول ارسال می‌شود"})]})}),(0,a.jsxs)(sw.K,{gap:"sm",children:[(0,a.jsx)(z.z,{onClick:()=>{x("success")},variant:"filled",color:"green",size:"md",leftSection:(0,a.jsx)(sb.IconCheck,{size:16}),children:"تأیید شارژ کیف پول (موفق)"}),(0,a.jsx)(z.z,{onClick:()=>{x("failed")},variant:"filled",color:"red",size:"md",leftSection:(0,a.jsx)(sb.IconAlertCircle,{size:16}),children:"لغو شارژ کیف پول (ناموفق)"})]})]}),!1,(0,a.jsx)(N.X,{p:"sm",bg:"gray.0",radius:"sm",children:(0,a.jsx)(se.x,{size:"xs",c:"gray.6",ta:"center",children:"این شبیه‌ساز درگاه خارجی کیف پول است که نتیجه شارژ را به سیستم شما ارسال می‌کند."})}),(0,a.jsx)(N.X,{bg:"gray.0",p:"md",radius:"md",children:(0,a.jsxs)(sh.Z,{justify:"center",gap:"xs",children:[(0,a.jsx)(sb.IconShield,{size:16,color:"green"}),(0,a.jsx)(se.x,{size:"xs",ta:"center",c:"dimmed",children:"این تراکنش در یک محیط کاملاً امن انجام شده است"})]})})]})})},{})},{path:"payment-info-cod",element:(0,a.jsx)(uh,{})},{path:"fake-gateway",element:(0,a.jsx)(()=>{var e;let t=(0,g.TH)(),[r]=(0,g.lr)(),[i,l]=(0,p.useState)(5),[s,n]=(0,p.useState)({}),[o,d]=(0,p.useState)(!1);(0,p.useEffect)(()=>{let e={};for(let[t,a]of r.entries())e[t]=a;t.state&&Object.assign(e,t.state);let a=e.user_id||r.get("user_id"),i=e.order_id||r.get("order_id"),l=e.amount_to_pay||r.get("amount_to_pay"),s=i||e.orderId||r.get("orderId"),o=l||e.amount||r.get("amount"),d=e.sellerId||r.get("sellerId");n({...e,user_id:a,order_id:i,amount_to_pay:l,receiptId:s,amountToPay:o,sellerId:d})},[t,r]);let c=async e=>{d(!0);try{let t=s.order_id||s.receiptId||r.get("order_id"),a={status:"success"===e?"OK":"FAILED",body:{order_id:t,transaction_id:`txn_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,amount:s.amount_to_pay||s.amountToPay||"0",user_id:s.user_id||"",sellerId:s.sellerId||"",timestamp:new Date().toISOString(),gateway:"fake_gateway",payment_method:"online",..."failed"===e&&{error_message:"Payment was cancelled by user",error_code:"USER_CANCELLED"}}},i=new URLSearchParams({paymentData:JSON.stringify(a)}).toString(),l=`${window.location.origin}/payment-statuscheck?${i}`;window.location.href=l}catch(e){console.error("Error sending payment result:",e),d(!1)}};return(0,p.useEffect)(()=>{if(s.order_id||s.receiptId||r.get("order_id")){let e=setInterval(()=>{l(t=>(1===t&&(c("success"),clearInterval(e)),t-1))},1e3);return()=>clearInterval(e)}},[s,r]),(0,a.jsx)(N.X,{padding:"md",shadow:"xs",radius:"md",style:{backgroundColor:"#f8f9fa"},children:(0,a.jsxs)(sw.K,{spacing:"lg",children:[(0,a.jsx)(se.x,{size:"xl",fw:"600",ta:"center",c:"blue.8",children:"درگاه پرداخت شبیه‌ساز"}),(0,a.jsx)(se.x,{size:"sm",ta:"center",c:"gray.6",children:"\uD83C\uDF10 این یک درگاه خارجی است (خارج از وب‌سایت شما)"}),(s.order_id||s.receiptId||r.get("order_id"))&&(0,a.jsx)(N.X,{p:"md",bg:"blue.0",radius:"sm",children:(0,a.jsxs)(sw.K,{spacing:"sm",children:[(0,a.jsx)(se.x,{size:"sm",c:"gray.7",fw:"500",children:"جزئیات پرداخت:"}),s.user_id&&(0,a.jsxs)(se.x,{size:"xs",children:["شناسه کاربر: ",s.user_id]}),(s.order_id||s.receiptId)&&(0,a.jsxs)(se.x,{size:"xs",children:["شماره سفارش: ",s.order_id||s.receiptId]}),s.sellerId&&(0,a.jsxs)(se.x,{size:"xs",children:["شناسه فروشنده: ",s.sellerId]}),(s.amount_to_pay||s.amountToPay)&&(0,a.jsxs)(se.x,{size:"sm",fw:"500",c:"green.8",children:["مبلغ قابل پرداخت: ",null==(e=parseInt(s.amount_to_pay||s.amountToPay))?void 0:e.toLocaleString()," تومان"]})]})}),!1,o?(0,a.jsxs)(sw.K,{align:"center",spacing:"sm",children:[(0,a.jsx)(A.a,{size:"md",color:"green"}),(0,a.jsx)(se.x,{size:"sm",c:"green",children:"در حال ارسال نتیجه به وب‌سایت..."})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(sw.K,{align:"center",spacing:"sm",children:[(0,a.jsx)(A.a,{size:"md",color:"blue"}),(0,a.jsx)(se.x,{size:"sm",c:"gray",children:"در حال پردازش پرداخت..."}),(0,a.jsxs)(se.x,{ta:"center",size:"sm",c:"blue.6",children:["پس از ",i," ثانیه نتیجه پرداخت به وب‌سایت ارسال می‌شود."]})]}),(0,a.jsxs)(sw.K,{spacing:"sm",children:[(0,a.jsx)(z.z,{onClick:()=>{c("success")},variant:"filled",color:"green",size:"md",children:"✓ تایید پرداخت (موفق)"}),(0,a.jsx)(z.z,{onClick:()=>{c("failed")},variant:"filled",color:"red",size:"md",children:"✗ لغو پرداخت (ناموفق)"})]})]}),(0,a.jsx)(N.X,{p:"sm",bg:"gray.0",radius:"sm",children:(0,a.jsx)(se.x,{size:"xs",c:"gray.6",ta:"center",children:"این شبیه‌ساز درگاه خارجی است که نتیجه پرداخت را به وب‌سایت شما ارسال می‌کند."})})]})})},{})},{path:"/compare/:category",element:(0,a.jsx)(function(){var e;let{category:t}=(0,g.UO)(),r=(null==(e=(0,m.v9)(e=>e.compare.items).find(e=>e.category===t))?void 0:e.items)||[],[i,l]=(0,p.useState)(!1),s=(0,m.I0)(),{compareListData:n,loadingCompareList:o,errorCompareList:d}=(0,m.v9)(e=>e.getCompareList);return((0,p.useEffect)(()=>{r.length>0?s(a3({itemIds:r})):(s(iZ({category:t})),s(a8()))},[s,r.length]),o)?(0,a.jsx)(nC,{showR:!0}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l9.k,{justify:"center",mb:"lg",mt:"lg",children:(0,a.jsx)(z.z,{size:"lg",onClick:()=>l(!0),children:"افزودن یا حذف محصول"})}),(0,a.jsx)(sp.u,{opened:i,onClose:()=>l(!1),fullScreen:!0,title:"افزودن محصول جدید",children:(0,a.jsx)(dm,{enabled:i,slug:`${t}`,url:`/category/${t}`,onSelectProduct:e=>{if(l(!1),r.includes(e))s(iR({category:t,id:e})),h.N9.show({color:"red",message:"محصول از مقایسه حذف شد",position:"bottom-left"});else{if(r.length>=4)return void h.N9.show({color:"yellow",message:"حداکثر ۴ محصول را می‌توانید مقایسه کنید",position:"bottom-left"});if(r.length>=4)return void h.N9.show({title:"حداکثر تعداد انتخاب‌ها",message:"شما فقط می‌توانید 4 محصول را برای مقایسه انتخاب کنید.",color:"red"});s(iO({category:t,id:e})),h.N9.show({message:"محصول به مقایسه اضافه شد",position:"bottom-left"})}}})}),(0,a.jsx)(nq,{children:"مقایسه محصولات"}),(null==n?void 0:n.length)?(0,a.jsx)(N.X,{mt:"xl",px:"xl",children:(0,a.jsx)(sG.x,{type:"auto",children:(0,a.jsxs)(oW.i,{striped:!0,withRowBorders:!1,verticalSpacing:"sm",children:[(0,a.jsx)(oW.i.Thead,{children:(0,a.jsxs)(oW.i.Tr,{children:[(0,a.jsx)(oW.i.Th,{miw:150,children:"ویژگی‌ها"}),n.map((e,t)=>(0,a.jsx)(oW.i.Th,{miw:200,maw:200,children:(0,a.jsx)(se.x,{size:"sm",component:g.OL,to:`/product/${e.id||"#"}`,children:e.general.title})},t))]})}),(0,a.jsxs)(oW.i.Tbody,{children:[(0,a.jsxs)(oW.i.Tr,{children:[(0,a.jsx)(oW.i.Td,{children:"تصویر"}),n.map((e,t)=>{let r=(e=>{if(!e)return null;if("string"==typeof e)return""===e.trim()?null:e;if(Array.isArray(e)){let t=e.filter(e=>e&&"string"==typeof e&&""!==e.trim());return t.length>0?t[0]:null}return null})(e.general.images);return(0,a.jsx)(oW.i.Td,{children:(0,a.jsx)(T.e,{underline:"never",component:g.OL,to:`/product/${e.id||"#"}`,children:r?(0,a.jsx)(sl.E,{src:r,w:200,h:200,fit:"contain",fallbackSrc:"data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAwIDIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8IS0tIEJhY2tncm91bmQgLS0+CiAgPHJlY3Qgd2lkdGg9IjIwMCIgaGVpZ2h0PSIyMDAiIGZpbGw9IiNmOGY5ZmEiIHN0cm9rZT0iI2RlZTJlNiIgc3Ryb2tlLXdpZHRoPSIyIi8+CiAgCiAgPCEtLSBNb3VudGFpbiBzaWxob3VldHRlIC0tPgogIDxwYXRoIGQ9Ik0wIDE0MCBMNDAGMTAWIEL4MCKXAXL4TDEYMUMKWHMCSMWMMEWEMKCXMXKMAKXMDAGMTXYMJMMMJBMMSB6IiAKICAgICAgICBmaWxsPSIjZTllY2VmIiBvcGFjaXR5PSIwLjYiLz4KICA8IS0tIFN1bi9Nb29uIGNpcmNsZSAtLT4KICA8Y2lyY2xlIGN4PSIxNTAiIGN5PSI2MCIgcj0iMjAiIGZpbGw9IiNmZmQ0M2IiIG9wYWNpdHk9IjAuNyIvPgogIAogIDwhLS0gQ2FtZXJhIGljb24gaW4gY2VudGVyIC0tPgogIDxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEwMCwgMTAwKSI+CiAgICA8IS0tIENhbWVyYSBib2R5IC0tPgogICAgPHJlY3QgeD0iLTI1IiB5PSItMTUiIHdpZHRoPSI1MCIgaGVpZ2h0PSIzMCIgcng9IjQiIGZpbGw9IiM4NjhlOTYiLz4KICAgICAgPCEtLSBDYW1lcmEgbGVucyAtLT4KICAgIDxjaXJjbGUgY3g9IjAiIGN5PSIwIiByPSIxMiIgZmlsbD0iIzQ5NTA1NyIvPgogICAgPGNpcmNsZSBjeD0iMCIgY3k9IjAiIHI9IjgiIGZpbGw9IiM2Yzc1N2QiLz4KICAgIDxjaXJjbGUgY3g9IjAiIGN5PSIwIiByPSI0IiBmaWxsPSIjODY4ZTk2Ii8+CiAgICA8IS0tIENhbWVyYSBmbGFzaCAtLT4KICAgIDxyZWN0IHg9Ii0yMCIgeT0iLTEyIiB3aWR0aD0iOCIgaGVpZ2h0PSI2IiByeD0iMiIgZmlsbD0iI2FkYjViZCIvPgogICAgPCEtLSBDYW1lcmEgdmlld2ZpbmRlciAtLT4KICAgIDxyZWN0IHg9IjE1IiB5PSItMTgiIHdpZHRoPSI4IiBoZWlnaHQ9IjQiIHJ4PSIxIiBmaWxsPSIjNDk1MDU3Ii8+CiAgPC9nPgogIDwhLS0gT3B0aW9uYWwgdGV4dCAtLT4KICA8dGV4dCB4PSIxMDAiIHk9IjE3MCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1mYW1pbHk9IkFyaWFsLCBzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBmaWxsPSIjNmM3NTdkIiBvcGFjaXR5PSIwLjgiPiq2o9i12YjbjNixINmF2YjYrNmI2K8g2YbbjNiz2Ko8L3RleHQ+Cjwvc3ZnPg==",onError:e=>{e.target.src="data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='200' height='200' fill='%23f8f9fa' stroke='%23dee2e6' stroke-width='2'/%3E%3Cpath d='M0 140 L40 100 L80 120 L120 80 L160 100 L200 60 L200 200 L0 200 Z' fill='%23e9ecef' opacity='0.6'/%3E%3Ccircle cx='150' cy='60' r='20' fill='%23ffd43b' opacity='0.7'/%3E%3Cg transform='translate(100, 100)'%3E%3Crect x='-25' y='-15' width='50' height='30' rx='4' fill='%23868e96'/%3E%3Ccircle cx='0' cy='0' r='12' fill='%23495057'/%3E%3Ccircle cx='0' cy='0' r='8' fill='%236c757d'/%3E%3Ccircle cx='0' cy='0' r='4' fill='%23868e96'/%3E%3Crect x='-20' y='-12' width='8' height='6' rx='2' fill='%23adb5bd'/%3E%3Crect x='15' y='-18' width='8' height='4' rx='1' fill='%23495057'/%3E%3C/g%3E%3Ctext x='100' y='170' text-anchor='middle' font-family='Arial, sans-serif' font-size='12' fill='%236c757d' opacity='0.8'%3Eتصویر موجود نیست%3C/text%3E%3C/svg%3E"},alt:e.general.title||"تصویر محصول"}):(0,a.jsx)("div",{style:{width:200,height:200,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#f8f9fa",border:"2px solid #dee2e6",borderRadius:"4px"},children:(0,a.jsxs)("svg",{width:"200",height:"200",viewBox:"0 0 200 200",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("rect",{width:"200",height:"200",fill:"#f8f9fa",stroke:"#dee2e6",strokeWidth:"2"}),(0,a.jsx)("path",{d:"M0 140 L40 100 L80 120 L120 80 L160 100 L200 60 L200 200 L0 200 Z",fill:"#e9ecef",opacity:"0.6"}),(0,a.jsx)("circle",{cx:"150",cy:"60",r:"20",fill:"#ffd43b",opacity:"0.7"}),(0,a.jsxs)("g",{transform:"translate(100, 100)",children:[(0,a.jsx)("rect",{x:"-25",y:"-15",width:"50",height:"30",rx:"4",fill:"#868e96"}),(0,a.jsx)("circle",{cx:"0",cy:"0",r:"12",fill:"#495057"}),(0,a.jsx)("circle",{cx:"0",cy:"0",r:"8",fill:"#6c757d"}),(0,a.jsx)("circle",{cx:"0",cy:"0",r:"4",fill:"#868e96"}),(0,a.jsx)("rect",{x:"-20",y:"-12",width:"8",height:"6",rx:"2",fill:"#adb5bd"}),(0,a.jsx)("rect",{x:"15",y:"-18",width:"8",height:"4",rx:"1",fill:"#495057"})]}),(0,a.jsx)("text",{x:"100",y:"170",textAnchor:"middle",fontFamily:"Arial, sans-serif",fontSize:"12",fill:"#6c757d",opacity:"0.8",children:"تصویر موجود نیست"})]})})})},t)})]}),(0,a.jsxs)(oW.i.Tr,{children:[(0,a.jsx)(oW.i.Td,{children:"فروشنده‌ها"}),n.map((e,t)=>{var r,i;let l=null==(i=e.combinations)||null==(r=i.flatMap(e=>e.suppliers||[]))?void 0:r.filter((e,t,r)=>t===r.findIndex(t=>t.id===e.id));return(0,a.jsx)(oW.i.Td,{children:(null==l?void 0:l.length)?l.map((e,t)=>(0,a.jsx)(se.x,{size:"sm",children:e.name},t)):(0,a.jsx)(se.x,{size:"sm",c:"dimmed",children:"ندارد"})},t)})]}),(0,a.jsxs)(oW.i.Tr,{children:[(0,a.jsx)(oW.i.Td,{children:"قیمت"}),n.map((e,t)=>{var r,i;let l=null==(i=e.combinations)||null==(r=i.flatMap(e=>e.suppliers||[]))?void 0:r.filter((e,t,r)=>t===r.findIndex(t=>t.id===e.id));return(0,a.jsx)(oW.i.Td,{children:(null==l?void 0:l.length)?l.map((e,t)=>{let r=e.price;return(0,a.jsxs)(l9.k,{direction:"column",gap:4,children:[(0,a.jsx)(se.x,{size:"xs",c:"red",children:e.name}),r?r.discountedPrice&&r.discountedPrice<r.regularPrice?(0,a.jsxs)(l9.k,{gap:"xs",wrap:"wrap",children:[(0,a.jsx)(se.x,{size:"sm",c:"gray",style:{textDecoration:"line-through"},children:(0,a.jsx)(s7.e,{thousandSeparator:!0,value:r.regularPrice})}),(0,a.jsxs)(se.x,{size:"sm",children:[(0,a.jsx)(s7.e,{thousandSeparator:!0,value:r.discountedPrice})," تومان"]})]}):(0,a.jsxs)(se.x,{size:"sm",children:[(0,a.jsx)(s7.e,{thousandSeparator:!0,value:r.regularPrice})," تومان"]}):(0,a.jsx)(se.x,{size:"sm",c:"dimmed",children:"قیمت ناموجود"})]},t)}):(0,a.jsx)(se.x,{size:"sm",c:"dimmed",children:"ندارد"})},t)})]}),(0,a.jsxs)(oW.i.Tr,{children:[(0,a.jsx)(oW.i.Td,{children:"مشاهده محصول"}),n.map((e,t)=>(0,a.jsx)(oW.i.Td,{children:(0,a.jsx)(z.z,{radius:999,component:g.OL,to:`/product/${e.id||"#"}`,children:"مشاهده"})},t))]})]})]})})}):(0,a.jsx)(s5,{mt:"lg",shadow:"0",bg:"transparent",back:!1,children:"محصولی برای مقایسه وجود ندارد"})]})},{})},{path:"/page/:slug",element:(0,a.jsx)(function(){let{slug:e}=(0,g.UO)(),[t,r]=(0,p.useState)(""),i=(0,m.I0)();return(0,p.useEffect)(()=>{let t=async()=>{i(W());try{let t=localStorage.getItem("user"),a=await fetch(et("/page"),{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify({slug:e})}),i=await a.json();a.ok?r(i.data||""):console.error("Failed to load page:",i)}catch(e){console.error("Error fetching page:",e)}finally{i(W())}};e&&t()},[e,i]),(0,a.jsx)("div",{dangerouslySetInnerHTML:{__html:t}})},{})},{path:"/brands/:slug",element:(0,a.jsx)(m6,{})},{path:"/account",element:(0,a.jsx)(()=>{let[e,t]=(0,p.useState)("/"),r=(0,g.TH)(),i=(0,g.s0)(),[l,s]=(0,p.useState)(!1),n=(0,m.I0)(),{isVerified:o,loading:d,error:c,user:u}=(0,m.v9)(e=>e.auth),{userAccount:h,loading:x,error:b}=(0,m.v9)(e=>e.userMyAccounts);return(0,p.useEffect)(()=>{n(er())},[n]),(0,p.useEffect)(()=>{u&&n(i9())},[n,u]),(0,p.useEffect)(()=>{t(r.pathname.replace("/account","").split("/")[1]||"/")},[r.pathname]),(0,p.useEffect)(()=>{u||d||i("/",{replace:!0})},[u,d,i]),(0,a.jsxs)(sN.r,{children:[(0,a.jsx)(sD.$,{span:{lg:3},children:(0,a.jsxs)(sw.K,{children:[(0,a.jsxs)(N.X,{children:[(0,a.jsx)(si.M,{children:(0,a.jsx)(sW.q,{size:"lg"})}),h?(0,a.jsxs)(l9.k,{justify:"space-between",align:"center",mt:"xl",mb:"sm",children:[(0,a.jsxs)(T.e,{size:"sm",display:"flex",style:{alignItems:"center"},underline:"never",component:g.OL,to:"/account/edit-account",children:[(0,a.jsx)(sb.IconPencil,{style:{marginLeft:10},size:14})," ",h.name," ",h.family]}),(0,a.jsx)(sx.C,{children:h.userType})]}):(0,a.jsxs)(l9.k,{align:"center",justify:"space-between",mt:"xl",mb:"sm",children:[(0,a.jsx)(nK.O,{h:25,w:170}),(0,a.jsx)(nK.O,{h:25,w:100})]})]}),(0,a.jsx)(N.X,{children:(0,a.jsx)(sw.K,{gap:"xs",children:oR.map((t,r)=>{let i=t.links===e;return(0,a.jsx)(oB,{activeItem:i,...t},r)})})})]})}),(0,a.jsx)(sD.$,{span:{lg:9},children:(0,a.jsx)(N.X,{pos:"relative",p:"25",children:(0,a.jsx)(g.j3,{})})})]})},{}),children:[{path:"",element:(0,a.jsx)(function(){var e,t,r,i;let l=(0,m.I0)(),s=(0,g.s0)(),[n,o]=(0,p.useState)(!1),{isVerified:d,loading:c,error:u,user:h}=(0,m.v9)(e=>e.auth),{userAccount:x,loading:b,error:f}=(0,m.v9)(e=>e.userMyAccounts),{ordersByUserId:y,loadingOrdersByUserId:j,errorOrdersByUserId:v}=(0,m.v9)(e=>e.getAllOrdersByUserId),{primaryColor:C}=(0,sE.rZ)();return((0,p.useEffect)(()=>{l(er()),l(t7())},[l]),(0,p.useEffect)(()=>{if(!c)if(d&&h)o(!1),l(i9()),l(tR());else{o(!0);let e=setTimeout(()=>{s("/login")},3e3);return()=>clearTimeout(e)}},[l,d,h,c,s]),c)?(0,a.jsx)(si.M,{children:(0,a.jsx)(A.a,{})}):d&&h?b||j?(0,a.jsx)(si.M,{children:(0,a.jsx)(A.a,{})}):(0,a.jsxs)(a.Fragment,{children:[x&&(0,a.jsxs)(sN.r,{grow:!0,children:[x.wallet&&(0,a.jsx)(sD.$,{span:{lg:4},children:(0,a.jsxs)("div",{className:"flex gap-x-2 items-center bg-red-500 rounded-2xl px-3 py-2 text-xs sm:text-base",children:[(0,a.jsx)("div",{className:" bg-red-600 rounded-xl p-2",children:(0,a.jsx)(sb.IconCreditCard,{className:"text-zinc-100"})}),(0,a.jsxs)("div",{className:"text-zinc-50 space-y-1",children:[(0,a.jsx)("div",{children:"موجودی حساب"}),(0,a.jsxs)("div",{children:[(0,a.jsx)(s7.e,{value:x.wallet.balance||0,thousandSeparator:!0})," ","تومان"]})]})]})}),void 0!==x.all_orders&&(0,a.jsx)(sD.$,{span:{lg:4},children:(0,a.jsxs)("div",{className:"flex gap-x-2 items-center bg-green-500 rounded-2xl px-3 py-2 text-xs sm:text-base",children:[(0,a.jsx)("div",{className:" bg-green-600 rounded-xl p-2",children:(0,a.jsx)(sb.IconBasket,{className:"text-zinc-100"})}),(0,a.jsxs)("div",{className:"text-zinc-100 space-y-1",children:[(0,a.jsx)("div",{children:"سفارشات کل"}),(0,a.jsx)("div",{children:(null==y||null==(e=y.orders)?void 0:e.length)||x.all_orders||0})]})]})}),void 0!==x.tickets&&(0,a.jsx)(sD.$,{span:{lg:4},children:(0,a.jsxs)("div",{className:"flex gap-x-2 items-center bg-blue-500 rounded-2xl px-3 py-2 text-xs sm:text-base",children:[(0,a.jsx)("div",{className:" bg-blue-600 rounded-xl p-2",children:(0,a.jsx)(sb.IconMessage2,{className:"text-zinc-100"})}),(0,a.jsxs)("div",{className:"text-zinc-100 space-y-1",children:[(0,a.jsx)("div",{children:"پیام ها"}),(0,a.jsx)("div",{children:x.tickets})]})]})})]}),(0,a.jsx)(D.D,{my:"lg",children:"آخرین سفارشات"}),(0,a.jsx)(sG.x,{type:"auto",children:(0,a.jsxs)(oW.i,{highlightOnHover:!0,children:[(0,a.jsx)(oW.i.Thead,{children:(0,a.jsxs)(oW.i.Tr,{children:[(0,a.jsx)(oW.i.Th,{miw:150,c:C,children:"شماره سفارش"}),(0,a.jsx)(oW.i.Th,{miw:120,c:C,children:"تاریخ"}),(0,a.jsx)(oW.i.Th,{miw:100,c:C,children:"وضعیت"}),(0,a.jsx)(oW.i.Th,{miw:130,c:C,children:"مبلغ کل"}),(0,a.jsx)(oW.i.Th,{miw:100,c:C,children:"تخفیف"}),(0,a.jsx)(oW.i.Th,{miw:120,c:C,children:"نحوه پرداخت"}),(0,a.jsx)(oW.i.Th,{miw:100,c:C,ta:"end",children:"عملیات"})]})}),(0,a.jsx)(oW.i.Tbody,{children:(null==y||null==(t=y.orders)?void 0:t.length)>0?[...y.orders].sort((e,t)=>new Date(t.createdAt)-new Date(e.createdAt)).slice(0,10).map(e=>(0,a.jsxs)(oW.i.Tr,{children:[(0,a.jsx)(oW.i.Td,{children:(0,a.jsx)(se.x,{size:"sm",truncate:!0,style:{maxWidth:150},children:String(e.orderId).replace("order_","")})}),(0,a.jsx)(oW.i.Td,{children:(0,a.jsx)(se.x,{size:"sm",children:new Date(e.createdAt).toLocaleDateString("fa-IR",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})})}),(0,a.jsx)(oW.i.Td,{children:(()=>{let t=((e,t)=>{if("paid"===t)return{color:"green",text:"پرداخت شده"};switch(e){case"processing":return{color:"blue",text:"در حال پردازش"};case"completed":return{color:"green",text:"تکمیل شده"};case"cancelled":return{color:"red",text:"لغو شده"};case"pending":return{color:"yellow",text:"در انتظار"};default:return{color:"gray",text:e}}})(e.status,e.isPaid);return(0,a.jsx)(sx.C,{color:t.color,variant:"light",size:"sm",children:t.text})})()}),(0,a.jsx)(oW.i.Td,{children:(0,a.jsxs)(se.x,{size:"sm",fw:500,children:[(0,a.jsx)(s7.e,{value:e.totalPrice,thousandSeparator:!0})," ","تومان"]})}),(0,a.jsx)(oW.i.Td,{children:(0,a.jsxs)(se.x,{size:"sm",c:"red",children:[(0,a.jsx)(s7.e,{value:e.totalDiscount,thousandSeparator:!0})," ","تومان"]})}),(0,a.jsx)(oW.i.Td,{children:(0,a.jsx)(sx.C,{variant:"outline",size:"sm",children:"cash"===e.paymentMethod?"نقدی":"card"===e.paymentMethod?"کارتی":e.paymentMethod})}),(0,a.jsx)(oW.i.Td,{ta:"end",children:(0,a.jsx)(z.z,{radius:"md",component:g.OL,to:`/account/orders/${e.orderId}`,size:"sm",variant:"light",children:"مشاهده"})})]},e.orderId)):(0,a.jsx)(oW.i.Tr,{children:(0,a.jsx)(oW.i.Td,{colSpan:7,ta:"center",children:(0,a.jsx)(se.x,{c:"dimmed",py:"xl",children:"هیچ سفارشی یافت نشد"})})})})]})}),(null==y||null==(r=y.orders)?void 0:r.length)>10&&(0,a.jsx)(si.M,{mt:"md",children:(0,a.jsxs)(z.z,{component:g.OL,to:"/account/orders",variant:"outline",children:["مشاهده همه سفارشات (",y.orders.length,")"]})}),x&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(D.D,{my:"lg",children:"محصولات علاقه مندی شما"}),(0,a.jsx)(nU.tq,{spaceBetween:10,navigation:!1,slidesPerView:"auto",style:{paddingBottom:"40px",paddingInlineStart:"10px"},children:(null==x||null==(i=x.favorites)?void 0:i.length)>0?x.favorites.map((e,t)=>(0,a.jsx)(nU.o5,{style:{width:"280px"},children:(0,a.jsx)(oZ,{...e})},t)):(0,a.jsx)(se.x,{ta:"center",children:"هیچ محصولی در لیست علاقه‌مندی شما نیست"})})]})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(sp.u,{opened:n,onClose:()=>{},closeOnClickOutside:!1,closeOnEscape:!1,withCloseButton:!1,title:"ورود به حساب کاربری",centered:!0,overlayProps:{backgroundOpacity:0,blur:0},children:[(0,a.jsx)(se.x,{mb:"md",children:"لطفا وارد حساب کاربری شوید"}),(0,a.jsx)(se.x,{size:"sm",c:"dimmed",mb:"md",children:"در حال انتقال به صفحه ورود..."}),(0,a.jsx)(l9.k,{gap:"sm",justify:"flex-end",children:(0,a.jsx)(z.z,{onClick:()=>{s("/login")},children:"رفتن به صفحه ورود"})})]}),(0,a.jsx)(si.M,{h:400,children:(0,a.jsxs)(sw.K,{align:"center",gap:"md",children:[(0,a.jsx)(sb.IconLogin,{size:80,color:"#e9ecef"}),(0,a.jsx)(se.x,{size:"xl",c:"dimmed",children:"در حال بررسی وضعیت ورود..."})]})})]})},{})},{path:"orders",element:(0,a.jsx)(function(){let{primaryColor:e}=(0,sE.rZ)(),[t,r]=(0,p.useState)(1),[i,l]=(0,p.useState)(!1),s=(0,m.I0)(),n=(0,g.s0)(),{isVerified:o,loading:d,error:c,user:u}=(0,m.v9)(e=>e.auth),{order:h,loading:x,error:b}=(0,m.v9)(e=>e.orders),{ordersByUserId:f,loadingOrdersByUserId:y,errorOrdersByUserId:j}=(0,m.v9)(e=>e.getAllOrdersByUserId);if((0,p.useEffect)(()=>{s(er())},[s]),(0,p.useEffect)(()=>{if(!d)if(o&&u)l(!1),s(i9({userId:u.id})),s(tR());else{l(!0);let e=setTimeout(()=>{n("/login")},3e3);return()=>clearTimeout(e)}},[s,o,u,d,n]),d)return(0,a.jsx)(si.M,{children:(0,a.jsx)(A.a,{})});if(!o||!u)return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(sp.u,{opened:i,onClose:()=>{},closeOnClickOutside:!1,closeOnEscape:!1,withCloseButton:!1,title:"ورود به حساب کاربری",centered:!0,overlayProps:{backgroundOpacity:0,blur:0},children:[(0,a.jsx)(se.x,{mb:"md",children:"لطفا وارد حساب کاربری شوید"}),(0,a.jsx)(se.x,{size:"sm",c:"dimmed",mb:"md",children:"در حال انتقال به صفحه ورود..."}),(0,a.jsx)(l9.k,{gap:"sm",justify:"flex-end",children:(0,a.jsx)(z.z,{onClick:()=>{n("/login")},children:"رفتن به صفحه ورود"})})]}),(0,a.jsx)(si.M,{h:400,children:(0,a.jsx)(sw.K,{align:"center",gap:"md",children:(0,a.jsx)(se.x,{size:"xl",c:"dimmed",children:"در حال بررسی وضعیت ورود..."})})})]});let v=[...(null==f?void 0:f.orders)||[]].sort((e,t)=>new Date(t.createdAt)-new Date(e.createdAt)),C=v.length,w=Math.ceil(C/10),k=(t-1)*10,S=k+10,I=v.slice(k,S);return y?(0,a.jsx)(si.M,{children:(0,a.jsx)(A.a,{})}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(D.D,{my:"lg",children:["تمام سفارشات (",C,")"]}),C>0?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(sG.x,{type:"auto",children:(0,a.jsxs)(oW.i,{highlightOnHover:!0,children:[(0,a.jsx)(oW.i.Thead,{children:(0,a.jsxs)(oW.i.Tr,{children:[(0,a.jsx)(oW.i.Th,{miw:150,c:e,children:"شماره سفارش"}),(0,a.jsx)(oW.i.Th,{miw:120,c:e,children:"تاریخ ثبت"}),(0,a.jsx)(oW.i.Th,{miw:100,c:e,children:"وضعیت پرداخت"}),(0,a.jsx)(oW.i.Th,{miw:100,c:e,children:"وضعیت سفارش"}),(0,a.jsx)(oW.i.Th,{miw:130,c:e,children:"مبلغ کل"}),(0,a.jsx)(oW.i.Th,{miw:100,c:e,children:"تخفیف"}),(0,a.jsx)(oW.i.Th,{miw:120,c:e,children:"روش پرداخت"}),(0,a.jsx)(oW.i.Th,{miw:100,c:e,ta:"end",children:"عملیات"})]})}),(0,a.jsx)(oW.i.Tbody,{children:I.map(e=>(0,a.jsx)(oU,{...e},e.orderId))})]})}),w>1&&(0,a.jsx)(si.M,{mt:"xl",children:(0,a.jsxs)(sh.Z,{children:[(0,a.jsxs)(se.x,{size:"sm",c:"dimmed",children:["نمایش ",k+1," تا ",Math.min(S,C)," از ",C," سفارش"]}),(0,a.jsx)(n3.t,{total:w,value:t,onChange:r,size:"sm"})]})})]}):(0,a.jsx)(s5,{shadow:"0",children:(0,a.jsxs)(sw.K,{align:"center",gap:"md",children:[(0,a.jsx)(se.x,{size:"lg",c:"dimmed",children:"سفارشی یافت نشد"}),(0,a.jsx)(se.x,{size:"sm",c:"dimmed",children:"هنوز هیچ سفارشی ثبت نکرده‌اید"}),(0,a.jsx)(z.z,{component:g.OL,to:"/shop",variant:"light",children:"شروع خرید"})]})}),j&&(0,a.jsx)(s5,{shadow:"0",color:"red",children:"خطا در بارگذاری سفارشات. لطفاً دوباره تلاش کنید."})]})},{})},{path:"orders/:id",element:(0,a.jsx)(function(){var e;let t=(0,m.I0)(),[r,i]=(0,p.useState)(!1),{isVerified:l,loading:s,error:n,user:o}=(0,m.v9)(e=>e.auth),{id:d}=(0,g.UO)(),{ordersByUserId:c,loadingOrdersByUserId:u,errorOrdersByUserId:h}=(0,m.v9)(e=>e.getAllOrdersByUserId),{order:x,loading:b,error:f}=(0,m.v9)(e=>e.orders),{userInfo:y,errorUserInfo:j,loadingUserInfo:v}=(0,m.v9)(e=>e.user),[C,w]=(0,p.useState)(null),k=(0,g.s0)(),[S,I]=(0,p.useState)(!1),[N,F]=(0,p.useState)(!1),M=e=>new Date(e).toLocaleDateString("fa-IR",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),T=e=>{switch(e){case"cash":return"نقدی";case"card":return"کارتی";case"online":return"آنلاین";default:return e||"نامشخص"}},P=e=>{switch(e){case"paid":return{color:"green",text:"پرداخت شده"};case"prepaid":return{color:"blue",text:"پیش‌پرداخت شده"};case"selfprepaid":return{color:"orange",text:"مبلغ اولیه پرداخت شده"};default:return{color:"red",text:"پرداخت نشده"}}},E=e=>{switch(e){case"processing":return{color:"blue",text:"در حال پردازش"};case"completed":return{color:"green",text:"تکمیل شده"};case"cancelled":return{color:"red",text:"لغو شده"};case"pending":return{color:"yellow",text:"در انتظار"};case"delivered":return{color:"green",text:"تحویل داده شد"};default:return{color:"gray",text:e||"نامشخص"}}};if((0,p.useEffect)(()=>{t(er())},[t]),(0,p.useEffect)(()=>{o&&(t(i9({userId:o.id})),t(tR()))},[t,o]),(0,p.useEffect)(()=>{o&&d&&t(tM({orderId:d}))},[t,o,d]),(0,p.useEffect)(()=>{o&&t(eN())},[t,o]),(0,p.useEffect)(()=>{var e;if((null==c||null==(e=c.orders)?void 0:e.length)>0&&d){let e=c.orders.find(e=>e.orderId===d);w(e),e&&(I(e.delivered||!1),F(!e.delivered&&"paid"===e.isPaid))}},[c,d]),u||b)return(0,a.jsx)(si.M,{children:(0,a.jsx)(A.a,{})});let _=null==x?void 0:x.order;if(!_&&!C)return(0,a.jsx)(si.M,{children:(0,a.jsxs)(sw.K,{align:"center",children:[(0,a.jsx)(A.a,{}),(0,a.jsx)(se.x,{c:"dimmed",children:"در حال بارگذاری اطلاعات سفارش..."})]})});let L={orderId:(null==_?void 0:_.id)||(null==C?void 0:C.orderId),customerName:(null==_?void 0:_.customer_name)||(null==C?void 0:C.customerName),customerEmail:(null==_?void 0:_.customer_email)||(null==C?void 0:C.customerEmail),customerPhone:(null==_?void 0:_.customer_phone_number)||(null==C?void 0:C.customerPhone),totalPrice:(null==_?void 0:_.total_price)||(null==C?void 0:C.totalPrice),totalDiscount:(null==_?void 0:_.total_discount)||(null==C?void 0:C.totalDiscount),isPaid:(null==_?void 0:_.isPaid)||(null==C?void 0:C.isPaid),status:(null==_?void 0:_.status)||(null==C?void 0:C.status),deliveryType:(null==_?void 0:_.delivery_type)||(null==C?void 0:C.deliveryType),paymentMethod:(null==_?void 0:_.payment_method)||(null==C?void 0:C.paymentMethod),createdAt:(null==_?void 0:_.createdAt)||(null==C?void 0:C.createdAt),updatedAt:(null==_?void 0:_.updatedAt)||(null==C?void 0:C.updatedAt),discountCodeId:(null==_?void 0:_.discount_code_id)||(null==C?void 0:C.discountCodeId),delivered:(null==_?void 0:_.delivered)||(null==C?void 0:C.delivered),items:(null==_?void 0:_.items)||[]},B=P(L.isPaid),O=E(L.status);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(D.D,{display:"flex",style:{alignItems:"center"},children:[(0,a.jsx)(sb.IconArrowRight,{style:{marginLeft:"10px"}})," جزئیات سفارش"]}),(0,a.jsx)(sa.x,{p:"md",style:{backgroundColor:"#f8f9fa",borderRadius:"8px"},mt:"md",children:(0,a.jsxs)(l9.k,{columnGap:30,rowGap:15,wrap:"wrap",children:[(0,a.jsxs)(l9.k,{gap:"xs",children:[(0,a.jsx)(se.x,{c:"gray",fw:500,children:"شماره سفارش:"}),(0,a.jsx)(se.x,{children:(e=L.orderId)?"string"!=typeof e?String(e):e.replace("order_",""):"نامشخص"})]}),L.createdAt&&(0,a.jsxs)(l9.k,{gap:"xs",children:[(0,a.jsx)(se.x,{c:"gray",fw:500,children:"تاریخ ثبت:"}),(0,a.jsx)(se.x,{children:M(L.createdAt)})]}),L.updatedAt&&(0,a.jsxs)(l9.k,{gap:"xs",children:[(0,a.jsx)(se.x,{c:"gray",fw:500,children:"آخرین بروزرسانی:"}),(0,a.jsx)(se.x,{children:M(L.updatedAt)})]}),(0,a.jsxs)(l9.k,{gap:"xs",children:[(0,a.jsx)(se.x,{c:"gray",fw:500,children:"نحوه تحویل:"}),(0,a.jsx)(sx.C,{variant:"outline",children:(e=>{switch(e){case"store_delivery":return"تحویل در فروشگاه";case"home_delivery":return"تحویل در منزل";case"post":return"ارسال پستی";default:return e||"نامشخص"}})(L.deliveryType)})]}),(0,a.jsxs)(l9.k,{gap:"xs",children:[(0,a.jsx)(se.x,{c:"gray",fw:500,children:"روش پرداخت:"}),(0,a.jsx)(sx.C,{variant:"outline",children:T(L.paymentMethod)})]})]})}),(0,a.jsxs)(sh.Z,{position:"right",mt:"md",children:[(0,a.jsx)(sx.C,{color:B.color,variant:"light",radius:"md",size:"lg",px:"md",py:6,style:{textAlign:"center",whiteSpace:"normal"},children:B.text}),(0,a.jsx)(sx.C,{color:O.color,variant:"light",radius:"md",size:"lg",px:"md",py:6,children:O.text})]}),(0,a.jsx)(function(e){let{opened:r,onClose:i}=e;return(0,a.jsxs)(sp.u,{opened:r,onClose:i,title:"تایید تحویل سفارش",children:[(0,a.jsx)(se.x,{children:"آیا از تحویل سفارش اطمینان دارید؟"}),(0,a.jsxs)(sh.Z,{position:"right",mt:"md",children:[(0,a.jsx)(z.z,{onClick:i,variant:"outline",color:"gray",children:"لغو"}),(0,a.jsx)(z.z,{onClick:()=>{t(t_({orderId:d,deliveredStatus:!0})),t(tM({orderId:d})),t(tR()),i()},color:"green",children:"تایید"})]})]})},{opened:r,onClose:()=>i(!1)}),"delivered"!==L.status&&"paid"===L.isPaid&&(0,a.jsx)(sV.u,{mounted:N,transition:"fade",duration:400,timingFunction:"ease",children:e=>(0,a.jsx)("div",{style:e,children:(0,a.jsxs)(so.b,{mt:"md",title:"آیا سفارش به دستتان رسیده است؟",children:[(0,a.jsx)(nS.f,{visible:b||u,zIndex:1e3}),(0,a.jsx)(sh.Z,{children:(0,a.jsx)(z.z,{onClick:()=>i(!0),children:"تایید تحویل"})})]})})}),(0,a.jsx)(sH.i,{my:"xl"}),(0,a.jsxs)(l9.k,{columnGap:90,rowGap:30,wrap:"wrap",children:[(0,a.jsxs)(l9.k,{gap:"xs",children:[(0,a.jsx)(se.x,{c:"gray",children:"تحویل گیرنده:"}),(0,a.jsx)(se.x,{children:L.customerName||"نامشخص"})]}),(0,a.jsxs)(l9.k,{gap:"xs",children:[(0,a.jsx)(se.x,{c:"gray",children:"شماره موبایل:"}),(0,a.jsx)(se.x,{children:L.customerPhone||"نامشخص"})]}),(0,a.jsxs)(l9.k,{gap:"xs",children:[(0,a.jsx)(se.x,{c:"gray",children:"ایمیل:"}),(0,a.jsx)(se.x,{children:L.customerEmail||"نامشخص"})]})]}),(0,a.jsx)(sH.i,{my:"xl"}),(0,a.jsxs)(l9.k,{columnGap:90,rowGap:30,wrap:"wrap",children:[(0,a.jsxs)(l9.k,{gap:"xs",children:[(0,a.jsx)(se.x,{c:"gray",children:"مبلغ کل:"}),(0,a.jsxs)(se.x,{fw:500,children:[(0,a.jsx)(s7.e,{value:L.totalPrice||0,thousandSeparator:!0})," ","تومان"]})]}),(0,a.jsxs)(l9.k,{gap:"xs",children:[(0,a.jsx)(se.x,{c:"gray",children:"مقدار تخفیف:"}),L.totalDiscount>0?(0,a.jsxs)(se.x,{c:"red",fw:500,children:[(0,a.jsx)(s7.e,{value:L.totalDiscount,thousandSeparator:!0})," ","تومان"]}):(0,a.jsx)(se.x,{c:"dimmed",children:"بدون تخفیف"})]}),(0,a.jsxs)(l9.k,{gap:"xs",children:[(0,a.jsx)(se.x,{c:"gray",children:"مبلغ نهایی:"}),(0,a.jsxs)(se.x,{fw:700,c:"green",children:[(0,a.jsx)(s7.e,{value:(L.totalPrice||0)-(L.totalDiscount||0),thousandSeparator:!0})," ","تومان"]})]}),(0,a.jsxs)(l9.k,{gap:"xs",align:"center",children:[(0,a.jsx)(se.x,{c:"gray",children:"کد تخفیف استفاده شده:"}),(0,a.jsx)(sx.C,{variant:"outline",children:L.discountCodeId?L.discountCodeId:"بدون تخفیف"})]})]}),(0,a.jsx)(sH.i,{my:"xl"}),(0,a.jsx)(D.D,{mb:"lg",children:"اقلام سفارش"}),L.items&&L.items.length>0?(0,a.jsx)(sw.K,{children:L.items.map((e,t)=>(0,a.jsx)(o$.Z,{shadow:"sm",p:"md",withBorder:!0,children:(0,a.jsxs)(l9.k,{direction:"column",gap:"md",children:[(0,a.jsxs)(l9.k,{justify:"space-between",align:"start",children:[(0,a.jsx)(l9.k,{direction:"column",gap:"xs",children:(0,a.jsxs)(sh.Z,{children:[(0,a.jsx)(sx.C,{color:P(e.isPaid).color,variant:"light",size:"sm",children:P(e.isPaid).text}),(0,a.jsx)(sx.C,{color:E(e.status).color,variant:"light",size:"sm",children:E(e.status).text})]})}),e.vatRequested&&e.vatLink&&("paid"===e.isPaid||"selfprepaid"===e.isPaid)&&(0,a.jsx)(sx.C,{component:"a",href:e.vatLink,target:"_blank",rel:"noopener noreferrer",p:"sm",color:"blue",variant:"outline",style:{cursor:"pointer",transition:"all 0.2s"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#e0f0ff",onMouseOut:e=>e.currentTarget.style.backgroundColor="transparent",children:"دریافت فاکتور رسمی"})]}),(0,a.jsxs)(l9.k,{columnGap:30,rowGap:15,wrap:"wrap",children:[(0,a.jsxs)(l9.k,{gap:"xs",children:[(0,a.jsx)(se.x,{c:"gray",children:"تعداد:"}),(0,a.jsx)(se.x,{fw:500,children:e.quantity||1})]}),(0,a.jsxs)(l9.k,{gap:"xs",children:[(0,a.jsx)(se.x,{c:"gray",children:"قیمت واحد:"}),(0,a.jsxs)(se.x,{children:[(0,a.jsx)(s7.e,{value:e.price||0,thousandSeparator:!0})," ","تومان"]})]}),e.discount_price>0&&(0,a.jsxs)(l9.k,{gap:"xs",children:[(0,a.jsx)(se.x,{c:"gray",children:"تخفیف:"}),(0,a.jsxs)(se.x,{c:"red",children:[(0,a.jsx)(s7.e,{value:e.discount_price,thousandSeparator:!0})," ","تومان"]})]}),(0,a.jsxs)(l9.k,{gap:"xs",children:[(0,a.jsx)(se.x,{c:"gray",children:"قیمت کل:"}),(0,a.jsxs)(se.x,{fw:700,c:"green",children:[(0,a.jsx)(s7.e,{value:e.totalPrice||0,thousandSeparator:!0})," ","تومان"]})]}),e.vatRequested&&(0,a.jsxs)(l9.k,{gap:"xs",children:[(0,a.jsx)(se.x,{c:"gray",children:"قیمت با مالیات:"}),(0,a.jsxs)(se.x,{fw:500,children:[(0,a.jsx)(s7.e,{value:e.priceWithVat||0,thousandSeparator:!0})," ","تومان"]})]})]}),e.product_id&&e.product_id.length>0&&(0,a.jsxs)(sa.x,{children:[(0,a.jsx)(se.x,{fw:500,mb:"xs",children:"محصولات:"}),e.product_id.map((e,t)=>(0,a.jsxs)(sx.C,{variant:"outline",mr:"xs",mb:"xs",children:[e.id," ",e.combinationId&&`(\u{62A}\u{631}\u{6A9}\u{6CC}\u{628}: ${e.combinationId})`]},t))]}),e.paymentMethod&&(0,a.jsxs)(l9.k,{gap:"xs",children:[(0,a.jsx)(se.x,{c:"gray",children:"روش پرداخت:"}),(0,a.jsxs)(sx.C,{variant:"outline",children:[e.paymentMethod.name," - ",T(e.paymentMethod.paymentMethod)]})]})]})},t))}):(0,a.jsxs)(sa.x,{p:"md",style:{backgroundColor:"#f8f9fa",borderRadius:"8px"},children:[(0,a.jsx)(se.x,{c:"dimmed",ta:"center",children:"اطلاعات اقلام سفارش در حال بارگذاری..."}),(0,a.jsx)(se.x,{c:"dimmed",ta:"center",size:"sm",mt:"xs",children:"اطلاعات کلی سفارش در بالا نمایش داده شده است"})]}),("unpaid"===L.isPaid||"prepaid"===L.isPaid)&&(0,a.jsx)(l9.k,{justify:{base:"center",md:"flex-end"},w:"100%",mt:"xl",children:(0,a.jsx)(z.z,{onClick:()=>k(`/payment-statuscheck?order_id=${L.orderId}`),size:"lg",children:"مراجعه به صفحه پرداخت"})})]})},{})},{path:"edit-account",element:(0,a.jsx)(function(){var e,t,r,i,l,s,n,o,d,c,u,x,b,f,y;let j=(0,m.I0)(),[v,C]=(0,p.useState)(!1),{isVerified:w,loading:k,error:S,user:I}=(0,m.v9)(e=>e.auth),{userInfo:N,errorUserInfo:F,loadingUserInfo:M}=(0,m.v9)(e=>e.user),T=(0,g.s0)(),{updateuser:P,loadingUpdateUser:E,errorUpdateUser:_}=(0,m.v9)(e=>e.updateUserInfo),[L,B]=(0,p.useState)(!1);(0,p.useEffect)(()=>{if(P&&P.state){C(!0);let e=setTimeout(()=>{C(!1)},2e3);return()=>clearTimeout(e)}},[P]),(0,p.useEffect)(()=>{_&&400!==Number(_.status)&&401!==Number(_.status)&&403!==Number(_.status)&&404!==Number(_.status)&&405!==Number(_.status)&&406!==Number(_.status)&&408!==Number(_.status)&&409!==Number(_.status)&&410!==Number(_.status)&&411!==Number(_.status)&&412!==Number(_.status)&&413!==Number(_.status)&&414!==Number(_.status)&&415!==Number(_.status)&&416!==Number(_.status)&&417!==Number(_.status)&&422!==Number(_.status)&&429!==Number(_.status)&&h.N9.show({title:_.message,color:"red",autoClose:!0})},[_]),(0,p.useEffect)(()=>{P&&(null==P?void 0:P.state)==="ok"&&h.N9.show({title:P.message,color:"green",autoClose:!0}),P&&(null==P?void 0:P.state)==="error"&&h.N9.show({title:P.message,color:"red",autoClose:!0})},[_,P]),(0,p.useEffect)(()=>{(null==_?void 0:_.status)===401&&(B(!0),setTimeout(()=>{B(!1),j(rr()),T("/")},4e3)),(null==_?void 0:_.status)===403&&(B(!0),setTimeout(()=>{j(rr()),B(!1)},4e3))},[_,j,T]),(0,p.useEffect)(()=>{j(er())},[j]),(0,p.useEffect)(()=>{I&&j(eN())},[j,I]);let O=(0,sd.c)({initialValues:{name:"",id:"",family:"",mobile:"",email:"",nationalCode:"",birthday:""},validate:(0,ot.X)(o0)});(0,p.useEffect)(()=>{if(N&&N.user){let e=N.user.birthday||"";O.setValues({name:N.user.name||"",id:N.user.id||"",family:N.user.family||"",mobile:N.user.mobile||"",email:N.user.email||"",nationalCode:N.user.nationalCode||"",birthday:e})}},[N]);let R=async e=>{let t={...e,mobile:e.mobile,birthday:(e=>{if(!e)return"";try{if(/^\d{4}-\d{2}-\d{2}$/.test(e))return e;if(e.includes("/")){let t=ny()(e,"jYYYY/jM/jD");if(t.isValid())return t.format("YYYY-MM-DD")}return console.error("Invalid Persian date format:",e),""}catch(e){return console.error("Date conversion error:",e),""}})(e.birthday)};await j(re(t)),await j(eN())};return M?(0,a.jsx)(si.M,{children:(0,a.jsx)(A.a,{})}):N&&N.user?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(sy,{opened:L,onClose:()=>B(!1),message:null==_?void 0:_.message}),(0,a.jsx)(D.D,{mb:"lg",children:"جزئیات حساب"}),(0,a.jsxs)("form",{onSubmit:O.onSubmit(e=>R(e)),children:[(0,a.jsxs)(sN.r,{children:[(0,a.jsx)(sD.$,{span:{lg:6},children:(0,a.jsx)(ss.o,{placeholder:"نام خود را وارد کنید",label:"نام",...O.getInputProps("name"),error:(null==P?void 0:P.state)==="error"&&(null==P||null==(e=P.errors)?void 0:e.name)||O.errors.name?(0,a.jsxs)("div",{children:[(null==P?void 0:P.state)==="error"&&(null==P||null==(t=P.errors)?void 0:t.name)&&(0,a.jsx)("div",{children:null==P||null==(r=P.errors)?void 0:r.name}),O.errors.name&&(0,a.jsx)("div",{children:O.errors.name})]}):null})}),(0,a.jsx)(sD.$,{span:{lg:6},children:(0,a.jsx)(ss.o,{placeholder:"نام خانوادگی خود را کنید",label:"نام خانوادگی",...O.getInputProps("family"),error:(null==P?void 0:P.state)==="error"&&(null==P||null==(i=P.errors)?void 0:i.family)||O.errors.family?(0,a.jsxs)("div",{children:[(null==P?void 0:P.state)==="error"&&(null==P||null==(l=P.errors)?void 0:l.family)&&(0,a.jsx)("div",{children:null==P||null==(s=P.errors)?void 0:s.family}),O.errors.family&&(0,a.jsx)("div",{children:O.errors.family})]}):null})}),(0,a.jsx)(sD.$,{span:{lg:6},children:(0,a.jsx)(ss.o,{placeholder:"شماره تلفن خود را کنید",label:"شماره تلفن",...O.getInputProps("mobile"),disabled:!0})}),(0,a.jsx)(sD.$,{span:{lg:6},children:(0,a.jsx)(ss.o,{placeholder:"ایمیل خود را کنید",label:"ایمیل",...O.getInputProps("email"),error:(null==P?void 0:P.state)==="error"&&(null==P||null==(n=P.errors)?void 0:n.email)||O.errors.email?(0,a.jsxs)("div",{children:[(null==P?void 0:P.state)==="error"&&(null==P||null==(o=P.errors)?void 0:o.email)&&(0,a.jsx)("div",{children:null==P||null==(d=P.errors)?void 0:d.email}),O.errors.email&&(0,a.jsx)("div",{children:O.errors.email})]}):null})}),(0,a.jsx)(sD.$,{span:{lg:6},children:(0,a.jsx)(ss.o,{placeholder:"کدملی خود را کنید",label:"کدملی",...O.getInputProps("nationalCode"),error:(null==P?void 0:P.state)==="error"&&(null==P||null==(c=P.errors)?void 0:c.nationalCode)||O.errors.nationalCode?(0,a.jsxs)("div",{children:[(null==P?void 0:P.state)==="error"&&(null==P||null==(u=P.errors)?void 0:u.nationalCode)&&(0,a.jsx)("div",{children:null==P||null==(x=P.errors)?void 0:x.nationalCode}),O.errors.nationalCode&&(0,a.jsx)("div",{children:O.errors.nationalCode})]}):null})}),(0,a.jsx)(sD.$,{span:{lg:6},children:(0,a.jsx)(oQ,{placeholder:"تاریخ تولد خود را کنید",label:"تاریخ تولد",...O.getInputProps("birthday"),styles:{input:{textAlign:"left"}},dir:"ltr",error:(null==P?void 0:P.state)==="error"&&(null==P||null==(b=P.errors)?void 0:b.birthday)||O.errors.birthday?(0,a.jsxs)("div",{children:[(null==P?void 0:P.state)==="error"&&(null==P||null==(f=P.errors)?void 0:f.birthday)&&(0,a.jsx)("div",{children:null==P||null==(y=P.errors)?void 0:y.birthday}),O.errors.birthday&&(0,a.jsx)("div",{children:O.errors.birthday})]}):null})})]}),(0,a.jsx)(z.z,{mt:"40",type:"submit",loading:E,children:"ذخیره"})]})]}):(0,a.jsx)(si.M,{children:"خطایی رخ داده است. لطفاً دوباره تلاش کنید."})},{})},{path:"wallet",element:(0,a.jsx)(function(){var e,t,r,i,l,s;let n=(0,m.I0)(),o=(0,g.s0)(),[d,c]=(0,p.useState)(!1),[u,x]=(0,p.useState)(null),[b,f]=(0,p.useState)(!1),[y,j]=(0,p.useState)(!1),[v,C]=(0,p.useState)(null),[w,k]=(0,p.useState)(),[S,I]=(0,p.useState)(),[N,F]=(0,p.useState)(null),[M,T]=(0,p.useState)(!1),{userInfo:P,loadingUserInfo:E}=(0,m.v9)(e=>e.user),{updateuser:_,errorUpdateUser:L}=(0,m.v9)(e=>e.updateUserInfo),[B,O]=(0,p.useState)(!1),{withdrawResult:R,loadingWithdraw:W,errorWithdraw:Z}=(0,m.v9)(e=>e.walletWithDrawal),{transferResult:U,loadingTransfer:$,errorTransfer:q}=(0,m.v9)(e=>e.walletTransfer),[K,V]=(0,p.useState)(!1),[H,G]=(0,p.useState)(!1),{isVerified:X,loading:Y,error:J,user:Q}=(0,m.v9)(e=>e.auth),{userAccount:ee}=(0,m.v9)(e=>e.userMyAccounts),[et,ea]=(0,p.useState)(!1),[ei,el]=(0,p.useState)({name:"",family:"",phone:"",amount:""}),[es,en]=(0,p.useState)({amount:"",phone:""}),[eo,ed]=(0,p.useState)({senderPhone:"",receiverPhone:"",amount:"",note:""}),{gateways:ec,loading:eu,error:em}=(0,m.v9)(e=>e.gateWaysData);(0,p.useEffect)(()=>{n(iX({state:"online"}))},[n]);let eg=e=>{let{src:t,alt:r,width:i=20}=e,[l,s]=(0,p.useState)(!1);return!t||""===t||null==t||Array.isArray(t)&&(0===t.length||""===t[0])||l?(0,a.jsx)(()=>(0,a.jsxs)("svg",{width:i,height:i,viewBox:"0 0 24 24",fill:"none",children:[(0,a.jsx)("rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",stroke:"currentColor",strokeWidth:"2",fill:"none"}),(0,a.jsx)("rect",{x:"2",y:"8",width:"20",height:"2",fill:"currentColor"}),(0,a.jsx)("circle",{cx:"6",cy:"14",r:"1",fill:"currentColor"}),(0,a.jsx)("circle",{cx:"10",cy:"14",r:"1",fill:"currentColor"})]}),{}):(0,a.jsx)("img",{src:t,alt:r,width:i,onError:()=>s(!0),style:{objectFit:"contain"}})};(0,p.useEffect)(()=>{R&&"error"===R.state&&R.errors&&R.errors.forEach(e=>{eh.setFieldError(e.name,e.message)})},[R]),(0,p.useEffect)(()=>{U&&"error"===U.state&&U.errors&&U.errors.forEach(e=>{ex.setFieldError(e.name,e.message)})},[U]);let ep=(0,sd.c)({initialValues:{name:"",family:"",phone:"",amount:""},validate:(0,ot.X)(mZ)}),eh=(0,sd.c)({initialValues:{phone:"",amount:""},validate:(0,ot.X)(mU)}),ex=(0,sd.c)({initialValues:{senderPhone:"",receiverPhone:"",amount:"",note:""},validate:(0,ot.X)(mq)}),eb=(0,sd.c)({initialValues:{name:"",family:"",mobile:"",email:"",nationalCode:"",birthday:""},validate:(0,ot.X)(m$)});return((0,p.useEffect)(()=>{n(er())},[n]),(0,p.useEffect)(()=>{Q&&(n(eN()),n(i9()))},[n,Q]),(0,p.useEffect)(()=>{if(null==P?void 0:P.user){let{name:e,family:t,mobile:r,email:a,nationalCode:i,birthday:l}=P.user;eb.setValues({name:e,family:t,mobile:r,email:a,nationalCode:i,birthday:l})}},[P]),(0,p.useEffect)(()=>{!N&&ec.length>0&&F(ec[0]._id)},[ec,N]),(0,p.useEffect)(()=>{(null==_?void 0:_.state)==="ok"?h.N9.show({title:_.message,color:"green",autoClose:!0}):(null==_?void 0:_.state)==="error"&&h.N9.show({title:_.message,color:"red",autoClose:!0})},[_]),(0,p.useEffect)(()=>{L&&![400,401,403,404,405,406,408,409,410,411,412,413,414,415,416,417,422,429].includes(Number(L.status))&&h.N9.show({title:L.message,color:"red",autoClose:!0}),((null==L?void 0:L.status)===401||(null==L?void 0:L.status)===403)&&(f(!0),setTimeout(()=>{f(!1),n(rr()),(null==L?void 0:L.status)===401&&o("/")},4e3))},[L,n,o]),(0,p.useCallback)(async e=>{let t={...e,phone:e.mobile};await n(re(t)),await n(eN()),n(i9())},[n]),(0,p.useEffect)(()=>{R&&(null==R?void 0:R.state)==="ok"&&(c(!1),h.N9.show({title:R.message,color:"green",autoClose:!0})),n(i9()),R&&(null==R?void 0:R.state)==="error"&&h.N9.show({title:R.message,color:"red",autoClose:!0})},[Z,R]),(0,p.useEffect)(()=>{Z&&400!==Number(Z.status)&&401!==Number(Z.status)&&403!==Number(Z.status)&&404!==Number(Z.status)&&405!==Number(Z.status)&&406!==Number(Z.status)&&408!==Number(Z.status)&&409!==Number(Z.status)&&410!==Number(Z.status)&&411!==Number(Z.status)&&412!==Number(Z.status)&&413!==Number(Z.status)&&414!==Number(Z.status)&&415!==Number(Z.status)&&416!==Number(Z.status)&&417!==Number(Z.status)&&422!==Number(Z.status)&&429!==Number(Z.status)&&(c(!1),h.N9.show({title:Z.message,color:"red",autoClose:!0}),n(aW()))},[Z]),(0,p.useEffect)(()=>{(null==Z?void 0:Z.status)&&(sv(null==Z?void 0:Z.status,V,o),k(null==Z?void 0:Z.message)),n(aW())},[Z]),(0,p.useEffect)(()=>{U&&(null==U?void 0:U.state)==="ok"&&(c(!1),h.N9.show({title:U.message,color:"green",autoClose:!0})),n(i9()),U&&(null==U?void 0:U.state)==="error"&&h.N9.show({title:U.message,color:"red",autoClose:!0})},[q,U]),(0,p.useEffect)(()=>{let e=()=>{!document.hidden&&Q&&n(i9())};return document.addEventListener("visibilitychange",e),Q&&n(i9()),()=>{document.removeEventListener("visibilitychange",e)}},[Q,n]),(0,p.useEffect)(()=>{q&&400!==Number(q.status)&&401!==Number(q.status)&&403!==Number(q.status)&&404!==Number(q.status)&&405!==Number(q.status)&&406!==Number(q.status)&&408!==Number(q.status)&&409!==Number(q.status)&&410!==Number(q.status)&&411!==Number(q.status)&&412!==Number(q.status)&&413!==Number(q.status)&&414!==Number(q.status)&&415!==Number(q.status)&&416!==Number(q.status)&&417!==Number(q.status)&&422!==Number(q.status)&&429!==Number(q.status)&&(c(!1),h.N9.show({title:q.message,color:"red",autoClose:!0}),n(ip()))},[q]),(0,p.useEffect)(()=>{(null==q?void 0:q.status)&&(sv(null==q?void 0:q.status,G,o),I(null==q?void 0:q.message)),n(ip())},[q]),(0,p.useEffect)(()=>{if(!Y)if(X&&Q)O(!1),n(i9({userId:Q.id})),n(tR());else{O(!0);let e=setTimeout(()=>{o("/login")},3e3);return()=>clearTimeout(e)}},[n,X,Q,Y,o]),X&&Q)?E?(0,a.jsx)(si.M,{children:(0,a.jsx)(A.a,{})}):(null==P?void 0:P.user)?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(sy,{opened:b,onClose:()=>f(!1),message:null==L?void 0:L.message}),K&&(0,a.jsx)(sy,{opened:K,onClose:()=>V(!1),message:w}),H&&(0,a.jsx)(sy,{opened:H,onClose:()=>G(!1),message:S}),(0,a.jsx)(sp.u,{opened:d,onClose:()=>c(!1),title:"deposit"===u?"واریز به کیف پول":"withdraw"===u?"برداشت از کیف پول":"انتقال به حساب دیگر",children:(0,a.jsx)("form",{onSubmit:e=>{if(e.preventDefault(),"deposit"===u){if(!ep.validate().hasErrors){var t;c(!1);let e=ec.find(e=>e._id===N);o("/payment-info-online-wallet",{state:{depositData:{...ep.values,user_id:(null==P||null==(t=P.user)?void 0:t.id)||(null==Q?void 0:Q.id),description:"شارژ کیف پول"},gateway:(null==e?void 0:e.info)||"fake",gatewayId:null==e?void 0:e.info}})}return}if("withdraw"===u){eh.validate().hasErrors||(c(!1),ea(!0)),n(i9());return}if("transfer"===u){ex.validate().hasErrors||(c(!1),T(!0));return}},children:(0,a.jsxs)(sw.K,{gap:"sm",children:["deposit"===u&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(ss.o,{label:"نام",required:!0,...ep.getInputProps("name")}),(0,a.jsx)(ss.o,{label:"نام خانوادگی",required:!0,...ep.getInputProps("family")}),(0,a.jsx)(ss.o,{label:"شماره تلفن",required:!0,...ep.getInputProps("phone")}),(0,a.jsx)(ss.o,{label:"مبلغ واریز",required:!0,...ep.getInputProps("amount")}),(0,a.jsx)(sH.i,{my:"sm",label:"درگاه پرداخت را انتخاب کنید"}),eu?(0,a.jsx)(si.M,{children:(0,a.jsx)(A.a,{size:"sm"})}):(0,a.jsx)(oF.Y.Group,{value:N,onChange:F,name:"paymentGateway",label:"انتخاب درگاه پرداخت",withAsterisk:!0,children:(0,a.jsx)(sw.K,{gap:"sm",mt:"sm",children:ec.map(e=>(0,a.jsx)("div",{style:{border:`2px solid ${N===e._id?"#fa5252":"#e9ecef"}`,borderRadius:"8px",padding:"12px",backgroundColor:N===e._id?"#fff5f5":"white",transition:"all 0.2s ease",cursor:"pointer"},onClick:()=>F(e._id),children:(0,a.jsx)(oF.Y,{value:e._id,label:(0,a.jsxs)(sh.Z,{gap:"sm",align:"center",children:[(0,a.jsx)(eg,{src:e.icon,alt:e.label,width:24}),(0,a.jsx)(se.x,{fw:N===e._id?600:400,c:N===e._id?"red.7":"dark.7",children:e.label})]}),styles:{radio:{cursor:"pointer"},label:{cursor:"pointer",paddingLeft:"8px"}}})},e._id))})})]}),"withdraw"===u&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(ss.o,{label:"میزان مبلغ برداشت",required:!0,...eh.getInputProps("amount")}),(0,a.jsx)(ss.o,{label:"شماره تلفن",required:!0,...eh.getInputProps("phone")})]}),"transfer"===u&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(ss.o,{label:"شماره تلفن فرستنده",required:!0,...ex.getInputProps("senderPhone")}),(0,a.jsx)(ss.o,{label:"شماره تلفن گیرنده",required:!0,...ex.getInputProps("receiverPhone")}),(0,a.jsx)(ss.o,{label:"مبلغ واریز",required:!0,...ex.getInputProps("amount")}),(0,a.jsx)(oe.g,{label:"توضیحات",required:!0,...ex.getInputProps("note")})]}),(0,a.jsx)(z.z,{type:"submit",fullWidth:!0,children:"تایید"})]})})}),(0,a.jsxs)(sp.u,{opened:et,onClose:()=>ea(!1),title:"تأیید برداشت",children:[(0,a.jsx)(se.x,{children:"آیا از برداشت مبلغ مطمئن هستید؟"}),(0,a.jsxs)(sh.Z,{mt:"md",position:"right",children:[(0,a.jsx)(z.z,{onClick:()=>ea(!1),variant:"default",children:"انصراف"}),(0,a.jsx)(z.z,{color:"red",onClick:()=>{ea(!1),n(aO({withdrawData:eh.values}))},children:"بله، برداشت کن"})]})]}),(0,a.jsxs)(sp.u,{opened:M,onClose:()=>T(!1),title:"تأیید انتقال",children:[(0,a.jsx)(se.x,{children:"آیا از انتقال مبلغ مطمئن هستید؟"}),(0,a.jsxs)(sh.Z,{mt:"md",justify:"flex-end",children:[(0,a.jsx)(z.z,{variant:"default",onClick:()=>T(!1),children:"انصراف"}),(0,a.jsx)(z.z,{color:"blue",onClick:()=>{n(im({transferData:ex.values})),T(!1)},children:"بله، منتقل کن"})]})]}),(0,a.jsx)(sp.u,{opened:y,onClose:()=>j(!1),title:"جزئیات کامل",size:"lg",children:v&&(0,a.jsxs)(sw.K,{gap:"md",children:[v.transactionId&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(D.D,{order:5,children:"تراکنش"}),(0,a.jsx)(sH.i,{}),(0,a.jsxs)(sh.Z,{children:[(0,a.jsx)(se.x,{fw:500,children:"کد:"}),(0,a.jsx)(se.x,{children:v.transactionId})]}),(0,a.jsxs)(sh.Z,{children:[(0,a.jsx)(se.x,{fw:500,children:"مبلغ:"}),(0,a.jsxs)(se.x,{color:v.amount>0?"green":"red",children:[v.amount.toLocaleString()," تومان"]})]}),(0,a.jsxs)(sh.Z,{children:[(0,a.jsx)(se.x,{fw:500,children:"تاریخ:"}),(0,a.jsx)(se.x,{children:v.date})]}),(0,a.jsxs)(sh.Z,{children:[(0,a.jsx)(se.x,{fw:500,children:"نوع:"}),(0,a.jsx)(sx.C,{color:"blue",children:v.typeDescriptionFa})]}),(0,a.jsxs)(sh.Z,{children:[(0,a.jsx)(se.x,{fw:500,children:"روش:"}),(0,a.jsx)(se.x,{children:v.methodDescriptionFa})]}),(0,a.jsxs)(sh.Z,{children:[(0,a.jsx)(se.x,{fw:500,children:"توضیحات:"}),(0,a.jsx)(se.x,{children:v.description})]})]}),v.transferId&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(D.D,{order:5,children:"انتقال"}),(0,a.jsx)(sH.i,{}),(0,a.jsxs)(sh.Z,{children:[(0,a.jsx)(se.x,{fw:500,children:"کد انتقال:"}),(0,a.jsx)(se.x,{children:v.transferId})]}),(0,a.jsxs)(sh.Z,{children:[(0,a.jsx)(se.x,{fw:500,children:"فرستنده:"}),(0,a.jsx)(se.x,{children:v.senderId})]}),(0,a.jsxs)(sh.Z,{children:[(0,a.jsx)(se.x,{fw:500,children:"گیرنده:"}),(0,a.jsx)(se.x,{children:v.receiverId})]}),(0,a.jsxs)(sh.Z,{children:[(0,a.jsx)(se.x,{fw:500,children:"مبلغ:"}),(0,a.jsxs)(se.x,{color:"teal",children:[v.amount.toLocaleString()," تومان"]})]}),(0,a.jsxs)(sh.Z,{children:[(0,a.jsx)(se.x,{fw:500,children:"تاریخ:"}),(0,a.jsx)(se.x,{children:v.date})]}),(0,a.jsxs)(sh.Z,{children:[(0,a.jsx)(se.x,{fw:500,children:"وضعیت:"}),(0,a.jsx)(sx.C,{color:"completed"===v.status?"green":"yellow",children:v.statusDescriptionFa})]}),(0,a.jsxs)(sh.Z,{children:[(0,a.jsx)(se.x,{fw:500,children:"توضیحات:"}),(0,a.jsx)(se.x,{children:v.note})]})]}),v.requestId&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(D.D,{order:5,children:"درخواست برداشت"}),(0,a.jsx)(sH.i,{}),(0,a.jsxs)(sh.Z,{children:[(0,a.jsx)(se.x,{fw:500,children:"کد درخواست:"}),(0,a.jsx)(se.x,{children:v.requestId})]}),(0,a.jsxs)(sh.Z,{children:[(0,a.jsx)(se.x,{fw:500,children:"مبلغ:"}),(0,a.jsxs)(se.x,{children:[v.amount.toLocaleString()," تومان"]})]}),(0,a.jsxs)(sh.Z,{children:[(0,a.jsx)(se.x,{fw:500,children:"تاریخ:"}),(0,a.jsx)(se.x,{children:v.date})]}),(0,a.jsxs)(sh.Z,{children:[(0,a.jsx)(se.x,{fw:500,children:"وضعیت:"}),(0,a.jsx)(sx.C,{color:"pending"===v.status?"orange":"green",children:v.statusDescriptionFa})]})]})]})}),(0,a.jsx)(D.D,{mb:"lg",children:"کیف پول"}),(0,a.jsxs)(l9.k,{direction:{base:"column",sm:"row"},gap:"sm",justify:"flex-end",mb:"md",children:[(0,a.jsx)(z.z,{color:"green",fullWidth:!0,onClick:()=>{x("deposit"),c(!0)},children:"واریز به کیف پول"}),(0,a.jsx)(z.z,{color:"orange",fullWidth:!0,onClick:()=>{x("withdraw"),c(!0)},children:"برداشت از کیف پول"}),(0,a.jsx)(z.z,{color:"blue",fullWidth:!0,onClick:()=>{x("transfer"),c(!0)},children:"انتقال به حساب دیگر"})]}),(null==ee?void 0:ee.wallet)&&(0,a.jsxs)(l9.k,{direction:"column",gap:"md",children:[(0,a.jsxs)(sN.r,{children:[(0,a.jsx)(sN.r.Col,{span:{base:12,md:4},children:(0,a.jsxs)(so.b,{title:"موجودی",color:"green",radius:"md",variant:"light",children:[ee.wallet.balance.toLocaleString()," تومان"]})}),(0,a.jsx)(sN.r.Col,{span:{base:12,md:4},children:(0,a.jsxs)(so.b,{title:"مبلغ مسدود شده",color:"orange",radius:"md",variant:"light",children:[ee.wallet.blockedAmount.toLocaleString()," تومان"]})}),(0,a.jsx)(sN.r.Col,{span:{base:12,md:4},children:(0,a.jsxs)(so.b,{title:"آخرین تراکنش",color:"blue",radius:"md",variant:"light",children:[(null==(e=ee.wallet.lastTransaction)?void 0:e.typeDescriptionFa)??"—","، مبلغ: ",null==(r=ee.wallet.lastTransaction)||null==(t=r.amount)?void 0:t.toLocaleString()," تومان"]})})]}),(0,a.jsx)(D.D,{order:4,mt:"lg",children:"تراکنش‌ها"}),(0,a.jsxs)(oW.i,{striped:!0,highlightOnHover:!0,withBorder:!0,children:[(0,a.jsx)("thead",{style:{backgroundColor:"#f0f0f0"},children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{children:"کد تراکنش"}),(0,a.jsx)("th",{children:"توضیح"}),(0,a.jsx)("th",{children:"مبلغ"}),(0,a.jsx)("th",{children:"تاریخ"}),(0,a.jsx)("th",{children:"عملیات"})]})}),(0,a.jsx)("tbody",{children:null==(i=ee.wallet.paymentHistory)?void 0:i.map(e=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{children:e.transactionId}),(0,a.jsx)("td",{children:e.description}),(0,a.jsxs)("td",{children:[e.amount.toLocaleString()," تومان"]}),(0,a.jsx)("td",{children:e.date}),(0,a.jsx)("td",{children:(0,a.jsx)(z.z,{size:"xs",variant:"light",onClick:()=>{C(e),j(!0)},children:"نمایش"})})]},e._id))})]}),(0,a.jsx)(D.D,{order:4,mt:"lg",children:"انتقال‌ها"}),(0,a.jsxs)(oW.i,{striped:!0,highlightOnHover:!0,withBorder:!0,children:[(0,a.jsx)("thead",{style:{backgroundColor:"#f0f0f0"},children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{children:"کد انتقال"}),(0,a.jsx)("th",{children:"یادداشت"}),(0,a.jsx)("th",{children:"مبلغ"}),(0,a.jsx)("th",{children:"وضعیت"}),(0,a.jsx)("th",{children:"تاریخ"}),(0,a.jsx)("th",{children:"عملیات"})]})}),(0,a.jsx)("tbody",{children:null==(l=ee.wallet.transfers)?void 0:l.map(e=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{children:e.transferId}),(0,a.jsx)("td",{children:e.note}),(0,a.jsxs)("td",{children:[e.amount.toLocaleString()," تومان"]}),(0,a.jsx)("td",{children:e.statusDescriptionFa}),(0,a.jsx)("td",{children:e.date}),(0,a.jsx)("td",{children:(0,a.jsx)(z.z,{size:"xs",variant:"light",onClick:()=>{C(e),j(!0)},children:"نمایش"})})]},e._id))})]}),(0,a.jsx)(D.D,{order:4,mt:"lg",children:"درخواست‌های برداشت"}),(0,a.jsxs)(oW.i,{striped:!0,highlightOnHover:!0,withBorder:!0,children:[(0,a.jsx)("thead",{style:{backgroundColor:"#f0f0f0"},children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{children:"کد درخواست"}),(0,a.jsx)("th",{children:"مبلغ"}),(0,a.jsx)("th",{children:"یادداشت"}),(0,a.jsx)("th",{children:"وضعیت"}),(0,a.jsx)("th",{children:"تاریخ"}),(0,a.jsx)("th",{children:"عملیات"})]})}),(0,a.jsx)("tbody",{children:null==(s=ee.wallet.pendingWithdrawals)?void 0:s.map(e=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{children:e.requestId}),(0,a.jsxs)("td",{children:[e.amount.toLocaleString()," تومان"]}),(0,a.jsx)("td",{children:e.note}),(0,a.jsx)("td",{children:e.statusDescriptionFa}),(0,a.jsx)("td",{children:e.date}),(0,a.jsx)("td",{children:(0,a.jsx)(z.z,{size:"xs",variant:"light",onClick:()=>{C(e),j(!0)},children:"نمایش"})})]},e._id))})]})]})]}):(0,a.jsx)(si.M,{children:"خطایی رخ داده است. لطفاً دوباره تلاش کنید."}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(sp.u,{opened:B,onClose:()=>{},closeOnClickOutside:!1,closeOnEscape:!1,withCloseButton:!1,title:"ورود به حساب کاربری",centered:!0,overlayProps:{backgroundOpacity:0,blur:0},children:[(0,a.jsx)(se.x,{mb:"md",children:"لطفا وارد حساب کاربری شوید"}),(0,a.jsx)(se.x,{size:"sm",c:"dimmed",mb:"md",children:"در حال انتقال به صفحه ورود..."}),(0,a.jsx)(l9.k,{gap:"sm",justify:"flex-end",children:(0,a.jsx)(z.z,{onClick:()=>{o("/login")},children:"رفتن به صفحه ورود"})})]}),(0,a.jsx)(si.M,{h:400,children:(0,a.jsx)(sw.K,{align:"center",gap:"md",children:(0,a.jsx)(se.x,{size:"xl",c:"dimmed",children:"در حال بررسی وضعیت ورود..."})})})]})},{})},{path:"tickets",element:(0,a.jsx)(function(){var e,t;let{primaryColor:r}=(0,sE.rZ)(),[i,l]=(0,p.useState)("all"),[s,n]=(0,p.useState)(!1),[o,d]=(0,p.useState)(!1),[c,u]=(0,p.useState)(null),h=(0,g.s0)(),{isVerified:x,loading:b,error:f,user:y}=(0,m.v9)(e=>e.auth),j=(0,m.I0)(),{userTickets:v,loadingUserTickets:C,errorUserTickets:w}=(0,m.v9)(e=>e.userTickets),{user:k}=(0,m.v9)(e=>{var t;return{user:null==(t=e.auth)?void 0:t.user}});if((0,p.useEffect)(()=>{let e=async()=>{try{await j(er()).unwrap()}catch(e){console.log("Auth verification failed:",e)}finally{d(!0)}};o||e()},[j,o]),(0,p.useEffect)(()=>{if(o)return x&&y?(n(!1),c&&(clearTimeout(c),u(null)),(async()=>{try{(null==k?void 0:k.id)&&await j(i9({userId:k.id})),await new Promise(e=>setTimeout(e,1500)),await j(tJ())}catch(e){console.error("Error loading user data:",e)}})()):(c&&clearTimeout(c),n(!0),u(setTimeout(()=>{h("/login")},3e3))),()=>{c&&clearTimeout(c)}},[j,x,y,o,h,null==k?void 0:k.id]),!o||b)return(0,a.jsx)(I.W,{size:"md",py:"xl",children:(0,a.jsx)(si.M,{children:(0,a.jsxs)(sw.K,{align:"center",spacing:"md",children:[(0,a.jsx)(A.a,{size:"lg"}),(0,a.jsx)(D.D,{order:3,children:"در حال بررسی وضعیت ورود..."})]})})});if(!x||!y)return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(sp.u,{opened:s,onClose:()=>{c&&(clearTimeout(c),u(null)),n(!1),h("/login")},closeOnClickOutside:!1,closeOnEscape:!1,withCloseButton:!0,title:"ورود به حساب کاربری",centered:!0,overlayProps:{backgroundOpacity:.6,blur:3},children:[(0,a.jsx)(se.x,{mb:"md",children:"لطفا وارد حساب کاربری شوید"}),(0,a.jsx)(se.x,{size:"sm",c:"dimmed",mb:"md",children:"در حال انتقال به صفحه ورود در 3 ثانیه..."}),(0,a.jsx)(l9.k,{gap:"sm",justify:"flex-end",children:(0,a.jsx)(z.z,{onClick:()=>{c&&(clearTimeout(c),u(null)),h("/login")},variant:"filled",children:"رفتن به صفحه ورود"})})]}),(0,a.jsx)(I.W,{size:"md",py:"xl",children:(0,a.jsx)(si.M,{h:400,children:(0,a.jsxs)(sw.K,{align:"center",gap:"md",children:[(0,a.jsx)(se.x,{size:"xl",c:"dimmed",children:"در حال بررسی وضعیت ورود..."}),(0,a.jsx)(A.a,{size:"md"})]})})})]});let S=(null==v||null==(t=v.userTickets)||null==(e=t.tickets)?void 0:e.filter(e=>"all"===i||("closed"===i?"closed"===e.ticketStatus:"open"!==i||"closed"!==e.ticketStatus)))||[];return(0,a.jsxs)(a.Fragment,{children:[C&&(0,a.jsx)(st.a,{color:"#000",backgroundOpacity:.6,blur:2,style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:1e4,display:"flex",alignItems:"center",justifyContent:"center"},children:(0,a.jsxs)(sa.x,{style:{backgroundColor:"white",borderRadius:"12px",padding:"32px",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.3)",textAlign:"center",minWidth:"220px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[(0,a.jsx)(A.a,{size:"lg",color:"blue"}),(0,a.jsx)(se.x,{size:"md",mt:"lg",c:"dimmed",weight:500,children:"در حال بارگذاری تیکت‌ها..."})]})}),(0,a.jsxs)(l9.k,{justify:"space-between",align:"center",mb:"xl",children:[(0,a.jsx)(D.D,{children:"تیکت ها"}),(0,a.jsx)(z.z,{component:g.OL,to:"/account/tickets/new",children:"ارسال تیکت جدید"})]}),(0,a.jsx)(l9.k,{justify:"end",children:(0,a.jsx)(nE.P,{w:140,allowDeselect:!1,data:[{label:"همه",value:"all"},{label:"بسته شده",value:"closed"},{label:"باز",value:"open"}],value:i,onChange:e=>l(e)})}),(0,a.jsx)(sG.x,{type:"auto",mt:"xl",children:(0,a.jsxs)(oW.i,{highlightOnHover:!0,children:[(0,a.jsx)(oW.i.Thead,{children:(0,a.jsxs)(oW.i.Tr,{children:[(0,a.jsx)(oW.i.Th,{miw:100,c:r,children:"#"}),(0,a.jsx)(oW.i.Th,{miw:100,c:r,children:"موضوع"}),(0,a.jsx)(oW.i.Th,{miw:100,c:r,children:"بخش"}),(0,a.jsx)(oW.i.Th,{miw:100,c:r,children:"وضعیت"}),(0,a.jsx)(oW.i.Th,{miw:130,c:r,children:"آخرین به روز رسانی"}),(0,a.jsx)(oW.i.Th,{c:r,children:"عملیات"})]})}),(0,a.jsx)(oW.i.Tbody,{children:!C&&S.length>0?S.map((e,t)=>(0,a.jsx)(o1,{...e},t)):!C&&(0,a.jsx)(oW.i.Tr,{children:(0,a.jsx)(oW.i.Td,{colSpan:6,style:{textAlign:"center"},children:(0,a.jsx)(se.x,{c:"dimmed",children:"all"===i?"تیکتی وجود ندارد":"closed"===i?"تیکت بسته شده‌ای وجود ندارد":"تیکت باز شده‌ای وجود ندارد"})})})})]})})]})},{})},{path:"tickets/new",element:(0,a.jsx)(function(){var e,t,r,i,l,s,n,o,d,c,u,x;let b=(0,g.s0)(),[f,y]=(0,p.useState)(""),[j,v]=(0,p.useState)([]),[C,w]=(0,p.useState)(!0),[k,S]=(0,p.useState)(null),I=(0,m.I0)(),{ticket:N,loadingNewUserTicket:A,errorNewUserTicket:F,successNewUserTicket:M}=(0,m.v9)(e=>e.newUserTicket),T=(0,sd.c)({initialValues:{title:"",department:"technical_support",description:"",ticketShortDesc:""},validate:{title:e=>e.trim()?null:"عنوان الزامی است",department:e=>e?null:"بخش مربوطه الزامی است",description:e=>e.trim()?null:"توضیحات الزامی است",ticketShortDesc:e=>e.trim()?null:"خلاصه تیکت الزامی است"}}),P=async()=>{let e=localStorage.getItem("user");try{let t;w(!0),S(null);let r=await fetch(et("/user-myaccounts/tickets/getdepartmentsdata"),{method:"GET",headers:new Headers({Authorization:`Bearer ${e}`,"Content-Type":"application/json"})});if(!r.ok){let e=await r.json().catch(()=>({}));throw{status:r.status,message:(null==e?void 0:e.message)||eu(r.status)}}let a=await r.json();t=a&&Array.isArray(a.departments)?a.departments:a&&Array.isArray(a.data)?a.data:a&&Array.isArray(a)?a:[{label:"پشتیبانی فنی",value:"technical_support"},{label:"مالی و حسابداری",value:"finance"},{label:"ارتباط با مشتریان",value:"customer_relations"}],v(t),t.length>0&&!T.values.department&&T.setFieldValue("department",t[0].value)}catch(t){console.error("Error fetching departments:",t),S(t.message||"خطا در بارگذاری بخش‌ها");let e=[{label:"پشتیبانی فنی",value:"technical_support"},{label:"مالی و حسابداری",value:"finance"},{label:"ارتباط با مشتریان",value:"customer_relations"}];v(e),T.values.department||T.setFieldValue("department",e[0].value)}finally{w(!1)}};(0,p.useEffect)(()=>{P()},[]),(0,p.useEffect)(()=>{M&&setTimeout(()=>{b("/account")},1500)},[N,A,F,M,b]),(0,p.useEffect)(()=>{N&&(null==N?void 0:N.state)==="ok"&&h.N9.show({title:N.message,color:"green",autoClose:!0}),N&&(null==N?void 0:N.state)==="error"&&h.N9.show({title:N.message,color:"red",autoClose:!0})},[N]);let[E,_]=(0,p.useState)(!1),[L,B]=(0,p.useState)(!1);(0,p.useEffect)(()=>{if(N&&N.state){_(!0);let e=setTimeout(()=>{_(!1)},2e3);return()=>clearTimeout(e)}},[N]),(0,p.useEffect)(()=>{F&&400!==Number(F.status)&&401!==Number(F.status)&&403!==Number(F.status)&&404!==Number(F.status)&&405!==Number(F.status)&&408!==Number(F.status)&&409!==Number(F.status)&&410!==Number(F.status)&&411!==Number(F.status)&&412!==Number(F.status)&&413!==Number(F.status)&&414!==Number(F.status)&&415!==Number(F.status)&&416!==Number(F.status)&&417!==Number(F.status)&&422!==Number(F.status)&&429!==Number(F.status)&&h.N9.show({title:F.message,color:"red",autoClose:!0})},[F]),(0,p.useEffect)(()=>{(null==F?void 0:F.status)===401&&(B(!0),setTimeout(()=>{B(!1),I(t7()),b("/")},4e3)),(null==F?void 0:F.status)===403&&(B(!0),setTimeout(()=>{I(t7()),B(!1)},4e3))},[F,I,b]);let O=T.values.department;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(sy,{opened:L,onClose:()=>B(!1),message:null==F?void 0:F.message}),(0,a.jsx)(nS.f,{visible:A}),(0,a.jsx)(l9.k,{justify:"space-between",children:(0,a.jsxs)(D.D,{display:"flex",style:{alignItems:"center"},component:g.OL,to:"/account/tickets",children:[(0,a.jsx)(sb.IconArrowRight,{style:{marginLeft:"10px"}}),"ارسال تیکت"]})}),(0,a.jsx)(sa.x,{mt:"md",children:"success"===f?(0,a.jsx)(so.b,{variant:"light",color:"green",title:"اطلاعیه سیستم",children:"درخواست شما با موفقیت ثبت شد. کارشناسان ما در کوتاه‌ترین زمان ممکن پاسخ خواهند داد."}):(0,a.jsx)("form",{onSubmit:T.onSubmit(e=>{let t=j.find(t=>t.value===e.department),r=t?t.label:e.department;I(t5({...e,departmentLabel:r}))}),children:(0,a.jsxs)(sN.r,{children:[(0,a.jsx)(sD.$,{span:{lg:6},children:(0,a.jsx)(ss.o,{label:"عنوان",...T.getInputProps("title"),error:(null==N?void 0:N.state)==="error"&&(null==N||null==(e=N.error)?void 0:e.title)||T.errors.title?(0,a.jsxs)("div",{children:[(null==N?void 0:N.state)==="error"&&(null==N||null==(t=N.error)?void 0:t.title)&&(0,a.jsx)("div",{children:null==N||null==(r=N.error)?void 0:r.title}),T.errors.title&&(0,a.jsx)("div",{children:T.errors.title})]}):null})}),(0,a.jsx)(sD.$,{span:{lg:6},children:(0,a.jsx)(nE.P,{label:"بخش مربوطه",data:j,loading:C,disabled:C,placeholder:C?"در حال بارگذاری...":"انتخاب کنید",...T.getInputProps("department"),onChange:e=>{T.setFieldValue("department",e),T.setFieldValue("ticketShortDesc","")},error:k||((null==N?void 0:N.state)==="error"&&(null==N||null==(i=N.error)?void 0:i.department)||T.errors.department?(0,a.jsxs)("div",{children:[(null==N?void 0:N.state)==="error"&&(null==N||null==(l=N.error)?void 0:l.department)&&(0,a.jsx)("div",{children:null==N||null==(s=N.error)?void 0:s.department}),T.errors.department&&(0,a.jsx)("div",{children:T.errors.department})]}):null)})}),(0,a.jsx)(sD.$,{span:{lg:12},children:(0,a.jsx)(oz.F,{label:"خلاصه تیکت",placeholder:"مثلاً: مشکل در پرداخت نهایی",data:O&&({technical_support:["مشکل در ورود به سایت","بارگذاری نشدن صفحه","خطا در اپلیکیشن موبایل"],finance:["پرداخت انجام نشد","مشکل در فاکتور","درخواست برگشت وجه"],customer_relations:["درخواست تماس با پشتیبان","نارضایتی از خدمات","پیشنهاد بهبود تجربه کاربری"]})[O]||[],value:T.values.ticketShortDesc,onChange:e=>T.setFieldValue("ticketShortDesc",e),error:(null==N?void 0:N.state)==="error"&&(null==N||null==(n=N.error)?void 0:n.ticketShortDesc)||T.errors.ticketShortDesc?(0,a.jsxs)("div",{children:[(null==N?void 0:N.state)==="error"&&(null==N||null==(o=N.error)?void 0:o.ticketShortDesc)&&(0,a.jsx)("div",{children:null==N||null==(d=N.error)?void 0:d.ticketShortDesc}),T.errors.ticketShortDesc&&(0,a.jsx)("div",{children:T.errors.ticketShortDesc})]}):null})}),(0,a.jsx)(sD.$,{children:(0,a.jsx)(oe.g,{rows:5,label:"توضیحات",...T.getInputProps("description"),error:(null==N?void 0:N.state)==="error"&&(null==N||null==(c=N.error)?void 0:c.description)||T.errors.description?(0,a.jsxs)("div",{children:[(null==N?void 0:N.state)==="error"&&(null==N||null==(u=N.error)?void 0:u.description)&&(0,a.jsx)("div",{children:null==N||null==(x=N.error)?void 0:x.description}),T.errors.description&&(0,a.jsx)("div",{children:T.errors.description})]}):null})}),(0,a.jsx)(sD.$,{children:(0,a.jsx)(z.z,{type:"submit",children:"ارسال"})})]})})})]})},{})},{path:"tickets/single/:id",element:(0,a.jsx)(function(){var e,t,r,i,l;let{id:s}=(0,g.UO)(),n=(0,m.I0)(),[o,d]=(0,p.useState)(""),[c,u]=(0,p.useState)(null),[x,b]=(0,p.useState)({}),{shadows:f}=(0,sE.rZ)(),y=(0,g.s0)(),[j,v]=(0,p.useState)(null),[C,w]=(0,p.useState)(!1),{userTicketById:k,loadingUserTicketById:S}=(0,m.v9)(e=>e.userTicketsById),{ticketData:I,sending:N,success:F,error:M}=(0,m.v9)(e=>e.ticketSendMessage);(0,p.useEffect)(()=>{(null==I?void 0:I.state)==="ok"&&(h.N9.show({title:I.message,color:"green",autoClose:!0}),setTimeout(()=>{n(rs())},2e3)),(null==I?void 0:I.state)==="error"&&h.N9.show({title:I.message,color:"red",autoClose:!0})},[I]),(0,p.useEffect)(()=>{if(!(null==M?void 0:M.status))return;let e=Number(M.status);[400,401,403,404,405,406,408,409,410,411,412,413,414,415,416,417,422,429].includes(e)?(v(M.message),w(!0),sv(e,w,y)):h.N9.show({title:M.message||"خطا",color:"red",autoClose:!0}),setTimeout(()=>{n(rs())},100)},[M]),(0,p.useEffect)(()=>{s&&n(t6({id:s}))},[n,s]);let[T,{open:P,close:E}]=(0,s$.q)(!1),_={high:{label:"اولویت فوری",color:"red"},medium:{label:"اولویت متوسط",color:"yellow"},low:{label:"اولویت پایین",color:"gray"}}[null==k?void 0:k.priority]||{label:"اولویت نامشخص",color:"gray"};return(0,a.jsxs)(a.Fragment,{children:[N&&(0,a.jsx)(st.a,{color:"#000",backgroundOpacity:.6,blur:2,style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:1e4,display:"flex",alignItems:"center",justifyContent:"center"},children:(0,a.jsxs)(sa.x,{style:{backgroundColor:"white",borderRadius:"12px",padding:"32px",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.3)",textAlign:"center",minWidth:"220px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[(0,a.jsx)(A.a,{size:"lg",color:"blue"}),(0,a.jsx)(se.x,{size:"md",mt:"lg",c:"dimmed",weight:500,children:"در حال ارسال پیام..."})]})}),(0,a.jsx)(sy,{opened:C,onClose:()=>w(!1),message:j}),S?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l9.k,{justify:"space-between",children:(0,a.jsxs)(D.D,{display:"flex",style:{alignItems:"center"},component:g.OL,to:"/account/tickets",children:[(0,a.jsx)(sb.IconArrowRight,{style:{marginLeft:"10px"}}),(0,a.jsx)(nK.O,{height:20,width:"300px"})]})}),(0,a.jsx)(sH.i,{my:"lg"}),(0,a.jsxs)(sa.x,{style:{borderRadius:"10px",boxShadow:f.xs},className:"bg-white",p:"md",children:[(0,a.jsxs)(l9.k,{justify:"space-between",children:[(0,a.jsxs)(l9.k,{align:"center",children:[(0,a.jsx)(sb.IconUser,{size:16}),(0,a.jsx)(se.x,{size:"sm",children:(0,a.jsx)(nK.O,{height:20,width:"100px"})})]}),(0,a.jsx)(se.x,{size:"sm",c:"gray",children:(0,a.jsx)(nK.O,{height:20,width:"60px"})})]}),(0,a.jsx)(sH.i,{my:"lg"}),(0,a.jsx)(nK.O,{height:20,width:"100%",mt:6}),(0,a.jsx)(nK.O,{height:20,width:"100%",mt:6}),(0,a.jsx)(nK.O,{height:20,width:"70%",mt:6})]})]}):(0,a.jsxs)(a.Fragment,{children:[(null==k?void 0:k.ticketStatus)==="closed"&&(0,a.jsx)(so.b,{variant:"light",color:"yellow",mb:"md",children:(0,a.jsx)(se.x,{c:"yellow",size:"sm",children:"این تیکت بسته شده است. در صورتی که نیاز به پشتیبانی دارید، تیکت جدیدی باز کنید."})}),(0,a.jsxs)(l9.k,{justify:"space-between",children:[(0,a.jsxs)(D.D,{display:"flex",style:{alignItems:"center"},component:g.OL,to:"/account/tickets",children:[(0,a.jsx)(sb.IconArrowRight,{style:{marginLeft:"10px"}}),(null==k?void 0:k.ticketId)+"#"," ",null==k?void 0:k.ticketTitle]}),(0,a.jsx)(sB.A,{variant:"transparent",onClick:P,children:(0,a.jsx)(sb.IconInfoCircle,{})})]}),(0,a.jsx)(sH.i,{my:"lg"}),(0,a.jsx)(sw.K,{children:null==k||null==(e=k.messages)?void 0:e.map((e,t)=>(0,a.jsx)(sa.x,{children:(0,a.jsx)(o2,{sender:e.sender.name,date:k.updatedAt||k.createdAt,body:e.message,you:"user"===e.sender.role,item:e})},t))}),(0,a.jsx)(sp.u,{opened:T,title:"اطلاعات تیکت",onClose:E,children:(null==k?void 0:k.messages)&&(0,a.jsxs)(sz.M,{mt:"md",children:[(0,a.jsx)(o6,{label:"درخواست کننده : ",value:k.requesterName}),(0,a.jsx)(o6,{label:"بخش : ",value:k.teamName}),(0,a.jsx)(o6,{label:"ارسال شده : ",value:k.createdAt}),(0,a.jsx)(o6,{label:"آخرین به روز رسانی : ",value:k.updatedAt}),(0,a.jsx)(o6,{label:"وضعیت/اولویت : ",value:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(sx.C,{color:"closed"===k.ticketStatus?"gray":"",children:"closed"===k.ticketStatus?"بسته شده":"باز"}),(0,a.jsx)(sx.C,{color:_.color,children:_.label})]})})]})}),(0,a.jsx)(sH.i,{my:"md"}),(null==k?void 0:k.ticketStatus)!=="closed"&&(0,a.jsxs)(sa.x,{p:"md",mt:"md",style:{border:"1px solid #e0e0e0",borderRadius:"8px",backgroundColor:"#f9f9f9"},children:[(0,a.jsx)(se.x,{size:"sm",mb:"xs",children:"ارسال"}),(0,a.jsxs)(sw.K,{spacing:"xs",children:[(0,a.jsxs)("div",{style:{position:"relative"},children:[(0,a.jsx)("textarea",{style:{width:"100%",minHeight:"80px",borderRadius:"6px",padding:"10px",border:x.messageText?"1px solid red":"1px solid #ced4da"},placeholder:"پیام خود را بنویسید...",value:o,onChange:e=>{d(e.target.value),x.messageText&&b(e=>({...e,messageText:null}))}}),(null==I?void 0:I.state)==="error"&&((null==I||null==(t=I.errors)?void 0:t.message)||(null==I||null==(r=I.errors)?void 0:r.file))||x.messageText?(0,a.jsxs)("div",{children:[(null==I?void 0:I.state)==="error"&&(null==I||null==(i=I.errors)?void 0:i.message)&&(0,a.jsx)(se.x,{color:"red",size:"xs",mt:4,children:I.errors.message}),(null==I?void 0:I.state)==="error"&&(null==I||null==(l=I.errors)?void 0:l.file)&&(0,a.jsx)(se.x,{color:"red",size:"xs",mt:4,children:I.errors.file}),x.messageText&&(0,a.jsx)(se.x,{color:"red",size:"xs",mt:4,children:x.messageText})]}):null]}),(0,a.jsxs)(l9.k,{justify:"space-between",align:"center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("input",{type:"file",onChange:e=>{var t;let r=null==(t=e.target.files)?void 0:t[0];r&&(u(r),b(e=>({...e,file:null})))}}),x.file&&(0,a.jsx)(se.x,{color:"red",size:"xs",mt:2,children:x.file})]}),(0,a.jsx)(z.z,{color:"blue",variant:"filled",disabled:N,onClick:()=>{(()=>{let e={};return o.trim()||(e.messageText="لطفاً پیام خود را وارد کنید."),b(e),0===Object.keys(e).length})()&&n(ri({ticketId:s,messageText:o.trim(),messageFile:c})).then(e=>{e.type.endsWith("fulfilled")&&(d(""),u(null),b({}),n(t6({id:s})))})},leftSection:(0,a.jsx)(sb.IconSend,{size:16}),size:"sm",radius:"md",style:{minWidth:"80px",fontWeight:500},children:"ارسال"})]})]}),M&&(0,a.jsx)(se.x,{color:"red",size:"xs",mt:"sm",children:"string"==typeof M?M:M.message})]})]})]})},{})},{path:"notifications",element:(0,a.jsx)(function(){let[e,t]=(0,p.useState)(!1),[r,i]=(0,p.useState)(!1),[l,s]=(0,p.useState)(null),n=(0,g.s0)(),{isVerified:o,loading:d,error:c,user:u}=(0,m.v9)(e=>e.auth),h=(0,m.I0)(),[x,b]=(0,p.useState)(!0),[f,y]=(0,p.useState)(null),[j,v]=(0,p.useState)(0),{user:C,userMessagesComponent:w,isLoadingComponent:k,reduxComponentError:S}=(0,m.v9)(e=>{var t,r,a,i;return{user:null==(t=e.auth)?void 0:t.user,userMessagesComponent:null==(r=e.userMessages)?void 0:r.component,isLoadingComponent:null==(a=e.userMessages)?void 0:a.isLoading,reduxComponentError:null==(i=e.userMessages)?void 0:i.error}});(0,p.useEffect)(()=>{let e=async()=>{try{await h(er()).unwrap()}catch(e){console.log("Auth verification failed:",e)}finally{i(!0)}};r||e()},[h,r]),(0,p.useEffect)(()=>{if(r)return o&&u?(t(!1),l&&(clearTimeout(l),s(null)),(null==C?void 0:C.id)&&h(i9({userId:C.id}))):(l&&clearTimeout(l),t(!0),s(setTimeout(()=>{n("/login")},3e3))),()=>{l&&clearTimeout(l)}},[h,o,u,r,n,null==C?void 0:C.id]),(0,p.useEffect)(()=>{(async()=>{if(r&&o&&u){b(!0);try{var e;o9();let t=await h(i$()).unwrap();(null==t?void 0:t.component)&&(t.component=(e=t.component)?e.replace(/<img\s+([^>]*)\s*\/?>/g,"<SafeImage $1 />").replace(/src=\{([^}]+)\}/g,"src={getSafeImageUrl($1)}"):e),y(t)}catch(e){console.error("Failed to load notifications:",e)}finally{b(!1)}}})()},[h,j,r,o,u]);let N=async(e,t)=>{try{await h(iq({notificationId:e,index:t})).unwrap(),o9(),v(e=>e+1)}catch(e){console.error("Failed to handle notification click:",e)}},F=async(e,t,r)=>{try{await h(iq({notificationId:e,index:t,isRead:r})).unwrap(),o9(),v(e=>e+1)}catch(e){console.error("Failed to mark as read:",e)}},M=(0,p.useMemo)(()=>({onNotificationClick:N,onMarkAsRead:F,notificationIds:(null==f?void 0:f.notificationIds)||[],count:(null==f?void 0:f.count)||0,SafeImage:o8,getSafeImageUrl:o5,validateImagePath:o3,defaultImage:o4}),[f]),{component:T,error:P}=o7(null==f?void 0:f.component,M),E=()=>{v(e=>e+1),o9()};return!r||d?(0,a.jsx)(I.W,{size:"md",py:"xl",children:(0,a.jsx)(si.M,{children:(0,a.jsxs)(sw.K,{align:"center",spacing:"md",children:[(0,a.jsx)(A.a,{size:"lg"}),(0,a.jsx)(D.D,{order:3,children:"در حال بررسی وضعیت ورود..."})]})})}):o&&u?x||k?(0,a.jsx)(I.W,{size:"md",py:"xl",children:(0,a.jsx)(si.M,{children:(0,a.jsxs)(sw.K,{align:"center",spacing:"md",children:[(0,a.jsx)(A.a,{size:"lg"}),(0,a.jsx)(D.D,{order:3,children:"بارگذاری پیام‌ها..."})]})})}):S||P||!T?(0,a.jsx)(I.W,{size:"md",py:"xl",children:(0,a.jsxs)(sw.K,{spacing:"md",children:[(0,a.jsx)(D.D,{order:2,ta:"center",children:"پیام‌های من"}),(0,a.jsx)(so.b,{icon:(0,a.jsx)(sb.IconInfoCircle,{size:"1rem"}),title:"خطا در بارگذاری",color:"red",variant:"light",children:S||P||"خطا در بارگذاری کامپوننت پیام‌ها"}),(0,a.jsx)(si.M,{children:(0,a.jsx)(z.z,{onClick:E,variant:"light",children:"تلاش مجدد"})})]})}):(0,a.jsx)(I.W,{size:"md",py:"xl",children:(0,a.jsxs)(sw.K,{spacing:"md",children:[(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,a.jsx)(D.D,{order:2,ta:"center",style:{flex:1},children:"پیام‌های من"}),(0,a.jsx)(z.z,{onClick:E,variant:"light",size:"sm",children:"بروزرسانی"})]}),(0,a.jsx)(sa.x,{children:T&&(0,a.jsx)(T,{...M})}),(0,a.jsxs)(so.b,{icon:(0,a.jsx)(sb.IconInfoCircle,{size:"1rem"}),color:"blue",variant:"light",style:{marginTop:"2rem"},children:["تعداد پیام‌ها: ",(null==f?void 0:f.count)||0,(0,a.jsx)("br",{}),"آخرین بروزرسانی: ",new Date().toLocaleString("fa-IR")]})]})}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(sp.u,{opened:e,onClose:()=>{l&&(clearTimeout(l),s(null)),t(!1),n("/login")},closeOnClickOutside:!1,closeOnEscape:!1,withCloseButton:!0,title:"ورود به حساب کاربری",centered:!0,overlayProps:{backgroundOpacity:.6,blur:3},children:[(0,a.jsx)(se.x,{mb:"md",children:"لطفا وارد حساب کاربری شوید"}),(0,a.jsx)(se.x,{size:"sm",c:"dimmed",mb:"md",children:"در حال انتقال به صفحه ورود در 3 ثانیه..."}),(0,a.jsx)(l9.k,{gap:"sm",justify:"flex-end",children:(0,a.jsx)(z.z,{onClick:()=>{l&&(clearTimeout(l),s(null)),n("/login")},variant:"filled",children:"رفتن به صفحه ورود"})})]}),(0,a.jsx)(I.W,{size:"md",py:"xl",children:(0,a.jsx)(si.M,{h:400,children:(0,a.jsxs)(sw.K,{align:"center",gap:"md",children:[(0,a.jsx)(se.x,{size:"xl",c:"dimmed",children:"در حال بررسی وضعیت ورود..."}),(0,a.jsx)(A.a,{size:"md"})]})})})]})},{})},{path:"favorites",element:(0,a.jsx)(function(){let[e,t]=(0,p.useState)(!1),[r,i]=(0,p.useState)(!1),[l,s]=(0,p.useState)(null),n=(0,g.s0)(),{isVerified:o,loading:d,error:c,user:u}=(0,m.v9)(e=>e.auth),h=(0,m.I0)(),{userAccount:x,loading:b,error:f}=(0,m.v9)(e=>e.userMyAccounts),{user:y}=(0,m.v9)(e=>{var t;return{user:null==(t=e.auth)?void 0:t.user}});(0,p.useEffect)(()=>{let e=async()=>{try{await h(er()).unwrap()}catch(e){console.log("Auth verification failed:",e)}finally{i(!0)}};r||e()},[h,r]),(0,p.useEffect)(()=>{if(r)return o&&u?(t(!1),l&&(clearTimeout(l),s(null)),(async()=>{try{await new Promise(e=>setTimeout(e,1500)),(null==y?void 0:y.id)?await h(i9({userId:y.id})):await h(i9())}catch(e){console.error("Error loading user favorites:",e)}})()):(l&&clearTimeout(l),t(!0),s(setTimeout(()=>{n("/login")},3e3))),()=>{l&&clearTimeout(l)}},[h,o,u,r,n,null==y?void 0:y.id]);let j=()=>{(null==y?void 0:y.id)?h(i9({userId:y.id})):h(i9())};return!r||d?(0,a.jsx)(I.W,{size:"md",py:"xl",children:(0,a.jsx)(si.M,{children:(0,a.jsxs)(sw.K,{align:"center",spacing:"md",children:[(0,a.jsx)(A.a,{size:"lg"}),(0,a.jsx)(D.D,{order:3,children:"در حال بررسی وضعیت ورود..."})]})})}):o&&u?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(l9.k,{justify:"space-between",align:"center",mb:"xl",children:[(0,a.jsx)(D.D,{children:"محصولات علاقه مندی"}),(0,a.jsx)(z.z,{onClick:j,variant:"light",size:"sm",children:"بروزرسانی"})]}),b?(0,a.jsx)(sN.r,{children:[,,,].fill(0).map((e,t)=>(0,a.jsx)(sD.$,{span:{lg:4},children:(0,a.jsx)(dt,{id:"12",favoriteAdded:!1,skeleton:!0})},t))}):(0,a.jsx)(sN.r,{children:x&&(null==x?void 0:x.favorites)&&x.favorites.length>0?x.favorites.map((e,t)=>(0,a.jsx)(sD.$,{span:{lg:4},children:(0,a.jsx)(dt,{...e,favoriteAdded:!0,skeleton:!1,refetchParent:j})},t)):(0,a.jsx)(sD.$,{span:12,children:(0,a.jsx)(si.M,{h:200,children:(0,a.jsxs)(sw.K,{align:"center",gap:"md",children:[(0,a.jsx)(se.x,{size:"lg",c:"dimmed",children:"محصول مورد علاقه‌ای وجود ندارد"}),(0,a.jsx)(se.x,{size:"sm",c:"dimmed",children:"محصولات مورد علاقه خود را از فروشگاه اضافه کنید"})]})})})})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(sp.u,{opened:e,onClose:()=>{l&&(clearTimeout(l),s(null)),t(!1),n("/login")},closeOnClickOutside:!1,closeOnEscape:!1,withCloseButton:!0,title:"ورود به حساب کاربری",centered:!0,overlayProps:{backgroundOpacity:.6,blur:3},children:[(0,a.jsx)(se.x,{mb:"md",children:"لطفا وارد حساب کاربری شوید"}),(0,a.jsx)(se.x,{size:"sm",c:"dimmed",mb:"md",children:"در حال انتقال به صفحه ورود در 3 ثانیه..."}),(0,a.jsx)(l9.k,{gap:"sm",justify:"flex-end",children:(0,a.jsx)(z.z,{onClick:()=>{l&&(clearTimeout(l),s(null)),n("/login")},variant:"filled",children:"رفتن به صفحه ورود"})})]}),(0,a.jsx)(I.W,{size:"md",py:"xl",children:(0,a.jsx)(si.M,{h:400,children:(0,a.jsxs)(sw.K,{align:"center",gap:"md",children:[(0,a.jsx)(se.x,{size:"xl",c:"dimmed",children:"در حال بررسی وضعیت ورود..."}),(0,a.jsx)(A.a,{size:"md"})]})})})]})},{})}]},{path:"/seller/:id",element:(0,a.jsx)(function(){let[e,t]=(0,p.useState)("home"),[r,{close:i,open:l,toggle:s}]=(0,s$.q)(!1),{id:n}=(0,g.UO)(),{isLoading:o,data:d}=k({url:`/seller/${n}`,queryKey:["seller-info",n]});return o?(0,a.jsx)(si.M,{children:(0,a.jsx)(A.a,{})}):(0,a.jsx)(a.Fragment,{children:d?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(N.X,{p:"xl",py:{base:"sm",md:"xl"},children:(0,a.jsx)(dg,{toggleShareModal:s,...d})}),(0,a.jsxs)(s1.m,{variant:"pills",value:e,onChange:t,mt:"lg",children:[(0,a.jsx)(N.X,{mb:"xl",children:(0,a.jsxs)(dp.d,{children:[(0,a.jsx)(s1.m.Tab,{value:"home",children:"خانه"}),(0,a.jsx)(s1.m.Tab,{value:"products",children:"محصولات"}),(0,a.jsx)(s1.m.Tab,{value:"comments",children:"دیدگاه مشتری‌ها"})]})}),(0,a.jsx)(dh.A,{value:"home",children:(0,a.jsx)(db,{})}),(0,a.jsx)(dh.A,{value:"products",children:(0,a.jsx)(dw,{id:n,activeTab:e})}),(0,a.jsx)(dh.A,{value:"comments",children:(0,a.jsx)(dk,{activeTab:e})})]}),(0,a.jsx)(nx,{close:i,opened:r,link:window.location.href,children:"این فروشنده را با دوستان خود به اشتراک بگذارید!"})]}):(0,a.jsx)(s5,{children:"چنین فروشنده ای یافت نشد"})})},{})},{path:"/shop",element:(0,a.jsx)(function(){return(0,a.jsx)(dC,{url:"/shop",enabled:!0})},{})},{path:"/pricelists",element:(0,a.jsx)(function(){let e=(0,m.I0)(),{data:t,loading:r,error:i}=(0,m.v9)(e=>e.priceLists),{classes:l}=mG();return(0,p.useEffect)(()=>{e(aU())},[e]),(0,a.jsxs)(I.W,{size:"lg",children:[(0,a.jsx)(mH.q,{children:(0,a.jsx)("title",{children:"لیست قیمت محصولات | پنل مدیریت"})}),(0,a.jsxs)("div",{className:l.wrapper,children:[(0,a.jsxs)(sh.Z,{position:"center",spacing:"xs",children:[(0,a.jsx)(sZ.k,{variant:"light",size:"lg",radius:"xl",color:"indigo",children:(0,a.jsx)(sb.IconListDetails,{size:"1.5rem"})}),(0,a.jsx)(D.D,{order:2,className:l.pageTitle,children:"لیست قیمت محصولات"})]}),(0,a.jsx)(sH.i,{my:"sm",variant:"dashed"}),r&&(0,a.jsx)(si.M,{mt:"xl",children:(0,a.jsx)(A.a,{size:"lg",color:"indigo"})}),i&&(0,a.jsxs)(so.b,{icon:(0,a.jsx)(sb.IconAlertCircle,{size:20}),title:"خطا",color:"red",radius:"md",withCloseButton:!0,children:["دریافت لیست قیمت‌ها با خطا مواجه شد: ",i]}),!r&&!i&&0===t.length&&(0,a.jsx)(se.x,{align:"center",color:"dimmed",children:"هیچ لیست قیمتی یافت نشد."}),!r&&!i&&t.map(e=>(0,a.jsxs)(o$.Z,{padding:"md",radius:"md",withBorder:!0,className:l.card,children:[(0,a.jsx)(se.x,{mb:"md",className:l.listTitle,children:e.title}),(0,a.jsx)(sG.x,{type:"auto",offsetScrollbars:!0,children:(0,a.jsxs)("table",{className:l.table,children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:l.th,children:"محصول"}),(0,a.jsx)("th",{className:l.th,children:"قیمت"})]})}),(0,a.jsx)("tbody",{children:e.tablelist.map(e=>(0,a.jsxs)("tr",{className:l.stripedRow,children:[(0,a.jsx)("td",{className:l.td,children:e.product}),(0,a.jsx)("td",{className:l.td,children:e.price})]},e._id))})]})})]},e._id))]})]})},{})},{path:"/fastorder/:id?",element:(0,a.jsx)(function(){var e,t,r,i;let l=(0,m.I0)(),[s,n]=(0,p.useState)(!1),[o,d]=(0,p.useState)(!1),[c,u]=(0,p.useState)({searchComponent:!1,filtersComponent:!1,tableComponent:!1}),{savedFilters:x,deleteLoadingId:b}=(0,m.v9)(e=>e.getFilterSettings),[f,y]=(0,p.useState)(""),j=(0,g.TH)(),[v,w]=(0,p.useState)([]),[k,S]=(0,p.useState)(null),[I,D]=(0,p.useState)(null),[M,T]=(0,p.useState)(null),[P,E]=(0,p.useState)("10"),[_,L]=(0,p.useState)(1),[B,O]=(0,p.useState)(!1),[R,W]=(0,p.useState)(!1),[Z,U]=(0,p.useState)([{id:1,name:"Nike"},{id:2,name:"Adidas"},{id:3,name:"Puma"}]),[$,q]=(0,p.useState)({colors:[],sellers:[]}),[K,V]=(0,p.useState)("brand"),[H,G]=(0,p.useState)([]),[X,Y]=(0,p.useState)(!1),J="search_filters_brand_fast_edit";C.Z.get(J);let Q=(()=>{let e=C.Z.get(J);if(e)try{return JSON.parse(e)}catch(e){}return{searchType:"brand",uniqueIDClickedBrands:[],uniqueIDClickedBrandsCategories:[],filterBrandsCategorySubCategoryStorage:[],filters:{color:"all",province:"all",stockStatus:"all",minStock:"",deliveryTime:"",paymentType:"",supplier:"",sort:"bestPrice",priceFormat:"hezar"}}})(),[ee,et]=(0,p.useState)(Q.filters);(0,p.useEffect)(()=>{u(e=>({...e,searchComponent:!0}));let e=setTimeout(()=>{u(e=>({...e,filtersComponent:!0}))},2e3),t=setTimeout(()=>{u(e=>({...e,tableComponent:!0}))},3e3);return()=>{clearTimeout(e),clearTimeout(t)}},[]);let er=(()=>{let e=C.Z.get("search_filters_category_fast_edit");if(e)try{return JSON.parse(e)}catch(e){}return{searchType:"category",uniqueIDClickedCategories:[],uniqueIDClickedSubCategories:[],uniqueIDClickedSubCategoriesBrands:[],filters:{color:"all",province:"all",stockStatus:"all",minStock:"",deliveryTime:"",paymentType:"",supplier:"",sort:"bestPrice",priceFormat:"hezar"}}})(),[ea,ei]=(0,p.useState)(er.filters),[el,es]=(0,p.useState)(!1);"tooman"===ee.priceFormat||ee.priceFormat;let en=[{key:"image",label:"تصویر",width:"160px"},{key:"name",label:"نام کالا",width:"160px"},{key:"price",label:"قیمت",width:"160px"},{key:"discount",label:"با تخفیف",width:"160px"},{key:"attributes",label:"ویژگی ها",width:"160px"},{key:"stock",label:"موجودی",width:"160px"},{key:"minOrder",label:"حداقل سفارش",width:"120px"},{key:"maxOrder",label:"حداکثر سفارش",width:"120px"},{key:"seller",label:"تامین کننده",width:"120px"},{key:"deliveryTime",label:"زمان تحویل",width:"120px"},{key:"action",label:"عملیات",width:"120px"}],[eo,ed]=(0,p.useState)(!1),{saveStatus:ec,saveLoading:eu,saveError:em}=(0,m.v9)(e=>e.saveFilterSettings),eg=(0,g.s0)(),ep=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Set;return Array.isArray(e)&&e.forEach(e=>{var r;(null==e||null==(r=e.price)?void 0:r.ICPrice)&&e.price.ICPrice.forEach(e=>t.add(e.label)),Array.isArray(null==e?void 0:e.nodes)&&ep(e.nodes,t)}),t},eh=e=>{if(!Array.isArray(e))return[];let t=new Set;return e.forEach(e=>{ep(e.items,t)}),[...t].map(e=>({key:`ICPrice_${e}`,label:`\u{642}\u{6CC}\u{645}\u{62A} (${e.toUpperCase()})`,width:"120px"}))},ex=Array.isArray(k)?k:[],eb=eh(ex),ef=en.findIndex(e=>"price"===e.key),ey=[...en.slice(0,ef+1),...eb,...en.slice(ef+1)];(0,p.useEffect)(()=>{G(eh(ex).map(e=>e.key))},[ex]),(0,p.useEffect)(()=>{let e=new URLSearchParams(j.search),t=e.get("supplierid"),r=e.get("suppliername");t&&r&&et(e=>({...e,supplier:t})),t&&r&&ei(e=>({...e,supplier:t}))},[j,K]);let[ej,ev]=(0,p.useState)(window.innerWidth>window.innerHeight),[eC,ew]=(0,p.useState)(window.innerHeight>window.innerWidth);(0,p.useEffect)(()=>{let e=()=>{ev(window.innerWidth>window.innerHeight),ew(window.innerHeight>window.innerWidth)};return window.addEventListener("resize",e),e(),()=>window.removeEventListener("resize",e)},[]),(0,p.useEffect)(()=>{l(ly("brand"===K?"brand-fast-order":"category-fast-order"))},[K]),(0,p.useEffect)(()=>{ec&&(null==ec?void 0:ec.state)==="ok"&&h.N9.show({title:ec.message,color:"green",autoClose:!0}),ec&&(null==ec?void 0:ec.state)==="error"&&h.N9.show({title:ec.message,color:"red",autoClose:!0})},[ec]),(0,p.useEffect)(()=>{em&&400!==Number(em.status)&&401!==Number(em.status)&&403!==Number(em.status)&&404!==Number(em.status)&&405!==Number(em.status)&&408!==Number(em.status)&&409!==Number(em.status)&&410!==Number(em.status)&&411!==Number(em.status)&&412!==Number(em.status)&&413!==Number(em.status)&&414!==Number(em.status)&&415!==Number(em.status)&&416!==Number(em.status)&&417!==Number(em.status)&&422!==Number(em.status)&&429!==Number(em.status)&&h.N9.show({title:em.message,color:"red",autoClose:!0})},[em]),(0,p.useEffect)(()=>{(null==em?void 0:em.status)===401&&(ed(!0),setTimeout(()=>{ed(!1),l(ll()),eg("/")},4e3)),(null==em?void 0:em.status)===403&&(ed(!0),setTimeout(()=>{l(ll()),ed(!1)},4e3))},[em,l,eg]),(0,p.useEffect)(()=>{(null==em?void 0:em.status)&&sv(em.status,ed,eg)},[em,ec]),(0,sd.c)({initialValues:{inputBox:""},validate:{title:e=>e.trim()?null:"نام الزامی است"}});let[ek,eS]=(0,p.useState)(!1),eI=(0,p.useRef)(null),ez=(0,p.useRef)(0),eN=(0,p.useRef)(0);(0,p.useEffect)(()=>{eI.current&&(eN.current=eI.current.offsetTop);let e=()=>{let e=window.scrollY;e<ez.current&&e>eN.current?eS(!0):eS(!1),ez.current=e};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]);let eD=e=>{let{height:t="200px"}=e;return(0,a.jsx)(sa.x,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:t,backgroundColor:"#f8f9fa",border:"1px dashed #dee2e6",borderRadius:"8px"},children:(0,a.jsx)(A.a,{size:"lg"})})};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(sy,{opened:eo,onClose:()=>ed(!1),message:null==em?void 0:em.message}),(0,a.jsx)(sa.x,{children:(0,a.jsx)(us,{children:(0,a.jsx)(uc.Provider,{value:{visibleColumns:v,setVisibleColumns:w,filters_brand_mode:ee,filterValues:$,setFilters_brand_mode:et,setFilterValues:q,searchType:K},children:(0,a.jsxs)(cC,{children:[c.searchComponent?"brand"===K?(0,a.jsx)("div",{children:(0,a.jsx)(cI,{children:(0,a.jsx)(c2,{filters:ee,setFilters:et,setNodesSubCategories:D,setNodes:S,setAvailableLocations:T,searchType:K,setSearchType:V})})}):(0,a.jsx)("div",{children:(0,a.jsx)(cR,{children:(0,a.jsx)(ui,{filters:ea,setFilters:ei,setNodesSubCategories:D,setNodes:S,setAvailableLocations:T,searchType:K,setSearchType:V})})}):(0,a.jsx)(eD,{height:"120px"}),c.filtersComponent?(0,a.jsx)("div",{ref:eI,style:{position:ek?"fixed":"static",top:ek?0:"auto",left:0,right:0,zIndex:999,background:ek?"white":"transparent"},children:"brand"===K?(0,a.jsx)(c9,{setFilters:et,nodes:k,setNodesSubCategories:D,setNodes:S,filters:ee,searchType:K}):(0,a.jsx)(ua,{setFilters:ei,nodes:k,setNodesSubCategories:D,setNodes:S,filters:ea,searchType:K})}):(0,a.jsx)(eD,{height:"80px"}),c.tableComponent?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(sh.Z,{id:"fastorder-tablesettings",mt:"lg",mb:"sm",justify:"center",align:"center",children:[(0,a.jsx)(z.z,{leftSection:(0,a.jsx)(sb.IconSettings,{size:16}),onClick:()=>es(!0),py:0,children:"نمایش ستون‌ها"}),(0,a.jsx)(ud,{isPortrait:eC})]}),"brand"===K&&null!==k&&(null==k?void 0:k.length)>0?(0,a.jsxs)(N.X,{p:0,className:"overflow-hidden",bg:"white",id:"tables",children:[(0,a.jsx)(cy,{type:"head",isPortrait:eC,isLandscape:ej,icPriceKeys:H,filters_brand_mode:ee,filterValues:$,availableLocations:M,COLUMNS:ey,nodes:(null==(t=k[0])||null==(e=t.items)?void 0:e.slice(0,1))||[],setVisibleColumns:w,visibleColumns:v}),k.map((e,t)=>(0,a.jsxs)(p.Fragment,{children:[(0,a.jsx)(l9.k,{h:40,align:"center",justify:"center",bg:"#e5e7eb",children:(0,a.jsx)(se.x,{size:"18px",c:"dark",children:e.label})}),(0,a.jsx)(cy,{keyIndex:t,isPortrait:eC,isLandscape:ej,icPriceKeys:H,filters_brand_mode:ee,filterValues:$,setNodes:S,availableLocations:M,type:"data",COLUMNS:ey,nodes:e.items||[],setVisibleColumns:w,visibleColumns:v})]},t))]}):"category"===K&&null!==I&&(null==I?void 0:I.length)>0?(0,a.jsxs)(N.X,{p:0,className:"overflow-hidden",bg:"white",id:"tables",children:[(0,a.jsx)(cb,{type:"head",isPortrait:eC,isLandscape:ej,icPriceKeys:H,filters_category_mode:ea,filterValues:$,availableLocations:M,COLUMNS:ey,nodes:(null==(i=I[0])||null==(r=i.items)?void 0:r.slice(0,1))||[],setVisibleColumns:w,visibleColumns:v}),null==I?void 0:I.map((e,t)=>(0,a.jsxs)(p.Fragment,{children:[(0,a.jsx)(l9.k,{h:40,align:"center",justify:"center",bg:"#e5e7eb",children:(0,a.jsx)(se.x,{size:"18px",c:"dark",children:e.label})}),(0,a.jsx)(cb,{isPortrait:eC,isLandscape:ej,icPriceKeys:H,filters_category_mode:ea,filterValues:$,keyIndex:t,availableLocations:M,setNodes:D,type:"data",COLUMNS:ey,nodes:e.items||[],setVisibleColumns:w,visibleColumns:v})]},t))]}):null]}):(0,a.jsx)(eD,{height:"300px"}),(0,a.jsx)(sp.u,{opened:el,onClose:()=>es(!1),title:"نمایش دادن ستون‌ها",children:(0,a.jsx)(sw.K,{children:ey.map(e=>(0,a.jsx)(F.X,{label:e.label,checked:!v.includes(e.key),onChange:t=>((e,t)=>{let r=e.target.checked;w(e=>r?e.filter(e=>e!==t):[...e,t])})(t,e.key)},e.key))})})]})})})})]})},{})},{path:"/fastedit/:id?",element:(0,a.jsx)(function(){let{isVerified:e,loading:t,error:r,user:i}=(0,m.v9)(e=>e.auth),l=(0,m.I0)();(0,p.useEffect)(()=>{l(er())},[l]);let s=(0,g.TH)(),[n,o]=(0,p.useState)(!1),[d,c]=(0,p.useState)([]),[u,x]=(0,p.useState)(null),[b,f]=(0,p.useState)(null),[y,j]=(0,p.useState)(null),[v,w]=(0,p.useState)("10"),[k,S]=(0,p.useState)(1),[I,D]=(0,p.useState)({colors:[],sellers:[]}),[A,M]=(0,p.useState)("brand"),[T,P]=(0,p.useState)([]),[E,_]=(0,p.useState)(),L=(0,g.s0)(),B=(()=>{let e=C.Z.get("search_filters_brand_fast_edit");if(e)try{return JSON.parse(e)}catch(e){}return{searchType:"brand",uniqueIDClickedBrands:[],uniqueIDClickedBrandsCategories:[],filterBrandsCategorySubCategoryStorage:[],filters:{color:"all",province:"all",stockStatus:"all",minStock:"",deliveryTime:"",paymentType:"",supplier:"",sort:"bestPrice",priceFormat:"hezar"}}})(),[O,R]=(0,p.useState)(B.filters),W=(()=>{let e=C.Z.get("search_filters_category_fast_edit");if(e)try{return JSON.parse(e)}catch(e){}return{searchType:"category",uniqueIDClickedCategories:[],uniqueIDClickedSubCategories:[],uniqueIDClickedSubCategoriesBrands:[],filters:{color:"all",province:"all",stockStatus:"all",minStock:"",deliveryTime:"",paymentType:"",supplier:"",sort:"bestPrice",priceFormat:"hezar"}}})(),[Z,U]=(0,p.useState)(W.filters),[$,q]=(0,p.useState)(!1);"tooman"===O.priceFormat||O.priceFormat;let K=[{key:"image",label:"تصویر",width:"160px"},{key:"shortName",label:"نام اختصاری کالا",width:"160px"},{key:"name",label:"نام کالا",width:"160px"},{key:"price",label:"قیمت",width:"160px"},{key:"discount",label:"تخفیف",width:"160px"},{key:"attributes",label:"ویژگی ها",width:"160px"},{key:"stock",label:"موجودی",width:"160px"},{key:"minOrder",label:"حداقل سفارش",width:"120px"},{key:"maxOrder",label:"حداکثر سفارش",width:"120px"},{key:"seller",label:"تامین کننده",width:"120px"},{key:"deliveryTime",label:"زمان تحویل",width:"120px"},{key:"payment_type",label:"نوع پرداخت",width:"120px"},{key:"delivery",label:"محل ارسال",width:"120px"},{key:"action",label:"عملیات",width:"120px"}],V=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Set;return Array.isArray(e)&&e.forEach(e=>{var r;(null==e||null==(r=e.price)?void 0:r.ICPrice)&&e.price.ICPrice.forEach(e=>t.add(e.label)),Array.isArray(null==e?void 0:e.nodes)&&V(e.nodes,t)}),t},H=e=>{if(!Array.isArray(e))return[];let t=new Set;return e.forEach(e=>{V(e.items,t)}),[...t].map(e=>({key:`ICPrice_${e}`,label:`\u{642}\u{6CC}\u{645}\u{62A} (${e.toUpperCase()})`,width:"120px"}))},G=(0,p.useMemo)(()=>Array.isArray(u)?u:[],[u]),X=H(G),Y=K.findIndex(e=>"price"===e.key),J=[...K.slice(0,Y+1),...X,...K.slice(Y+1)];(0,p.useEffect)(()=>{P(H(G).map(e=>e.key))},[G]),(0,p.useEffect)(()=>{let e=new URLSearchParams(s.search),t=e.get("supplierid"),r=e.get("suppliername");t&&r&&R(e=>({...e,supplier:t})),t&&r&&U(e=>({...e,supplier:t}))},[s,A]);let[Q,ee]=(0,p.useState)(window.innerWidth>window.innerHeight),[et,ea]=(0,p.useState)(window.innerHeight>window.innerWidth);(0,p.useEffect)(()=>{let e=()=>{ee(window.innerWidth>window.innerHeight),ea(window.innerHeight>window.innerWidth)};return window.addEventListener("resize",e),e(),()=>window.removeEventListener("resize",e)},[]);let{loadingBrandModeUpdate:ei,brandModeUpdate:el,errorBrandModeUpdate:es,successMessageBrandModeUpdate:en}=(0,m.v9)(e=>e.fastEditBrandMode);(0,p.useEffect)(()=>{let e=es&&void 0!==es.status&&!isNaN(Number(es.status));!es||0===Object.keys(es).length||!e||[400,401,403,404,405,406,408,409,410,411,412,413,414,415,416,417,422,429].includes(Number(es.status))||h.N9.show({title:(null==es?void 0:es.message)||"خطایی رخ داده است",color:"red",autoClose:!0}),l(i6())},[es]),(0,p.useEffect)(()=>{(null==es?void 0:es.status)&&(sv(null==es?void 0:es.status,o,L),_(null==es?void 0:es.message)),l(i6())},[es]),(0,p.useEffect)(()=>{if(el&&"error"===el.state){if(Array.isArray(el.errors)&&el.errors.length>0){let e=el.errors.map(e=>{let t=e.label?`<span style="color: red;">${e.label}</span>`:"خطا";return`\u{2022} ${t}: ${e.message}`}).join("<br />"),t=el.product.general.title;h.N9.show({title:"خطاهای اعتبارسنجی",message:(0,a.jsxs)("div",{className:"",children:[(0,a.jsx)("div",{style:{color:"green",marginTop:2,fontWeight:"bold",fontSize:"10x"},children:t}),(0,a.jsx)("div",{style:{color:"",marginTop:2,fontWeight:"",fontSize:"12px"},dangerouslySetInnerHTML:{__html:e}})]}),color:"red",autoClose:!0})}else h.N9.show({title:(null==el?void 0:el.message)||"خطا",color:"red",autoClose:!0});el&&"ok"===el.state&&h.N9.show({title:null==el?void 0:el.message,color:"green",autoClose:!0}),l(i6())}},[el]),(0,p.useEffect)(()=>{el&&"ok"===el.state&&h.N9.show({title:null==el?void 0:el.message,color:"green",autoClose:!0}),l(i6())},[el]);let[eo,ed]=(0,p.useState)(!1);(0,p.useEffect)(()=>{es&&_(null==es?void 0:es.message)},[es]);let[ec,eu]=(0,p.useState)(!1),em=(0,p.useRef)(null),eg=(0,p.useRef)(0),ep=(0,p.useRef)(0);if((0,p.useEffect)(()=>{em.current&&(ep.current=em.current.offsetTop);let e=()=>{let e=window.scrollY;e<eg.current&&e>ep.current?eu(!0):eu(!1),eg.current=e};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]),t)return(0,a.jsx)(nC,{});if(r)return(0,a.jsx)(si.M,{style:{minHeight:"200px"},children:(0,a.jsxs)(sw.K,{align:"center",children:[(0,a.jsx)(se.x,{color:"red",children:"خطا در بررسی احراز هویت"}),(0,a.jsx)(z.z,{onClick:()=>l(er()),children:"تلاش مجدد"})]})});if(!i||"supplier"!==i.role)return(0,a.jsx)(sp.u,{opened:!0,onClose:()=>{},title:"ورود به حساب کاربری",centered:!0,withCloseButton:!1,closeOnClickOutside:!1,zIndex:50,children:(0,a.jsxs)(sw.K,{children:[(0,a.jsx)(se.x,{children:"برای مشاهده این صفحه نیاز به دسترسی تامین کننده دارید."}),(0,a.jsx)(z.z,{onClick:()=>L("/login"),variant:"filled",color:"blue",fullWidth:!0,children:"ورود به حساب کاربری"})]})});if("supplier"===i.role){var eh,ex,eb,ef;return(0,a.jsxs)(a.Fragment,{children:[!ei&&(0,a.jsx)(sy,{opened:n,onClose:()=>o(!1),message:E}),(0,a.jsx)(mC.Provider,{value:{visibleColumns:d,setVisibleColumns:c,filters_category_mode:Z,filters_brand_mode:O,filterValues:I,setFilters_category_mode:U,setFilters_brand_mode:R,setFilterValues:D,searchType:A},children:(0,a.jsxs)(u1,{children:["brand"===A?(0,a.jsx)("div",{children:(0,a.jsx)(mm,{filters:O,setFilters:R,setNodesSubCategories:f,setNodes:x,setAvailableLocations:j,searchType:A,setSearchType:M})}):(0,a.jsx)("div",{children:(0,a.jsx)(mv,{filters:Z,setFilters:U,setNodesSubCategories:f,setNodes:x,setAvailableLocations:j,searchType:A,setSearchType:M})}),(0,a.jsx)("div",{ref:em,style:{position:ec?"fixed":"static",top:ec?0:"auto",left:0,right:0,zIndex:999,background:ec?"white":"transparent"},children:"brand"===A?(0,a.jsx)(N.X,{id:"fastorder-filters",children:(0,a.jsx)(mx,{setFilters:R,nodes:u,setNodesSubCategories:f,setNodes:x,filters:O,searchType:A})}):(0,a.jsx)(N.X,{id:"fastorder-filters",children:(0,a.jsx)(mj,{setFilters:U,nodes:u,setNodesSubCategories:f,setNodes:x,filters:Z,searchType:A})})}),(0,a.jsxs)(sh.Z,{id:"fastorder-tablesettings",mt:"lg",mb:"sm",justify:"center",align:"center",children:[(0,a.jsx)(z.z,{leftSection:(0,a.jsx)(sb.IconSettings,{size:16}),onClick:()=>q(!0),py:0,children:"نمایش ستون‌ها"}),(0,a.jsx)(ud,{isPortrait:et})]}),"brand"===A&&null!==u&&(null==u?void 0:u.length)>0?(0,a.jsxs)(N.X,{p:0,className:"overflow-hidden",bg:"white",id:"tables",children:[(0,a.jsx)(uJ,{type:"head",isPortrait:et,isLandscape:Q,icPriceKeys:T,filters_brand_mode:O,filterValues:I,availableLocations:y,COLUMNS:J,nodes:(null==(ex=u[0])||null==(eh=ex.items)?void 0:eh.slice(0,1))||[],setVisibleColumns:c,visibleColumns:d}),u.map((e,t)=>(0,a.jsxs)(p.Fragment,{children:[(0,a.jsx)(l9.k,{h:40,align:"center",justify:"center",bg:"#e5e7eb",children:(0,a.jsx)(se.x,{size:"18px",c:"dark",children:e.label})}),(0,a.jsx)(uJ,{keyIndex:t,isPortrait:et,isLandscape:Q,icPriceKeys:T,filters_brand_mode:O,filterValues:I,setNodes:x,availableLocations:y,type:"data",COLUMNS:J,nodes:e.items||[],setVisibleColumns:c,visibleColumns:d})]},t))]}):"category"===A&&null!==b&&(null==b?void 0:b.length)>0?(0,a.jsxs)(N.X,{p:0,className:"overflow-hidden",bg:"white",id:"tables",children:[(0,a.jsx)(uX,{type:"head",isPortrait:et,isLandscape:Q,icPriceKeys:T,filters_category_mode:Z,filterValues:I,availableLocations:y,COLUMNS:J,nodes:(null==(ef=b[0])||null==(eb=ef.items)?void 0:eb.slice(0,1))||[],setVisibleColumns:c,visibleColumns:d}),null==b?void 0:b.map((e,t)=>(0,a.jsxs)(p.Fragment,{children:[(0,a.jsx)(l9.k,{h:40,align:"center",justify:"center",bg:"#e5e7eb",children:(0,a.jsx)(se.x,{size:"18px",c:"dark",children:e.label})}),(0,a.jsx)(uX,{isPortrait:et,isLandscape:Q,icPriceKeys:T,filters_category_mode:Z,filterValues:I,keyIndex:t,availableLocations:y,setNodes:f,type:"data",COLUMNS:J,nodes:e.items||[],setVisibleColumns:c,visibleColumns:d})]},t))]}):null,(0,a.jsx)(sp.u,{opened:$,onClose:()=>q(!1),title:"نمایش دادن ستون‌ها",children:(0,a.jsx)(sw.K,{children:J.map(e=>(0,a.jsx)(F.X,{label:e.label,checked:!d.includes(e.key),onChange:t=>((e,t)=>{let r=e.target.checked;c(e=>r?e.filter(e=>e!==t):[...e,t])})(t,e.key)},e.key))})})]})})]})}},{})},{path:"/subscription",element:(0,a.jsx)(function(){var e;let t=(0,sE.rZ)(),r=(0,m.I0)(),[i,l]=(0,p.useState)(!1),[s,n]=(0,p.useState)(!1),[o,d]=(0,p.useState)({opened:!1,planTitle:"",planPrice:0,accountBalance:0}),[c,u]=(0,p.useState)({opened:!1,plan:null}),{user:g}=(0,m.v9)(e=>e.auth),{subscriptionInfo:h,loadingSubscriptionInfo:x,showSubscriptionModal:b,errorSubscriptionInfo:f}=(0,m.v9)(e=>e.getSubscriptionInfo),{subscriptionPlansGet:y,loadingsubscriptionPlansGet:j}=(0,m.v9)(e=>e.subscriptionsPlansGet),{cartUpdate:v,loadingUpdate:C}=(0,m.v9)(e=>e.cartUpdate),w=(0,m.v9)(e=>{var t;return(null==(t=e.cart)?void 0:t.items)||[]}),{subscriptionByUserId:k,loadingSubscriptionByUserId:S}=(0,m.v9)(e=>e.getSubscriptionByUserId);(0,p.useEffect)(()=>{g&&r(iP())},[r,g]),(0,p.useEffect)(()=>{r(er()).finally(()=>{n(!0)}),r(t$())},[r,C,v]),(0,p.useEffect)(()=>{s&&null===g?l(!0):l(!1)},[g,s]);let I=async(e,t)=>{try{await r(aC({modelId:e.modelId,transactionId:t})),r(iP())}catch(e){console.error("Purchase error:",e)}},A=e=>new Intl.NumberFormat("fa-IR").format(e);return C?(0,a.jsx)(nC,{showR:!0}):(0,a.jsxs)(a.Fragment,{children:[s&&!g&&(0,a.jsx)(sa.x,{pos:"fixed",top:0,left:0,w:"100%",h:"100%",style:{backdropFilter:"blur(5px)",backgroundColor:"rgba(255, 255, 255, 0.6)",zIndex:10}}),(0,a.jsx)(sp.u,{opened:i,onClose:()=>{},title:"ورود به حساب کاربری",centered:!0,withCloseButton:!1,closeOnClickOutside:!1,zIndex:20,children:(0,a.jsx)(se.x,{children:"برای مشاهده پلن ها ابتدا وارد سایت شوید."})}),(0,a.jsx)(sp.u,{opened:b,onClose:()=>r(i8(!1)),title:"تایید خرید اشتراک",centered:!0,size:"sm",children:(0,a.jsxs)(sw.K,{align:"center",gap:"md",children:[(0,a.jsx)(sZ.k,{size:60,color:"blue",variant:"light",children:(0,a.jsx)(sb.IconCircleCheckFilled,{size:30})}),(0,a.jsx)(se.x,{ta:"center",size:"lg",fw:500,children:"آیا از خرید این اشتراک اطمینان دارید؟"}),x&&(0,a.jsx)(se.x,{c:"dimmed",size:"sm",children:"در حال بارگذاری..."}),(null==h?void 0:h.plan)&&(0,a.jsxs)(sa.x,{w:"100%",children:[(0,a.jsxs)(sh.Z,{justify:"space-between",mb:"xs",children:[(0,a.jsx)(se.x,{size:"sm",c:"dimmed",children:"پلن انتخابی:"}),(0,a.jsx)(se.x,{size:"sm",fw:500,children:h.plan.title})]}),(0,a.jsxs)(sh.Z,{justify:"space-between",mb:"xs",children:[(0,a.jsx)(se.x,{size:"sm",c:"dimmed",children:"مدت زمان:"}),(0,a.jsx)(se.x,{size:"sm",fw:500,children:h.plan.duration})]}),(0,a.jsxs)(sh.Z,{justify:"space-between",mb:"md",children:[(0,a.jsx)(se.x,{size:"sm",c:"dimmed",children:"قیمت:"}),(0,a.jsxs)(se.x,{size:"sm",fw:500,c:"green",children:[A((null==(e=h.plan.price)?void 0:e.discountedPrice)||0)," تومان"]})]})]}),(0,a.jsxs)(sh.Z,{gap:"xs",mt:"md",children:[(0,a.jsx)(z.z,{variant:"filled",color:"blue",onClick:()=>{(null==h?void 0:h.plan)&&(I(h.plan,h.transactionId),r(i8(!1)))},disabled:!(null==h?void 0:h.plan),children:"تایید خرید"}),(0,a.jsx)(z.z,{variant:"outline",onClick:()=>r(i8(!1)),children:"انصراف"})]})]})}),(0,a.jsx)(sp.u,{opened:o.opened,onClose:()=>d(e=>({...e,opened:!1})),title:"موجودی ناکافی",centered:!0,size:"sm",children:(0,a.jsxs)(sw.K,{align:"center",gap:"md",children:[(0,a.jsx)(sZ.k,{size:60,color:"red",variant:"light",children:(0,a.jsx)(sb.IconAlertTriangle,{size:30})}),(0,a.jsx)(se.x,{ta:"center",size:"lg",fw:500,children:"موجودی حساب شما برای خرید این پلن کافی نیست"}),(0,a.jsxs)(sa.x,{w:"100%",children:[(0,a.jsxs)(sh.Z,{justify:"space-between",mb:"xs",children:[(0,a.jsx)(se.x,{size:"sm",c:"dimmed",children:"پلن انتخابی:"}),(0,a.jsx)(se.x,{size:"sm",fw:500,children:o.planTitle})]}),(0,a.jsxs)(sh.Z,{justify:"space-between",mb:"xs",children:[(0,a.jsx)(se.x,{size:"sm",c:"dimmed",children:"قیمت پلن:"}),(0,a.jsxs)(se.x,{size:"sm",fw:500,c:"red",children:[A(o.planPrice)," تومان"]})]}),(0,a.jsxs)(sh.Z,{justify:"space-between",mb:"md",children:[(0,a.jsx)(se.x,{size:"sm",c:"dimmed",children:"موجودی حساب:"}),(0,a.jsxs)(se.x,{size:"sm",fw:500,c:"blue",children:[A(o.accountBalance)," تومان"]})]}),(0,a.jsxs)(sh.Z,{justify:"space-between",pt:"xs",style:{borderTop:"1px solid #e9ecef"},children:[(0,a.jsx)(se.x,{size:"sm",c:"dimmed",children:"مبلغ مورد نیاز:"}),(0,a.jsxs)(se.x,{size:"sm",fw:500,c:"orange",children:[A(o.planPrice-o.accountBalance)," تومان"]})]})]}),(0,a.jsxs)(sh.Z,{gap:"xs",mt:"md",children:[(0,a.jsx)(z.z,{variant:"filled",color:"blue",onClick:()=>{d(e=>({...e,opened:!1})),window.location.href="/account/wallet"},children:"شارژ کیف پول"}),(0,a.jsx)(z.z,{variant:"outline",onClick:()=>d(e=>({...e,opened:!1})),children:"انصراف"})]})]})}),(0,a.jsxs)(sa.x,{style:{pointerEvents:g?"auto":"none"},children:[(0,a.jsx)(si.M,{children:(0,a.jsx)(nq,{children:"اشتراک ویژه"})}),(0,a.jsx)(sN.r,{mt:"xl",children:y.map(e=>{var i,l;let s=w.find(t=>t.productId===e.modelId),n=null==k||null==(l=k.subscriptions)||null==(i=l.find(t=>t.modelId===e.modelId))?void 0:i.purchased,o=((null==k?void 0:k.account_balance)||0)<e.price.discountedPrice;return(0,a.jsx)(sD.$,{span:{lg:"auto"},children:(0,a.jsx)(N.X,{display:"flex",style:{justifyContent:"center"},radius:"lg",withBorder:!0,shadow:"0",py:"30px",pb:"35px",px:"xl",children:(0,a.jsxs)(sa.x,{w:300,children:[(0,a.jsx)(si.M,{style:{flexDirection:"column"},children:(0,a.jsxs)(sw.K,{align:"center",children:[(0,a.jsx)(D.D,{c:"dark",size:"25px",children:e.title}),(0,a.jsx)(D.D,{c:"dark",size:"18px",children:e.duration}),(0,a.jsx)(se.x,{style:{display:"flex",alignItems:"end",gap:"5px"},c:t.primaryColor,size:"14px",fw:"600",component:"span",children:(0,a.jsx)(nH,{regularPrice:e.price.regularPrice,discountPercent:e.price.discountPercent,discountedPrice:e.price.discountedPrice})})]})}),(0,a.jsx)(sw.K,{mt:"xl",children:e.features.map((e,t)=>(0,a.jsxs)(sh.Z,{align:"center",children:[(0,a.jsx)(sZ.k,{size:"sm",variant:"transparent",color:"orange",children:(0,a.jsx)(sb.IconCircleCheckFilled,{})}),(0,a.jsx)(se.x,{component:"span",size:"sm",fw:"700",c:"dark",children:e})]},t))}),(0,a.jsx)(si.M,{mt:"xl",children:"free"!==e.subscription&&(0,a.jsx)(z.z,{h:30,disabled:!!s||n,onClick:()=>(e=>{let t=(null==k?void 0:k.account_balance)||0,a=e.price.discountedPrice;t<a?d({opened:!0,planTitle:e.title,planPrice:a,accountBalance:t}):r(i4({modelId:e.modelId}))})(e),variant:n||s?"outline":"filled",color:n||s?"gray":o?"orange":"blue",children:n?"خریداری شده":s?"در انتظار پرداخت سبد":o?"موجودی ناکافی":"خرید"})})]})})},e._id)})})]})]})},{})},{path:"/archive/:url",element:(0,a.jsx)(()=>{let{url:e}=(0,g.UO)();return(0,a.jsx)(dC,{enabled:!0,url:e})},{})}]}];var m3=r(34250),m5=r(87695);let m8=e=>{let{text:t,fontSize:r,color:i,textAlign:l,fontWeight:s,...n}=e,{connectors:{connect:o,drag:d},selected:c,actions:{setProp:u}}=(0,dF.Zo)(e=>({selected:e.events.selected,dragged:e.events.dragged})),[g,h]=(0,p.useState)(!1),x=(0,m.I0)();return(0,a.jsx)("div",{...n,ref:e=>o(d(e)),style:{minHeight:"15px",fontSize:`${r}px`,textAlign:l,color:i,fontWeight:s},onClick:()=>{h(!0),x(K())},dangerouslySetInnerHTML:{__html:t}})};m8.craft={displayName:"Button",props:{text:"متن پیشفرض",fontSize:16,color:"#000000",fontWeight:"500"},related:{settings:function(){let e=(0,m.I0)();return(0,p.useEffect)(()=>{e(V("عنوان"))},[]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(d7,{propKey:"text",type:"wysiwyg",label:"متن عنوان"}),(0,a.jsx)(d7,{propKey:"fontSize",type:"number",label:"سایز فونت"}),(0,a.jsx)(d7,{propKey:"fontWeight",type:"select",label:"وزن فونت",data:[{label:"100",value:"100"},{label:"200",value:"200"},{label:"300",value:"300"},{label:"400",value:"400"},{label:"500",value:"500"},{label:"600",value:"600"},{label:"700",value:"700"},{label:"800",value:"800"},{label:"900",value:"900"}],defaultValue:"500"}),(0,a.jsx)(d7,{propKey:"color",type:"color",label:"رنگ"})]})}}};let m7=e=>{let{label:t,w:r,h:i,src:l,fit:s,radius:n,...o}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(se.x,{size:"xs",mb:"sm",children:t}),(0,a.jsx)(sl.E,{...o,src:l,fit:s,w:r,h:i,radius:n})]})};function m9(e){let{title:t,text:r,image:i}=e;return(0,a.jsx)(dM,{children:(0,a.jsxs)(sN.r,{gutter:"70",children:[(0,a.jsx)(sD.$,{GridCol:!0,span:{md:6},children:(0,a.jsxs)(l9.k,{gap:"xl",direction:"column",children:[(0,a.jsx)("div",{dangerouslySetInnerHTML:{__html:t}}),(0,a.jsx)("div",{dangerouslySetInnerHTML:{__html:r}})]})}),(0,a.jsx)(sD.$,{span:{md:6},children:(0,a.jsx)(sl.E,{src:i,h:500,radius:"25"})})]})})}m7.craft={props:{src:"",fit:"contain",w:"100%",h:"100%",radius:"0"},related:{settings:function(){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(d7,{propKey:"src",type:"image",maxFiles:1}),(0,a.jsx)(d7,{propKey:"fit",type:"select",label:"نوع پوشش",data:[{label:"پیشفرض",value:"contain"},{label:"پوشش کامل",value:"cover"},{label:"پر کردن",value:"fill"},{label:"مقیاس به پایین",value:"scale-down"},{label:"هیچ",value:"none"}]}),(0,a.jsx)(d7,{type:"unit",label:"عرض",propKey:"w",unit:"%"}),(0,a.jsx)(d7,{type:"unit",label:"طول",propKey:"h",unit:"%"}),(0,a.jsx)(d7,{type:"unit",label:"شعاع کادر",propKey:"radius",unit:"px"})]})}}},m9.craft={props:{title:"عنوان",text:"متن پیشفرض",image:""},related:{settings:()=>(0,a.jsxs)("div",{children:[(0,a.jsx)(d7,{type:"image",propKey:"image",label:"تصویر"}),(0,a.jsx)(d7,{type:"wysiwyg",propKey:"title",label:"عنوان"}),(0,a.jsx)(d7,{type:"wysiwyg",propKey:"text",label:"متن"})]})}};let ge=[{icon:"eicon-text",label:"متن",element:(0,a.jsx)(m8,{})},{icon:"eicon-image",label:"تصویر",element:(0,a.jsx)(m7,{})},{icon:"eicon-gallery-justified",label:"دسته بندی ها",element:(0,a.jsx)(d9,{})},{icon:"eicon-gallery-grid",label:"بنر ستونی",element:(0,a.jsx)(ce,{})},{icon:"eicon-single-post",label:"هیرو باکس",element:(0,a.jsx)(m9,{})}],gt=function(){let{connectors:e}=(0,dF.jE)();return(0,a.jsx)(sz.M,{cols:2,children:ge.map((t,r)=>(0,a.jsxs)(sa.x,{style:{textAlign:"center"},ref:r=>e.create(r,t.element),children:[(0,a.jsx)(z.z,{h:70,variant:"light",color:"",style:{display:"flex",alignItems:"center",justifyContent:"center"},fullWidth:!0,children:(0,a.jsx)("i",{className:t.icon,style:{fontSize:"35px"}})}),(0,a.jsx)(se.x,{mt:"sm",ta:"center",size:"xs",fw:600,style:{whiteSpace:"break-spaces"},children:t.label})]},r))})},gr=function(e){let{setDeleted:t}=e,r=(0,m.I0)(),{actions:i,selected:l,isEnabled:s,query:n}=(0,dF.jE)((e,t)=>{let r,a=t.getEvent("selected").last();return a&&(r={id:a,name:e.nodes[a].data.name,settings:e.nodes[a].related&&e.nodes[a].related.settings,isDeletable:t.node(a).isDeletable()}),{selected:r,isEnabled:e.options.enabled}});return(0,p.useEffect)(()=>{l&&t(()=>()=>{i.delete(l.id),r(q())})},[l,i,t,n,r]),s&&l?(0,a.jsx)("div",{"data-cy":"settings-panel",children:l.settings&&p.createElement(l.settings)}):null};var ga=r(4037),gi=r.n(ga);let gl=function(){let{query:e}=(0,dF.jE)();return(0,a.jsx)(z.z,{size:"xs",h:35,onClick:()=>{let t=e.serialize();t=gi().encodeBase64(gi().compress(t))},children:"ذخیره"})},gs=[...sI,...m4,{element:(0,a.jsx)(function(){let[e,{toggle:t}]=(0,s$.q)(),[r,{toggle:i}]=(0,s$.q)(!0);(0,sq.a)("(max-width: 768px)");let l=(0,m.v9)(e=>e.editor.mode),s=(0,m.I0)(),n=(0,m.v9)(e=>e.editor),[o,d]=(0,p.useState)(null);return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(dF.ML,{enabled:!0,resolver:{WideSlider:dz,EditorContainer:dM,EditorText:m8,EditorImage:m7,HeroSection:m9,Categories:d9,GridBanner:ce},children:(0,a.jsxs)(m3.V,{header:{height:60},navbar:{width:300,breakpoint:"sm",collapsed:{mobile:!e,desktop:!r}},padding:"md",style:{direction:"rtl"},children:[(0,a.jsx)(m3.V.Header,{children:(0,a.jsxs)(sh.Z,{h:"100%",px:"md",justify:"space-between",children:[(0,a.jsxs)(sh.Z,{children:[(0,a.jsx)(m5.O,{opened:e,onClick:t,hiddenFrom:"sm",size:"sm"}),(0,a.jsx)(m5.O,{opened:r,onClick:i,visibleFrom:"sm",size:"sm"}),(0,a.jsx)(se.x,{children:"حالت ویرایشگر"})]}),(0,a.jsx)(gl,{})]})}),(0,a.jsx)(m3.V.Navbar,{children:(0,a.jsxs)(m3.V.Section,{grow:!0,component:sG.x,children:[(0,a.jsxs)(sh.Z,{justify:"space-between",children:[(0,a.jsx)(sB.A,{color:"gray",radius:0,size:"xl",onClick:()=>s(q()),children:(0,a.jsx)(sb.IconLayoutGrid,{})}),(0,a.jsx)(se.x,{children:n.title}),o&&"edit"===l?(0,a.jsx)(sB.A,{color:"red",radius:0,size:"xl",onClick:o,children:(0,a.jsx)(sb.IconTrash,{})}):(0,a.jsx)(sZ.k,{color:"gray",radius:0,size:"xl",children:(0,a.jsx)(sb.IconWand,{})})]}),(0,a.jsx)(sH.i,{}),(0,a.jsxs)(sa.x,{px:"lg",mt:"md",children:["components"===l&&(0,a.jsx)(gt,{}),"edit"===l&&(0,a.jsx)(gr,{setDeleted:d})]})]})}),(0,a.jsx)(m3.V.Main,{children:(0,a.jsx)(I.W,{mt:"md",children:(0,a.jsx)(g.j3,{})})})]})})})},{}),path:"/editor",children:[{path:"",element:(0,a.jsx)(function(){let{query:e}=(0,dF.jE)();return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(dF.RQ,{children:(0,a.jsx)(dF.W_,{is:dM,canvas:!0,"data-cy":"root-container",children:(0,a.jsx)(m8,{text:"سلام"})})})})},{})}]}],gn=(0,s.j)(E),go=new c.S({defaultOptions:{queries:{retry:2,staleTime:!1,cacheTime:!1,refetchOnMount:"always",refetchOnWindowFocus:"always",refetchOnReconnect:"always",refetchInterval:!1,refetchIntervalInBackground:!1,suspense:!1},mutations:{retry:2}}}),gd=(0,g.aj)(gs),gc=function(e){let{children:t}=e;return(0,a.jsx)(n._9,{initialDirection:"rtl",children:(0,a.jsxs)(o.M,{theme:gn,children:[(0,a.jsx)(d.T,{position:"top-right"}),(0,a.jsx)(b,{}),(0,a.jsx)(m.zt,{store:l7,children:(0,a.jsxs)(u.aH,{client:go,children:[(0,a.jsx)(g.pG,{router:gd}),t]})})]})})};r(1909);r.p,r.p;let{apiPrefix:gu}={apiPrefix:"/api",authenticatedEntryPath:"/home",unAuthenticatedEntryPath:"/sign-in",tourPath:"/",enableMock:!0};"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/service-worker.js").then(e=>{}).catch(e=>{})}),(0,i.createRoot)(document.getElementById("root")).render((0,a.jsx)(l.cY,{children:(0,a.jsx)(function(){return(0,a.jsx)(gc,{})},{})})),"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/serviceWorker.js").then(e=>{}).catch(e=>{})})},18925:function(){}},t={};function r(a){var i=t[a];if(void 0!==i)return i.exports;var l=t[a]={id:a,loaded:!1,exports:{}};return e[a].call(l.exports,l,l.exports,r),l.loaded=!0,l.exports}r.m=e,r.c=t,r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;r.t=function(a,i){if(1&i&&(a=this(a)),8&i||"object"==typeof a&&a&&(4&i&&a.__esModule||16&i&&"function"==typeof a.then))return a;var l=Object.create(null);r.r(l);var s={};e=e||[null,t({}),t([]),t(t)];for(var n=2&i&&a;"object"==typeof n&&!~e.indexOf(n);n=t(n))Object.getOwnPropertyNames(n).forEach(e=>{s[e]=()=>a[e]});return s.default=()=>a,r.d(l,s),l}})(),r.d=(e,t)=>{for(var a in t)r.o(t,a)&&!r.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},r.g=(()=>{if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(e){if("object"==typeof window)return window}})(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),r.nc=void 0,(()=>{var e=[];r.O=(t,a,i,l)=>{if(a){l=l||0;for(var s=e.length;s>0&&e[s-1][2]>l;s--)e[s]=e[s-1];e[s]=[a,i,l];return}for(var n=1/0,s=0;s<e.length;s++){for(var[a,i,l]=e[s],o=!0,d=0;d<a.length;d++)(!1&l||n>=l)&&Object.keys(r.O).every(e=>r.O[e](a[d]))?a.splice(d--,1):(o=!1,l<n&&(n=l));if(o){e.splice(s--,1);var c=i();void 0!==c&&(t=c)}}return t}})(),r.p="/",(()=>{var e={980:0};r.O.j=t=>0===e[t];var t=(t,a)=>{var i,l,[s,n,o]=a,d=0;if(s.some(t=>0!==e[t])){for(i in n)r.o(n,i)&&(r.m[i]=n[i]);if(o)var c=o(r)}for(t&&t(a);d<s.length;d++)l=s[d],r.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return r.O(c)},a=self.webpackChunknewshop=self.webpackChunknewshop||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var a=r.O(void 0,["72","361","118","857"],function(){return r(r.s=74186)});a=r.O(a)})();